if (self.CavalryLogger) { CavalryLogger.start_js(["Dkgmk"]); }

__d("VideoPlayerFormatsMap",[],(function(a,b,c,d,e,f){e.exports={live_map:"inline",live_map_sidebar:"inline",live_map_listview:"inline",live_map_tooltip:"inline",live_map_tooltip_from_listview:"inline",live_map_tooltip_from_map:"inline",video_home_inline:"inline",inline:"inline",chained:"inline",page_live_video_module:"inline",chained_suggestion:"inline",embedded_video:"inline",embedded_video_preview:"inline",embedded_video_from_ufi:"inline",ufi_comment_attachment:"inline",media_collage:"inline",channel:"channel",permalink:"permalink",snowlift:"snowlift",tv:"tv",watch_scroll:"watch_scroll",continue_watching_recommendation:"inline",tahoe:"tahoe",search_live_video_module:"inline",videohub_live:"inline",camera_post:"fb_stories",pages_cover:"inline",video_page_spotlight_unit:"inline",pages_cover_hover:"inline",pages_messaging_video:"inline",profile_overview:"inline",profile_cover:"inline",memory_leak_test:"inline",games_video_home_streamer_hub:"inline",games_video_live_recommendation:"inline",games_video_search_unit:"inline",games_video_streamer_unit:"inline",trivia_game_admin_dashboard:"misc",games_streamer_dashboard:"inline",ads_preview:"inline",discover:"inline",civic_proposal:"inline",business_feed:"inline",ads:null,animated_image_share:null,asset:null,ballot:null,broadcast_request_attachment:null,candidate_videos:null,embedded:null,embedded_page_plugin:null,gameroom_live_video_hero_banner:null,gameroom_live_video_tab:null,gameroom_live_video_thumbnail:null,games_video_home:null,games_video_home_hero:null,games_video_single_game:null,games_video_social_plugin:null,games_video_hub:null,games_video_hub_redirect_notification:null,games_video_hub_redirect_unknown:null,group_live_video_module:null,html5:null,insights:null,intern_curation:null,intern_example:null,issues_module:null,live_beeper:null,live_control_panel:null,live_map_tooltip_from_webgl:null,live_video_broadcast:null,live_video_preview:null,living_room:null,living_room_commentating:null,living_room_recap_fullscreen:null,living_room_recap_inline:null,lookback:null,messaging:null,misc:null,mobile:null,not_specified_please_fix:null,offers_detail:null,pages_finch_main_video:null,pages_finch_thumbnail_video:null,pages_finch_trailer:null,pages_video_set:null,pages_timeline_pages_cover:null,pages_home_hero:null,video_page_video_list:null,profile_video:null,profile_video_hovercard:null,profile_video_thumb:null,report_flow:null,review:null,serp_videos_tab:null,slideshow:null,srt_review:null,topic_channel_living_room:null,topic_gaming:null,trailer_og_attachment:null,trailer_timeline_collections:null,trailer_timeline_unit:null,user_video_tab:null,video_copyright_preview:null,watchlist:null,video_inline_chaining:null,videohub_featured:null,videohub_playlist:null,live_autoplay_watch_and_scroll:null,video_page_unspecified:null,spotlight_live:null,spotlight_featured:null,spotlight_popular:null,spotlight_unknown:null,videos_card:null,videos_tab:null,playlists_tab:null,playlists_card:null,playlist_page:null}}),null);
__d("VideoQualityClassInternal",[],(function(a,b,c,d,e,f){e.exports={orderedValues:["sd","hd","uhd"]}}),null);
__d("VideoViewabilityKeyEvents",[],(function(a,b,c,d,e,f){e.exports={Events:["entered_fs","exited_fs","finished_playing","paused","player_format_changed","started_playing","unpaused"]}}),null);
__d("crc16",[],(function(a,b,c,d,e,f){__p&&__p();var g=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];function h(a){var b=65535;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);if(d>255)throw new RangeError();d=(d^b>>8)&255;b=g[d]^b<<8}return(b^0)&65535}function a(a){return h(a).toString(16).padStart(4,"0")}h.hex=a;e.exports=h}),null);
__d("SparkMD5",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){return a+b&4294967295},h=function(a,b,c,d,e,f){b=g(g(b,a),g(d,f));return g(b<<e|b>>>32-e,c)},i=function(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)},j=function(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)},k=function(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)},l=function(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)},m=function(a,b){__p&&__p();var c=a[0],d=a[1],e=a[2],f=a[3];c=i(c,d,e,f,b[0],7,-680876936);f=i(f,c,d,e,b[1],12,-389564586);e=i(e,f,c,d,b[2],17,606105819);d=i(d,e,f,c,b[3],22,-1044525330);c=i(c,d,e,f,b[4],7,-176418897);f=i(f,c,d,e,b[5],12,1200080426);e=i(e,f,c,d,b[6],17,-1473231341);d=i(d,e,f,c,b[7],22,-45705983);c=i(c,d,e,f,b[8],7,1770035416);f=i(f,c,d,e,b[9],12,-1958414417);e=i(e,f,c,d,b[10],17,-42063);d=i(d,e,f,c,b[11],22,-1990404162);c=i(c,d,e,f,b[12],7,1804603682);f=i(f,c,d,e,b[13],12,-40341101);e=i(e,f,c,d,b[14],17,-1502002290);d=i(d,e,f,c,b[15],22,1236535329);c=j(c,d,e,f,b[1],5,-165796510);f=j(f,c,d,e,b[6],9,-1069501632);e=j(e,f,c,d,b[11],14,643717713);d=j(d,e,f,c,b[0],20,-373897302);c=j(c,d,e,f,b[5],5,-701558691);f=j(f,c,d,e,b[10],9,38016083);e=j(e,f,c,d,b[15],14,-660478335);d=j(d,e,f,c,b[4],20,-405537848);c=j(c,d,e,f,b[9],5,568446438);f=j(f,c,d,e,b[14],9,-1019803690);e=j(e,f,c,d,b[3],14,-187363961);d=j(d,e,f,c,b[8],20,1163531501);c=j(c,d,e,f,b[13],5,-1444681467);f=j(f,c,d,e,b[2],9,-51403784);e=j(e,f,c,d,b[7],14,1735328473);d=j(d,e,f,c,b[12],20,-1926607734);c=k(c,d,e,f,b[5],4,-378558);f=k(f,c,d,e,b[8],11,-2022574463);e=k(e,f,c,d,b[11],16,1839030562);d=k(d,e,f,c,b[14],23,-35309556);c=k(c,d,e,f,b[1],4,-1530992060);f=k(f,c,d,e,b[4],11,1272893353);e=k(e,f,c,d,b[7],16,-155497632);d=k(d,e,f,c,b[10],23,-1094730640);c=k(c,d,e,f,b[13],4,681279174);f=k(f,c,d,e,b[0],11,-358537222);e=k(e,f,c,d,b[3],16,-722521979);d=k(d,e,f,c,b[6],23,76029189);c=k(c,d,e,f,b[9],4,-640364487);f=k(f,c,d,e,b[12],11,-421815835);e=k(e,f,c,d,b[15],16,530742520);d=k(d,e,f,c,b[2],23,-995338651);c=l(c,d,e,f,b[0],6,-198630844);f=l(f,c,d,e,b[7],10,1126891415);e=l(e,f,c,d,b[14],15,-1416354905);d=l(d,e,f,c,b[5],21,-57434055);c=l(c,d,e,f,b[12],6,1700485571);f=l(f,c,d,e,b[3],10,-1894986606);e=l(e,f,c,d,b[10],15,-1051523);d=l(d,e,f,c,b[1],21,-2054922799);c=l(c,d,e,f,b[8],6,1873313359);f=l(f,c,d,e,b[15],10,-30611744);e=l(e,f,c,d,b[6],15,-1560198380);d=l(d,e,f,c,b[13],21,1309151649);c=l(c,d,e,f,b[4],6,-145523070);f=l(f,c,d,e,b[11],10,-1120210379);e=l(e,f,c,d,b[2],15,718787259);d=l(d,e,f,c,b[9],21,-343485551);a[0]=g(c,a[0]);a[1]=g(d,a[1]);a[2]=g(e,a[2]);a[3]=g(f,a[3])},n=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a.charCodeAt(c)+(a.charCodeAt(c+1)<<8)+(a.charCodeAt(c+2)<<16)+(a.charCodeAt(c+3)<<24);return b},o=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a[c]+(a[c+1]<<8)+(a[c+2]<<16)+(a[c+3]<<24);return b},p=function(a){__p&&__p();var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,n(a.substring(d-64,d)));a=a.substring(d-64);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a.charCodeAt(d)<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}e=b*8;e=e.toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(e[2],16);d=parseInt(e[1],16)||0;f[14]=a;f[15]=d;m(c,f);return c},q=function(a){__p&&__p();var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,o(a.subarray(d-64,d)));a=d-64<b?a.subarray(d-64):new Uint8Array(0);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a[d]<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}a=b*8;a=a.toString(16).match(/(.*?)(.{0,8})$/);e=parseInt(a[2],16);d=parseInt(a[1],16)||0;f[14]=e;f[15]=d;m(c,f);return c},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s=function(a){var b="",c;for(c=0;c<4;c+=1)b+=r[a>>c*8+4&15]+r[a>>c*8&15];return b},t=function(a){var b;for(b=0;b<a.length;b+=1)a[b]=s(a[b]);return a.join("")};a=function(a){return t(p(a))};b=function(){this.reset()};a("hello")!=="5d41402abc4b2a76b9719d911017c592"&&(g=function(a,b){var c=(a&65535)+(b&65535);a=(a>>16)+(b>>16)+(c>>16);return a<<16|c&65535});b.prototype.append=function(a){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));this.appendBinary(a);return this};b.prototype.appendBinary=function(a){this._buff+=a;this._length+=a.length;a=this._buff.length;var b;for(b=64;b<=a;b+=64)m(this._state,n(this._buff.substring(b-64,b)));this._buff=this._buff.substr(b-64);return this};b.prototype.end=function(a){var b=this._buff,c=b.length,d,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<c;d+=1)e[d>>2]|=b.charCodeAt(d)<<(d%4<<3);this._finish(e,c);b=a?this._state:t(this._state);this.reset();return b};b.prototype._finish=function(a,b){__p&&__p();b=b;var c;a[b>>2]|=128<<(b%4<<3);if(b>55){m(this._state,a);for(b=0;b<16;b+=1)a[b]=0}b=this._length*8;b=b.toString(16).match(/(.*?)(.{0,8})$/);c=parseInt(b[2],16);b=parseInt(b[1],16)||0;a[14]=c;a[15]=b;m(this._state,a)};b.prototype.reset=function(){this._buff="";this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length};b.hash=function(a,b){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));a=p(a);return b?a:t(a)};b.hashBinary=function(a,b){a=p(a);return b?a:t(a)};b.ArrayBuffer=function(){this.reset()};b.ArrayBuffer.prototype.append=function(a){var b=this._concatArrayBuffer(this._buff,a),c=b.length;this._length+=a.byteLength;for(a=64;a<=c;a+=64)m(this._state,o(b.subarray(a-64,a)));this._buff=a-64<c?b.subarray(a-64):new Uint8Array(0);return this};b.ArrayBuffer.prototype.end=function(a){var b=this._buff,c=b.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e;for(e=0;e<c;e+=1)d[e>>2]|=b[e]<<(e%4<<3);this._finish(d,c);b=a?this._state:t(this._state);this.reset();return b};b.ArrayBuffer.prototype._finish=b.prototype._finish;b.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.ArrayBuffer.prototype.destroy=b.prototype.destroy;b.ArrayBuffer.prototype._concatArrayBuffer=function(a,b){var c=a.length,d=new Uint8Array(c+b.byteLength);d.set(a);d.set(new Uint8Array(b),c);return d};b.ArrayBuffer.hash=function(a,b){a=q(new Uint8Array(a));return b?a:t(a)};e.exports=b}),null);
__d("LiveClockQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"client_time",type:"Float!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"live_video_clock",storageKey:null,args:[{kind:"Variable",name:"client_time",variableName:"client_time",type:"Float!"}],concreteType:"LiveClock",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"client_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"server_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"request_time",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"query",name:"LiveClockQuery",id:"1911660518872546",text:null,metadata:{},fragment:{kind:"Fragment",name:"LiveClockQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"LiveClockQuery",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("LiveVideoCopyrightActionSubscription",["BaseGraphQLSubscription","LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/video_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),video_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"live_video_copyright_action_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("LiveClockWWWTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LiveClockWWWLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveClockWWWLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveClockWWWLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setClientReceiveTimeMs=function(a){this.$1.client_receive_time_ms=a;return this};a.prototype.setClientSendTimeMs=function(a){this.$1.client_send_time_ms=a;return this};a.prototype.setRequestTimeMs=function(a){this.$1.request_time_ms=a;return this};a.prototype.setServerTimeMs=function(a){this.$1.server_time_ms=a;return this};c={client_receive_time_ms:!0,client_send_time_ms:!0,request_time_ms:!0,server_time_ms:!0};e.exports=a}),null);
__d("LowLatencyPlaybackTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LowLatencyPlaybackLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LowLatencyPlaybackLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LowLatencyPlaybackLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setAuthFlag=function(a){this.$1.auth_flag=a;return this};a.prototype.setBehindByMs=function(a){this.$1.behind_by_ms=a;return this};a.prototype.setBufferMs=function(a){this.$1.buffer_ms=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setOsBuildNumber=function(a){this.$1.os_build_number=a;return this};a.prototype.setPlaybackDesiredTimeMs=function(a){this.$1.playback_desired_time_ms=a;return this};a.prototype.setRadioType=function(a){this.$1.radio_type=a;return this};a.prototype.setRawClientTime=function(a){this.$1.raw_client_time=a;return this};a.prototype.setReactBundleVersion=function(a){this.$1.react_bundle_version=a;return this};a.prototype.setSeekCount=function(a){this.$1.seek_count=a;return this};a.prototype.setServerTimeMs=function(a){this.$1.server_time_ms=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTimeSinceLastSeekMs=function(a){this.$1.time_since_last_seek_ms=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.setVideoTimeMs=function(a){this.$1.video_time_ms=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={appid:!0,appversion:!0,auth_flag:!0,behind_by_ms:!0,buffer_ms:!0,country:!0,os_build_number:!0,playback_desired_time_ms:!0,radio_type:!0,raw_client_time:!0,react_bundle_version:!0,seek_count:!0,server_time_ms:!0,time:!0,time_since_last_seek_ms:!0,video_id:!0,video_time_ms:!0,weight:!0};e.exports=a}),null);
__d("VideoPlayerAbrTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("vpabr_proxy:VideoPlayerAbrLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("vpabr_proxy:VideoPlayerAbrLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("vpabr_proxy:VideoPlayerAbrLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setActiveIsHvq=function(a){this.$1.active_is_hvq=a;return this};a.prototype.setActiveRepresentationID=function(a){this.$1.active_representation_id=a;return this};a.prototype.setAvailableTracks=function(a){this.$1.available_tracks=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};a.prototype.setBufferedAhead=function(a){this.$1.buffered_ahead=a;return this};a.prototype.setBytes=function(a){this.$1.bytes=a;return this};a.prototype.setClientTime=function(a){this.$1.client_time=a;return this};a.prototype.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};a.prototype.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};a.prototype.setDelayMs=function(a){this.$1.delay_ms=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setFbQualityLabel=function(a){this.$1.fb_quality_label=a;return this};a.prototype.setIsHvq=function(a){this.$1.is_hvq=a;return this};a.prototype.setIsLive=function(a){this.$1.is_live=a;return this};a.prototype.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};a.prototype.setPlayhead=function(a){this.$1.playhead=a;return this};a.prototype.setReason=function(a){this.$1.reason=a;return this};a.prototype.setRepresentationID=function(a){this.$1.representation_id=a;return this};a.prototype.setScriptPath=function(a){this.$1.script_path=a;return this};a.prototype.setSession=function(a){this.$1.session=a;return this};a.prototype.setUnsampledReason=function(a){this.$1.unsampled_reason=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoDuration=function(a){this.$1.video_duration=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={active_is_hvq:!0,active_representation_id:!0,available_tracks:!0,bandwidth_estimate:!0,buffered_ahead:!0,bytes:!0,client_time:!0,client_time_begin:!0,client_time_end:!0,delay_ms:!0,event:!0,fb_quality_label:!0,is_hvq:!0,is_live:!0,player_origin_caller_specified:!0,playhead:!0,reason:!0,representation_id:!0,script_path:!0,session:!0,unsampled_reason:!0,vc:!0,video_duration:!0,video_id:!0};e.exports=a}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAccessToken=function(a){this.$1.access_token=a;return this};a.prototype.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};a.prototype.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};a.prototype.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};a.prototype.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};a.prototype.setCode=function(a){this.$1.code=a;return this};a.prototype.setConcluder=function(a){this.$1.concluder=a;return this};a.prototype.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};a.prototype.setDevicePixelRatio=function(a){this.$1.device_pixel_ratio=a;return this};a.prototype.setDroppedFrames=function(a){this.$1.dropped_frames=a;return this};a.prototype.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=a;return this};a.prototype.setError=function(a){this.$1.error=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setExpectedLength=function(a){this.$1.expected_length=a;return this};a.prototype.setInitiator=function(a){this.$1.initiator=a;return this};a.prototype.setIsLive=function(a){this.$1.is_live=a;return this};a.prototype.setIsMuted=function(a){this.$1.is_muted=a;return this};a.prototype.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};a.prototype.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};a.prototype.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};a.prototype.setLastBufferedEnd=function(a){this.$1.last_buffered_end=a;return this};a.prototype.setLastBufferedStart=function(a){this.$1.last_buffered_start=a;return this};a.prototype.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=a;return this};a.prototype.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=a;return this};a.prototype.setLength=function(a){this.$1.length=a;return this};a.prototype.setLiveheadDelta=function(a){this.$1.livehead_delta=a;return this};a.prototype.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=a;return this};a.prototype.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};a.prototype.setManifestType=function(a){this.$1.manifest_type=a;return this};a.prototype.setParentID=function(a){this.$1.parent_id=a;return this};a.prototype.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};a.prototype.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};a.prototype.setPlayerVersion=function(a){this.$1.player_version=a;return this};a.prototype.setPlayhead=function(a){this.$1.playhead=a;return this};a.prototype.setPreloadTime=function(a){this.$1.preload_time=a;return this};a.prototype.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};a.prototype.setPriorityFloat=function(a){this.$1.priority_float=a;return this};a.prototype.setPushed=function(a){this.$1.pushed=a;return this};a.prototype.setReason=function(a){this.$1.reason=a;return this};a.prototype.setRepresentationID=function(a){this.$1.representation_id=a;return this};a.prototype.setRescheduleCount=function(a){this.$1.reschedule_count=a;return this};a.prototype.setResource=function(a){this.$1.resource=a;return this};a.prototype.setResult=function(a){this.$1.result=a;return this};a.prototype.setScriptPath=function(a){this.$1.script_path=a;return this};a.prototype.setSegmentCount=function(a){this.$1.segment_count=a;return this};a.prototype.setSegmentEndTime=function(a){this.$1.segment_end_time=a;return this};a.prototype.setSegmentStartTime=function(a){this.$1.segment_start_time=a;return this};a.prototype.setSegmentTimeGap=function(a){this.$1.segment_time_gap=a;return this};a.prototype.setSequentialID=function(a){this.$1.sequential_id=a;return this};a.prototype.setSession=function(a){this.$1.session=a;return this};a.prototype.setState=function(a){this.$1.state=a;return this};a.prototype.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=a;return this};a.prototype.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=a;return this};a.prototype.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=a;return this};a.prototype.setTimeToLastByte=function(a){this.$1.time_to_last_byte=a;return this};a.prototype.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=a;return this};a.prototype.setTimeToRequestStart=function(a){this.$1.time_to_request_start=a;return this};a.prototype.setTotalFrames=function(a){this.$1.total_frames=a;return this};a.prototype.setType=function(a){this.$1.type=a;return this};a.prototype.setUpdatePeriod=function(a){this.$1.update_period=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoDuration=function(a){this.$1.video_duration=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};a.prototype.setWasDelayed=function(a){this.$1.was_delayed=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={access_token:!0,additional_buffered_ranges:!0,bandwidth_estimate:!0,client_time_begin:!0,client_time_end:!0,code:!0,concluder:!0,connection_quality_level:!0,device_pixel_ratio:!0,dropped_frames:!0,dynamic_bitrate:!0,error:!0,event:!0,expected_length:!0,initiator:!0,is_live:!0,is_muted:!0,is_page_visible:!0,is_servable_via_fbms:!0,is_templated_manifest:!0,last_buffered_end:!0,last_buffered_start:!0,last_buffering_event_end_time:!0,last_playing_event_time:!0,length:!0,livehead_delta:!0,logical_cpu_count:!0,lowest_quality_representation_id:!0,manifest_type:!0,parent_id:!0,player_origin_caller_specified:!0,player_suborigin:!0,player_version:!0,playhead:!0,preload_time:!0,previous_representation_id:!0,priority_float:!0,pushed:!0,reason:!0,representation_id:!0,reschedule_count:!0,resource:!0,result:!0,script_path:!0,segment_count:!0,segment_end_time:!0,segment_start_time:!0,segment_time_gap:!0,sequential_id:!0,session:!0,state:!0,stream_switch_reason:!0,time:!0,time_between_bytes_max:!0,time_since_main_thread_available:!0,time_to_first_byte:!0,time_to_last_byte:!0,time_to_request_sent:!0,time_to_request_start:!0,total_frames:!0,type:!0,update_period:!0,vc:!0,video_duration:!0,video_id:!0,video_playback_experience_issue:!0,was_delayed:!0,weight:!0};e.exports=a}),null);
__d("VideosInfraLoapTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setEventCreationTime=function(a){this.$1.event_creation_time=a;return this};a.prototype.setEventID=function(a){this.$1.event_id=a;return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setEventSeverity=function(a){this.$1.event_severity=a;return this};a.prototype.setMetadata=function(a){this.$1.metadata=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setParentSource=function(a){this.$1.parent_source=a;return this};a.prototype.setSource=function(a){this.$1.source=a;return this};a.prototype.setStreamID=function(a){this.$1.stream_id=a;return this};a.prototype.setStreamType=function(a){this.$1.stream_type=a;return this};a.prototype.setTraceID=function(a){this.$1.trace_id=a;return this};c={clienttime:!0,event_creation_time:!0,event_id:!0,event_name:!0,event_severity:!0,metadata:!0,parent_source:!0,source:!0,stream_id:!0,stream_type:!0,trace_id:!0};e.exports=a}),null);
__d("dispatchCustomEvent",[],(function(a,b,c,d,e,f){function b(b,c,d){var e;typeof a.CustomEvent==="function"?e=new a.CustomEvent(c,{detail:d}):(e=a.document.createEvent("CustomEvent"),e.initCustomEvent(c,!0,!0,d));b.dispatchEvent(e)}e.exports=b}),null);
__d("dispatchEvent",[],(function(a,b,c,d,e,f){function b(b,c){var d;typeof a.Event==="function"?d=new a.Event(c):(d=a.document.createEvent("Event"),d.initEvent(c,!0,!0));b.dispatchEvent(d)}e.exports=b}),null);
__d("getFullScreenElement",[],(function(a,b,c,d,e,f){function a(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}e.exports=a}),null);
__d("UITinyViewportAction",["Arbiter","ArbiterMixin","BanzaiScuba","CSS","Event","getDocumentScrollElement","queryThenMutateDOM"],(function(a,b,c,d,e,f){__p&&__p();var g=document.documentElement,h,i,j,k,l=!1,m=!1,n=!1,o=!1,p={init:function(a){__p&&__p();a=b("queryThenMutateDOM").bind(null,function(){k=k||b("getDocumentScrollElement")(),i=g.clientWidth<k.scrollWidth-1,j=g.clientHeight<400,h=j||i},function(){(h!==l||i!==m||j!==n)&&(b("CSS").conditionClass(g,"tinyViewport",h),b("CSS").conditionClass(g,"tinyWidth",i),b("CSS").conditionClass(g,"tinyHeight",j),b("CSS").conditionClass(g,"canHaveFixedElements",!h),p.inform("change",h),b("Arbiter").inform("tinyViewport/change",{tiny:h,tinyWidth:i,tinyHeight:j},"state"),l=h,m=i,n=j);if(!o){var a=new(b("BanzaiScuba"))("www_tinyview_port",null,{addBrowserFields:!0});a.addInteger("clientWidth",g.clientWidth);a.addInteger("clientHeight",g.clientHeight);a.addNormal("view",h?"tiny":"normal");a.post();o=!0}},"TinyViewport");a();b("Arbiter").subscribe("quickling/response",a);b("Event").listen(window,"resize",a)},isTiny:function(){return h},isTinyWidth:function(){return i},isTinyHeight:function(){return j}};Object.assign(p,b("ArbiterMixin"));e.exports=p}),null);
__d("LiveClock",["regeneratorRuntime","LiveClockWWWTypedLogger","RelayFBEnvironment","RelayModern","promiseDone","LiveClockQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").fetchQuery;b("RelayModern").graphql;var h=5e3,i=12e4,j=5,k=2e3,l=50,m=1e4,n=1e4,o=function(){return b("LiveClockQuery.graphql")};function a(){this.$1=!1,this.$4=n,this.$7=!1,this.$2=0,this.$9(0)}a.prototype.$9=function(a){this.$5=0};a.prototype.startClock=function(a){this.$7||(this.$7=!0,a&&a(),this.$10())};a.prototype.stopClock=function(){this.$7=!1,clearTimeout(this.$8)};a.prototype.$10=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(!this.$7){c.next=4;break}a=this.currentTimeMillis();c.next=4;return b("regeneratorRuntime").awrap(this.fetchTimes(a));case 4:case"end":return c.stop()}},null,this)};a.prototype.$11=function(a,c,d,e){var f,g;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:f=(c-a+(d-e))/2,g=e-a-(d-c),this.$12(a,c,d,e),this.$13(f,g),this.$14(f,g),this.$1=!0;case 6:case"end":return b.stop()}},null,this)};a.prototype.$14=function(a,c){var d;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:d=this.$15(a),d||(this.$6=0),d?(this.$6++,this.$4=l,this.$6>j&&(this.$4=k)):this.$16(c)?this.$4=n:(this.$4*=2,this.$4>i&&(this.$4=i),this.$4<n&&(this.$4=n));case 3:case"end":return b.stop()}},null,this)};a.prototype.$13=function(a,b){if(this.$16(b)){this.$3==0&&(this.$5+=a);return}this.$5+=a;this.$3++};a.prototype.fetchTimes=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:b("promiseDone")(g(b("RelayFBEnvironment"),o,{client_time:a},{force:!0}).then(function(a){if(a){var b=a.live_video_clock.client_time,c=a.live_video_clock.server_time*1e3;a=a.live_video_clock.request_time*1e3;var d=this.currentTimeMillis();this.$11(b,a,c,d);this.$8=setTimeout(function(){this.$10()}.bind(this),this.$4)}else return}.bind(this)));case 1:case"end":return c.stop()}},null,this)};a.prototype.currentTimeMillis=function(){return this.elapsedRealTimeMillis()+this.$2+this.$5};a.prototype.elapsedRealTimeMillis=function(){return Date.now()};a.prototype.$15=function(a){return Math.abs(a)>h};a.prototype.$16=function(a){return a>m};a.prototype.isRunning=function(){return this.$7};a.prototype.isReady=function(){return this.$1};a.prototype.$12=function(a,c,d,e){new(b("LiveClockWWWTypedLogger"))().setClientSendTimeMs(a).setRequestTimeMs(c).setServerTimeMs(d).setClientReceiveTimeMs(e).log()};e.exports=a}),null);
__d("RlAbrUtils",["Promise","AsyncRequest","XRlAbrController"],(function(a,b,c,d,e,f){__p&&__p();a={_unavailableBitrate:-1,_networkFeatureCount:8,_labelBrackets:["144p","240p","360p","480p","720p","1080p","1440p","2160p","4320p"],_reasonGetAction:"get_action",_reasonGetPolicy:"get_policy",_reasonPutExperience:"put_exp",getQualityLabelBracket:function(a,b){__p&&__p();b===void 0&&(b=!1);if(b){if(!a.endsWith("p")||a=="p")return null;b=a.replace(/p$/,"");if(isNaN(b))return null;b=parseInt(b,10);if(b<=0||b>=4320)return null;if(b<162)return"label_0";else if(b<210)return"label_1";else if(b<315)return"label_2";else if(b<420)return"label_3";else if(b<590)return"label_4";else if(b<780)return"label_5";else if(b<1260)return"label_6";else if(b<1520)return"label_7";else if(b<1880)return"label_8";else return"label_9"}var c=parseInt(a,10);return isNaN(c)||c<=0?null:this._labelBrackets.find(function(a){return c<=parseInt(a,10)})||this._labelBrackets[this._labelBrackets.length-1]},getRlAbrFeaturesDeprecated:function(a,b,c,d,e,f){__p&&__p();var g=[];for(var h=0;h<b.length;h++){var i=this.getQualityLabelBracket(b[h].fbQualityLabel);if(!i)continue;var j=b[h].bandwidth;(!j||j<=0)&&(j=1e9);g.push({label:i,bitrate:j})}i=this._labelBrackets.map(function(a){var b=g.find(function(b){return b.label===a});return b?b.bitrate:1e9});var k=null;j=0;h=0;c&&(k=this.getQualityLabelBracket(c.fbQualityLabel),j=c.bandwidth||0,h=c.isHVQ?1:0);b=this._labelBrackets.map(function(a){return a===k?1:0});c=a.currentTime||0;a=a.duration||0;a=Math.max(a-c,0)*1e3;c=[].concat(j,b,h,e,a);j=[];for(var b=0;b<this._networkFeatureCount;b++)b<d.length?j.push(d[d.length-b-1][0]||0,d[d.length-b-1][1]||0):j.push(0,0);h=[].concat(i,c,j,f);return h},getRlAbrAvailableBitrates:function(a){var b=[];for(var c=0;c<a.length;c++)b.push(a[c].bandwidth);return b},getRemainingPlayback:function(a){var b=a.duration;a=a.currentTime;b=!isNaN(b)&&!isNaN(a)&&b>a?(b-a)*1e3:-1;return b},getRlAbrFeatures:function(a,b,c,d,e){__p&&__p();b=this.getRemainingPlayback(a);a=[];if(e){e.update(Date.now());var f=e.getWatchTimeSinceLastReport(),g=e.getStallCountSinceLastReport(),h=e.getStallTimeSinceLastReport();e=e.getBufferedTimeSinceLastReport();a.push(f);a.push(e);a.push(g);a.push(h)}else a.push(-1,-1,-1,-1);return[].concat(d,c,b,a)},getRlAbrShortFeatures:function(a,b,c,d){__p&&__p();var e=Array(10).fill(this._unavailableBitrate),f=!1;for(var g=b.length-1;g>=0;g--){var h=this.getQualityLabelBracket(b[g].fbQualityLabel,!0);if(h){f=!0;h=parseInt(h.substr(-1,1),10);e[h]=b[g].bandwidth}}if(!f)return null;h=this.getRemainingPlayback(a);return[].concat(d,c,h,e)},_getRlQuery:function(a,b){if(b.length===0)return[];if(!a)a=b;else if(b.length!==a.length)return[];var c=b[b.length-1]-a[a.length-1];return[].concat(a.slice(0,a.length-1),b.slice(0,b.length-1),c)},genRlAbrShortFeaturesRecommendation:function(a,c,d){var e=b("XRlAbrController").getURIBuilder().setString("reason",this._reasonGetAction).setInt("id",d).setFloatVector("query",[a[0],a[1],a[2]]);e=self._setAvailableBitrateFeatures(a,e);e=e.getURI();return new(b("Promise"))(function(a,d){new(b("AsyncRequest"))(e).setMethod("GET").setURI(e).setReadOnly(!0).setHandler(function(b){b=b.payload.data;a(b||[])}).setErrorHandler(function(a){d([])}).setTimeoutHandler(c,function(a){d([])}).send()})},genRlAbrRecommendationDeprecated:function(a,c,d,e){a=this._getRlQuery(a,c);var f=b("XRlAbrController").getURIBuilder().setString("reason",this._reasonGetAction).setInt("id",e).setFloatVector("query",a).getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(f).setMethod("GET").setURI(f).setReadOnly(!0).setHandler(function(b){b=b.payload.data;a(b||[])}).setErrorHandler(function(a){c([])}).setTimeoutHandler(d,function(a){c([])}).send()})},genRlAbrRecommendation:function(a,c,d,e){var f=b("XRlAbrController").getURIBuilder().setString("reason",this._reasonGetAction).setString("session_id",e).setFloatVector("query",a).setFloatVector("bitrates",c);f=f.getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(f).setMethod("GET").setURI(f).setReadOnly(!0).setHandler(function(b){b=b.payload.data;a(b||[])}).setErrorHandler(function(a){c([])}).setTimeoutHandler(d,function(a){c([])}).send()})},fetchRlAbrModel:function(a,c,d){var e=b("XRlAbrController").getURIBuilder().setString("reason",this._reasonGetPolicy).setString("session_id",a).setString("smc_tier",c);e=e.getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(e).setMethod("GET").setURI(e).setReadOnly(!0).setHandler(function(b){var c=b.payload.model_id,d=b.payload.weights;b=b.payload.biases;a([c,d,b]||[])}).setErrorHandler(function(a){c([])}).setTimeoutHandler(d,function(a){c([])}).send()})},_setAvailableBitrateFeatures:function(a,b){for(var c=0;c<10;c++)a[c+3]!==this._unavailableBitrate&&(b=b.setFloat("label_"+c,a[c+3]));return b},putExperience:function(a,c,d,e,f,g,h,i,j,k){var l=b("XRlAbrController").getURIBuilder().setString("reason",this._reasonPutExperience).setString("smc_tier",c).setString("model_id",d).setInt("mdp_step",e).setString("session_id",a).setFloatVector("query",f).setFloatVector("bitrates",g).setFloat("prev_reward",h).setInt("action",i).setFloatVector("action_prob",j);l=l.getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(l).setMethod("GET").setURI(l).setReadOnly(!0).setHandler(function(b){a([])}).setErrorHandler(function(a){c([])}).setTimeoutHandler(k,function(a){c([])}).send()})}};e.exports=a}),null);
__d("RlAlgebra",["Random"],(function(a,b,c,d,e,f){__p&&__p();a={matrixMultiply:function(a,b){__p&&__p();if(a.length==0||a[0].length==0||b.length==0)throw new Error("Matrix or vector has 0 size.");var c=[];for(var d=0;d<a.length;d++){if(a[d].length!==b.length)throw new Error("Matrix and vector not compatible");var e=0;for(var f=0;f<b.length;f++)e+=a[d][f]*b[f];c.push(e)}return c},vectorAdd:function(a,b){if(a.length!==b.length)throw new Error("Two vectors have different length");var c=[];for(var d=0;d<a.length;d++)c.push(a[d]+b[d]);return c},vectorRelu:function(a){var b=[];for(var c=0;c<a.length;c++)a[c]>0?b.push(a[c]):b.push(0);return b},vectorSoftmax:function(a){__p&&__p();if(a.length==0)throw new Error("vector length is 0");var b=[],c=0,d=Math.max.apply(Math,a);for(var e=0;e<a.length;e++){var f=Math.exp(a[e]-d);b.push(f);c+=f}for(var f=0;f<a.length;f++)b[f]/=c;return b},vectorSample:function(a,c){__p&&__p();c===void 0&&(c=1e-6);if(a.length==0)throw new Error("vector length is 0");var d=1/c,e=[],f=0;for(var g=0;g<a.length;g++)f+=a[g],e.push(f);if(Math.abs(e[e.length-1]-1)>c)throw new Error("probability distribution does not sum to 1");g=(Math.floor(b("Random").random()*d)+1)/d;f=-1;for(var a=0;a<e.length;a++)if(g<=e[a]){f=a;break}return f},policyInference:function(a,b,c,d){__p&&__p();var e=[];for(var f=0;f<d.length;f++){var g=[].concat(c,d[f]);g=g;for(var h=0;h<a.length;h++)g=this.matrixMultiply(a[h],g),g=this.vectorAdd(g,b[h]),h<a.length-1&&(g=this.vectorRelu(g));e.push(g[0])}h=this.vectorSoftmax(e);return h}};e.exports=a}),null);
__d("StaleVideoMonitor",["EventEmitter","EventListener","SubscriptionsHandler","clearTimeout","performanceNow","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g,h=1500;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this),this.$StaleVideoMonitor4=null,this.$StaleVideoMonitor1=new(b("SubscriptionsHandler"))(),this.$StaleVideoMonitor2=a.currentTime,this.$StaleVideoMonitor3=b("performanceNow")(),this.$StaleVideoMonitor5=a,this.$StaleVideoMonitor1.addSubscriptions(b("EventListener").listen(a,"playing",function(){return this.$StaleVideoMonitor6()}.bind(this)),b("EventListener").listen(a,"play",function(){return this.$StaleVideoMonitor6()}.bind(this)),b("EventListener").listen(a,"timeupdate",function(){return this.$StaleVideoMonitor6()}.bind(this)))}a.prototype.$StaleVideoMonitor7=function(){"use strict";__p&&__p();if(this.$StaleVideoMonitor5){if(this.$StaleVideoMonitor5.paused||this.$StaleVideoMonitor5.playbackRate<=0)return;var a=this.$StaleVideoMonitor5.currentTime,c=this.$StaleVideoMonitor5.buffered,d=!1,e;for(e=0;e<c.length;++e){var f=c.start(e),g=c.end(e);if(f>a)break;if(f<=a&&g>=a+1){d=!0;break}}d&&(a===this.$StaleVideoMonitor2?this.emit("stale",b("performanceNow")()-this.$StaleVideoMonitor3,(a-this.$StaleVideoMonitor2)*1e3):this.$StaleVideoMonitor8())}};a.prototype.$StaleVideoMonitor9=function(a){"use strict";this.$StaleVideoMonitor10(),this.$StaleVideoMonitor4=b("setTimeout")(function(){return this.$StaleVideoMonitor7()}.bind(this),a)};a.prototype.$StaleVideoMonitor10=function(){"use strict";this.$StaleVideoMonitor4!==null&&(b("clearTimeout")(this.$StaleVideoMonitor4),this.$StaleVideoMonitor4=null)};a.prototype.$StaleVideoMonitor8=function(){"use strict";this.$StaleVideoMonitor6()};a.prototype.$StaleVideoMonitor6=function(){"use strict";this.$StaleVideoMonitor5&&(this.$StaleVideoMonitor2=this.$StaleVideoMonitor5.currentTime,this.$StaleVideoMonitor3=b("performanceNow")(),this.$StaleVideoMonitor9(h))};a.prototype.$StaleVideoMonitor11=function(){"use strict";this.$StaleVideoMonitor1&&this.$StaleVideoMonitor1.release()};a.prototype.notifyBuffering=function(){"use strict";this.$StaleVideoMonitor10()};a.prototype.notifyBuffered=function(){"use strict";this.$StaleVideoMonitor9(h)};a.prototype.destroy=function(){"use strict";this.$StaleVideoMonitor11(),this.$StaleVideoMonitor10(),this.$StaleVideoMonitor5=null};e.exports=a}),null);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this.$1=[],this.$1=a}a.prototype.start=function(a){"use strict";this.$1[a]||g(0,2205);return this.$1[a].startTime};a.prototype.end=function(a){"use strict";this.$1[a]||g(0,2205);return this.$1[a].endTime};a.prototype.length=function(){"use strict";return this.$1.length};e.exports=a}),null);
__d("VideoData",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){"use strict";this.$1=a||{aspect_ratio:0,original_height:0,original_width:0,video_id:""}}h.prototype.hasHD=function(){"use strict";return!!this.$1.hd_src};h.prototype.getEncodingTag=function(){"use strict";return this.$1.encoding_tag};h.prototype.getContentCategory=function(){"use strict";return this.$1.content_category};h.prototype.getVideoID=function(){"use strict";return this.$1.video_id};h.prototype.getVideoURL=function(){"use strict";return this.$1.video_url};h.prototype.getAspectRatio=function(){"use strict";return this.$1.aspect_ratio};h.prototype.getRotation=function(){"use strict";return this.$1.rotation||0};h.prototype.hasSubtitles=function(){"use strict";return!!this.$1.subtitles_src};h.prototype.hasDashManifest=function(){"use strict";return!!this.$1.dash_manifest};h.prototype.getDashManifest=function(){"use strict";return this.$1.dash_manifest};h.prototype.hasHighlightsManifest=function(){"use strict";return!!this.$1.highlights_manifest};h.prototype.getHighlightsManifest=function(){"use strict";return this.$1.highlights_manifest};h.prototype.getDashPrefetchedRepresentationIDs=function(){"use strict";return this.$1.dash_prefetched_representation_ids};h.prototype.getSubtitlesSrc=function(){"use strict";this.$1.subtitles_src||g(0,1109);return this.$1.subtitles_src};h.prototype.getPlayableSrcSD=function(){"use strict";return this.$1.sd_src_no_ratelimit?this.$1.sd_src_no_ratelimit:this.getPlayableSrcRateLimitedSD()};h.prototype.getPlayableSrcHD=function(){"use strict";return this.$1.hd_src_no_ratelimit?this.$1.hd_src_no_ratelimit:this.getPlayableSrcRateLimitedHD()};h.prototype.getPlayableSrcRateLimitedSD=function(){"use strict";return this.$1.sd_src};h.prototype.getPlayableSrcRateLimitedHD=function(){"use strict";return this.$1.hd_src};h.prototype.getLiveManifestUrl=function(){"use strict";this.isLiveStream()||g(0,1110);return this.getPlayableSrcRateLimitedSD()};h.prototype.hasRateLimit=function(){"use strict";return!!this.$1.sd_src_no_ratelimit};h.prototype.getStreamType=function(){"use strict";this.$1.stream_type||g(0,1111);return this.$1.stream_type};h.prototype.isBroadcast=function(){"use strict";return!!this.$1.is_broadcast};h.prototype.isServableViaFbms=function(){"use strict";return!!this.$1.is_servable_via_fbms};h.prototype.isLiveStream=function(){"use strict";return!!this.$1.is_live_stream};h.prototype.isLowLatency=function(){"use strict";return!!this.$1.is_low_latency};h.prototype.isPredictiveDash=function(){"use strict";return!!this.$1.is_predictive_dash};h.prototype.isFacecastAudio=function(){"use strict";return!!this.$1.is_facecast_audio};h.prototype.liveRoutingToken=function(){"use strict";return this.$1.live_routing_token};h.prototype.getHDTag=function(){"use strict";return this.$1.hd_tag};h.prototype.getSDTag=function(){"use strict";return this.$1.sd_tag};h.prototype.getProjection=function(){"use strict";return this.$1.projection};h.prototype.getPlayerVersionOverwrite=function(){"use strict";return this.$1.player_version_overwrite};h.prototype.getFalloverData=function(){"use strict";var a=this.$1.fallover_data;return a?a.map(function(a){return new h(a)}):[]};h.prototype.getSphericalConfig=function(){"use strict";return this.$1.spherical_config};h.prototype.isSpherical=function(){"use strict";return!!this.$1.is_spherical};h.prototype.getOriginalHeight=function(){"use strict";return this.$1.original_height};h.prototype.getOriginalWidth=function(){"use strict";return this.$1.original_width};h.prototype.getOverrideConfig=function(){"use strict";return this.$1.override_config};h.prototype.getRawData=function(){"use strict";return this.$1};h.prototype.getPrefetchCache=function(){"use strict";return this.$1.prefetch_cache};h.prototype.getWidevineCert=function(){"use strict";return this.$1.widevine_cert};e.exports=h}),null);
__d("VideoMimeTypes",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}f="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b={h264baseline:a(g,b(30),f),h264main30avc:a(g,c(30),f),h264main31avc:a(g,c(31),f),h264high50avc:a(g,d(50),f),h264high51avc:a(g,d(51),f)};e.exports=b}),null);
__d("canVideoPlayType",["DOM"],(function(a,b,c,d,e,f){var g=null;function a(a){g=g||b("DOM").create("video");return!("canPlayType"in g)?"":g.canPlayType(a)}e.exports=a}),null);
__d("isHTML5VideoImplementationUnavailable",["VideoMimeTypes","canVideoPlayType","supportsHTML5Video"],(function(a,b,c,d,e,f){a=function(a){if(a){a=b("canVideoPlayType")(b("VideoMimeTypes").h264main30avc);return a!=="probably"}return!b("supportsHTML5Video")()};e.exports=a}),null);
__d("VideoPlayerMetaData",["regeneratorRuntime","Promise","AsyncRequest","AsyncResponse","TimeSlice","VideoData","XVideoDataAsyncController","isHTML5VideoImplementationUnavailable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=12e4;function i(a){this.videoID=a}i.prototype.getVideoID=function(){return this.videoID};i.prototype.genVideoData=function(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:a===void 0&&(a={});e.prev=1;d=this.$1;(!d||a.forceRefetch)&&(this.$2&&(clearTimeout(this.$2),this.$2=null),d=this.$1=this.$3(a),this.$2=setTimeout(b("TimeSlice").guard(function(){this.$1=null,c()}.bind(this),"VideoPlayerMetaData cacheTimeout",{propagationType:b("TimeSlice").PropagationType.ORPHAN}),a.cacheTimeout||h));e.next=6;return b("regeneratorRuntime").awrap(d);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9;e.t0=e["catch"](1);throw e.t0;case 12:case"end":return e.stop()}},null,this,[[1,9]])};i.prototype.$3=function(a){__p&&__p();var c=b("XVideoDataAsyncController").getURIBuilder().setString("video_id",this.videoID).setBool("supports_html5_video",!b("isHTML5VideoImplementationUnavailable")(!0)),d=a.forceFlash,e=a.allowDashPrefetch;a=a.forceHD;d!==undefined&&(c=c.setBool("force_flash",d));e!==undefined&&(c=c.setBool("allow_dash_prefetch",e));a!==undefined&&(c=c.setBool("force_hd",a));var f=c.getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(f).setMethod("GET").setURI(f).setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(d){d=d.payload;!d.error?a(new(b("VideoData"))(d)):c(d.error)}).setErrorHandler(function(a){c(a.getErrorDescription())}).send()})};i.get=function(a){g[a]||(g[a]=new i(a));return g[a]};i.genVideoData=function(a,c,d){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c===void 0&&(c={});d===void 0&&(d=function(){});e.next=4;return b("regeneratorRuntime").awrap(i.get(a).genVideoData(c,d));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},null,this)};e.exports=i}),null);
__d("VideoPlayerUtils",[],(function(a,b,c,d,e,f){__p&&__p();a={getBufferedAheadOf:function(a){var b=1/60,c=a.currentTime;a=a.buffered;for(var d=0;d<a.length;d++){var e=a.start(d)-b,f=a.end(d)+b;if(c>=e&&c<=f)return Math.max(a.end(d)-c,0)}return 0}};e.exports=a}),null);
__d("VideoPushParametersHelper",["URI","VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){__p&&__p();var g=/(.*)\.(xx|fna)\.fbcdn\.net/;function a(a){"use strict";this.$1=new(b("URI"))(a);return this}a.prototype.setStreamEndOffset=function(a){"use strict";this.$2=Math.min(Math.floor(a)+1,b("VideoPlayerShakaGlobalConfig").getNumber("live_max_segments_to_push",2));this.$4=Math.floor(a)+1;return this};a.prototype.setSegmentStartTime=function(a){"use strict";this.$3=a;return this};a.prototype.setPushVideoRepresentationID=function(a){"use strict";this.$5=a;return this};a.prototype.setPushAudioRepresentationID=function(a){"use strict";this.$6=a;return this};a.prototype.setUseLongCacheForManifest=function(a){"use strict";this.$7=a;return this};a.prototype.getURL=function(){"use strict";var a=this.getPushQueryParameters();a.forEach(function(a,b){this.$1.addQueryData(b,a)}.bind(this));return this.$1.toString()};a.prototype.getPushQueryParameters=function(){"use strict";var a=new Map(),c=g.test(this.$1.toString());c&&b("VideoPlayerShakaGlobalConfig").getBool("live_send_push_headers",!0)&&(this.$2!=null&&a.set("_nc_p_n",this.$2),this.$3!=null?a.set("_nc_p_ts",this.$3):this.$4!=null&&a.set("_nc_p_o",this.$4),this.$5!=null&&this.$6!=null&&(a.set("_nc_p_rid",this.$5),a.set("_nc_p_arid",this.$6)),this.$7&&a.set("_nc_nc","1"));return a};a.prototype.getSegmentsToPush=function(){"use strict";return this.$2};a.prototype.getSegmentStartTime=function(){"use strict";return this.$3};a.prototype.getSegmentOffset=function(){"use strict";return this.$4};a.prototype.getPushVideoRepresentationID=function(){"use strict";return this.$5};a.prototype.getPushAudioRepresentationID=function(){"use strict";return this.$6};a.prototype.getUseLongCacheForManifest=function(){"use strict";return this.$7};e.exports=a}),null);
__d("VideoQualityClasses",["VideoQualityClassInternal"],(function(a,b,c,d,e,f){e.exports=b("VideoQualityClassInternal").orderedValues}),null);
__d("VideoVisibilityObserver",["EventEmitter","IntersectionObserver","VideoPlayerExperiments","WWWSiteOrganizationGating","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f){__p&&__p();var g,h=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1];c=b("WWWSiteOrganizationGating").largerBlueBar;d=c?49:44;var i="-"+d+"px 0px 0px";f=babelHelpers.inherits(a,b("EventEmitter"));g=f&&f.prototype;function a(a){"use strict";__p&&__p();g.constructor.call(this);this.$VideoVisibilityObserver4=function(a){a=a[a.length-1];var c=this.$VideoVisibilityObserver1,d=this.$VideoVisibilityObserver2;this.$VideoVisibilityObserver1=a.intersectionRatio;this.$VideoVisibilityObserver2=b("intersectionObserverEntryIsIntersecting")(a);(c!==this.$VideoVisibilityObserver1||d!==this.$VideoVisibilityObserver2)&&this.emit("visibilityChanged",this.$VideoVisibilityObserver1)}.bind(this);this.$VideoVisibilityObserver1=0;this.$VideoVisibilityObserver2=!1;var c=h,d=b("VideoPlayerExperiments").videoVisibilityObserverUseMinimumThreshold;d&&(c=[.5]);this.$VideoVisibilityObserver3=new(b("IntersectionObserver"))(this.$VideoVisibilityObserver4,{threshold:c,rootMargin:i});this.$VideoVisibilityObserver3.observe(a)}a.prototype.destroy=function(){"use strict";this.$VideoVisibilityObserver3&&(this.$VideoVisibilityObserver3.disconnect(),this.$VideoVisibilityObserver3=null)};a.prototype.getIsIntersecting=function(){"use strict";return this.$VideoVisibilityObserver2};a.prototype.getCurrentIntersectionRatio=function(){"use strict";return this.$VideoVisibilityObserver1};e.exports=a}),null);
__d("VideoWatchTimeTracker",["VideoPlayerUtils"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){"use strict";this.$1=a,this.$2=b,this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$11=this.$2.currentTime,this.$12=0,this.$13=0,this.$14=null,this.STATE_PAUSE="pause",this.STATE_PLAYING="playing",this.STATE_BUFFERING_START="buffering_start",this.STATE_BUFFERING_END="buffering_end"}a.prototype.$15=function(){"use strict";var a=Math.max(this.$2.currentTime-this.$11,0);this.$4+=a;this.$3+=a;this.$11=this.$2.currentTime};a.prototype.$16=function(a){"use strict";if(this.$13>0){a=Math.max(a-this.$13,0);this.$8+=a;this.$7+=a}};a.prototype.$17=function(){"use strict";var a=b("VideoPlayerUtils").getBufferedAheadOf(this.$2),c=Math.max(this.$2.currentTime+a-this.$11-this.$12,0);this.$10+=c;this.$9+=c;this.$12=a};a.prototype.seekStart=function(){"use strict";this.$17(),this.$15()};a.prototype.seekEnd=function(){"use strict";this.$11=this.$2.currentTime,this.$12=b("VideoPlayerUtils").getBufferedAheadOf(this.$2)};a.prototype.pause=function(){"use strict";this.$14=this.STATE_PAUSE,this.$17(),this.$15()};a.prototype.playing=function(){"use strict";this.$17(),this.$15(),this.$14=this.STATE_PLAYING};a.prototype.bufferingStart=function(a){"use strict";this.$14!=this.STATE_PAUSE?(this.$13=a,this.$6+=1,this.$5+=1):(this.$11=this.$2.currentTime,this.$12=b("VideoPlayerUtils").getBufferedAheadOf(this.$2)),this.$14=this.STATE_BUFFERING_START};a.prototype.bufferingEnd=function(a){"use strict";this.$17(),this.$15(),this.$16(a),this.$14=this.STATE_BUFFERING_END,this.$13=0};a.prototype.update=function(a){"use strict";this.$14==this.STATE_PLAYING?(this.$17(),this.$15()):this.$14==this.STATE_BUFFERING_START&&this.$16(a)};a.prototype.getWatchTimeSinceLastReport=function(){"use strict";var a=this.$4;this.$4=0;return a};a.prototype.getTotalWatchTime=function(){"use strict";return this.$3};a.prototype.getStallTimeSinceLastReport=function(){"use strict";var a=this.$8;this.$8=0;return a};a.prototype.getTotalStallTime=function(){"use strict";return this.$7};a.prototype.getStallCountSinceLastReport=function(){"use strict";var a=this.$6;this.$6=0;return a};a.prototype.getTotalStallCount=function(){"use strict";return this.$5};a.prototype.getBufferedTimeSinceLastReport=function(){"use strict";var a=this.$10;this.$10=0;return a};a.prototype.getTotalBufferedTime=function(){"use strict";return this.$9};a.prototype.getGuid=function(){"use strict";return this.$1};e.exports=a}),null);
__d("VideoWithFallbackMode",["Event","SubscriptionsHandler","TimeSlice","VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerReason","Visibility"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){"use strict";this.$1=!1,this.$2=!1,this.$5=function(){this.$1=!0,b("VideoPlayerExperiments").disableFallbackModeForInactiveTab&&this.$2&&(this.$6.play(b("VideoPlayerReason").FALLBACK_MODE),this.$2=!1)}.bind(this),this.$8=function(){this.$1=!1}.bind(this),this.$3=new(b("SubscriptionsHandler"))(),c||(c=a,a=null),this.$4=c,a&&this.enable(a)}a.prototype.enable=function(a){"use strict";__p&&__p();this.$3.engage();this.$6=a;if(this.$6.isImplementationUnavailable()||this.$6.getOption("SphericalVideoPlayer","isUnavailable")){this.$7(b("VideoPlayerLoggerFallbackReasons").FLASH_UNAVAILABLE);return}this.$3.addSubscriptions(b("Event").listen(window,"blur",this.$8),b("Event").listen(window,"focus",this.$5),b("Visibility").addListener(b("Visibility").HIDDEN,this.$8),b("Visibility").addListener(b("Visibility").VISIBLE,this.$5),a.addListener("error",this.$9.bind(this)));if(this.$4.fallbackTimeoutMs){a=this.$4.fallbackTimeoutMs;this.$10=setTimeout(b("TimeSlice").guard(function(){this.$6.isState("loading")&&(this.$6.pause(b("VideoPlayerReason").FALLBACK_MODE),this.$7(b("VideoPlayerLoggerFallbackReasons").TIMEOUT),this.$2=!0)}.bind(this),"VideoWithFallbackMode fallbackTimeout",{propagationType:b("TimeSlice").PropagationType.EXECUTION}),a)}};a.prototype.disable=function(){"use strict";this.$3.release(),clearTimeout(this.$10),this.$10=null,this.$6=null};a.prototype.$9=function(a){"use strict";if(this.$6.isState("fallback"))return;this.$6.isState("playing")&&this.$6.pause(b("VideoPlayerReason").FALLBACK_MODE);this.$6.abortLoading();a?this.$7(a):(this.$7(b("VideoPlayerLoggerFallbackReasons").FLASH_ERROR),this.$2=!0)};a.prototype.$7=function(a){"use strict";if(b("VideoPlayerExperiments").disableFallbackModeForInactiveTab&&!this.$1)return;this.$6.setState("fallback");a===b("VideoPlayerLoggerFallbackReasons").TIMEOUT&&this.$6.emit("VideoWithStallRecoveryOverlay/timeout");this.$6.logEvent(b("VideoPlayerLoggerEvent").ENTERED_FALLBACK,{debug_reason:a})};e.exports=a}),null);
__d("VideoPlayerApiEvents",[],(function(a,b,c,d,e,f){a=["buffered","buffering","bufferingProgress","beginPlayback","updateStatus","logEvent","pausePlayback","playbackNotAllowed","clickVideo","clickForTracking","finishPlayback","unmuteVideo","muteVideo","changeVolume","turnOffAutoplay","updateBuffer","updateMetadata","qualityChange","updateViewportBegin","updateViewportMove","updateViewportEnd","dimensionsChange","viewportChange","wheelScroll","error","loadedSubtitles","toggleSubtitles","toggleFullscreen","seekEnd","seekRangeChanged","streamInterrupted","streamResumed","networkInterrupted","networkResumed","debug/dashPlayerEvent","abortedLoading","restoringAfterAbort","restoredAfterAbort","sphericalOrientationChange","videoNodeStaled"];e.exports=a}),null);
__d("AbstractVideoPlayerApi",["invariant","EventEmitter","VideoPlayerApiEvents"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(a,b("EventEmitter"));i=h&&h.prototype;a.prototype.addListener=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i.addListener.apply(this,b)};a.prototype.emit=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i.emit.apply(this,b)};a.prototype.setRelativeSphericalOrientation=function(a,b){"use strict"};a.isImplementationUnavailable=function(){"use strict";return!0};a.prototype.isDrm=function(){"use strict";return!1};a.prototype.setup=function(){"use strict"};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("VideoConfig",[],(function(a,b,c,d,e,f){function a(a){Object.assign(this,a)}e.exports=a}),null);
__d("MediaBufferingDetector",["Event","EventEmitter","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerShakaGlobalConfig","clearInterval","performanceNow","setInterval"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,c){"use strict";g.constructor.call(this),this.$MediaBufferingDetector1=a,this.$MediaBufferingDetector2=new(b("SubscriptionsHandler"))(),this.$MediaBufferingDetector1.paused||this.$MediaBufferingDetector8(),this.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(this.$MediaBufferingDetector1,"playing",function(){return this.$MediaBufferingDetector9()}.bind(this)),b("Event").listen(this.$MediaBufferingDetector1,"pause",function(){return this.$MediaBufferingDetector10()}.bind(this)),b("Event").listen(this.$MediaBufferingDetector1,"ended",function(){return this.$MediaBufferingDetector11()}.bind(this)),b("Event").listen(this.$MediaBufferingDetector1,"timeupdate",function(){return this.$MediaBufferingDetector12()}.bind(this))),this.$MediaBufferingDetector13("drop_buffering_detection_from_html5_api",!1)&&this.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(this.$MediaBufferingDetector1,"waiting",function(){return this.$MediaBufferingDetector14()}.bind(this)))}a.prototype.$MediaBufferingDetector15=function(){"use strict";var a=b("performanceNow")(),c=this.$MediaBufferingDetector1.currentTime;a=a-this.$MediaBufferingDetector5;c=c-this.$MediaBufferingDetector6;c=c*1e3;c=a-c;var d=b("VideoPlayerHTML5Experiments").disableBufferAtEndOfPlayback&&this.$MediaBufferingDetector1.currentTime===this.$MediaBufferingDetector1.duration;a*.2<Math.abs(c)&&!d?this.$MediaBufferingDetector16():this.$MediaBufferingDetector17();this.$MediaBufferingDetector18()};a.prototype.$MediaBufferingDetector18=function(){"use strict";this.$MediaBufferingDetector5=b("performanceNow")(),this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime};a.prototype.$MediaBufferingDetector8=function(){"use strict";if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector18();this.$MediaBufferingDetector4=b("setInterval")(function(){return this.$MediaBufferingDetector15()}.bind(this),500)};a.prototype.$MediaBufferingDetector19=function(){"use strict";b("clearInterval")(this.$MediaBufferingDetector4),this.$MediaBufferingDetector4=null};a.prototype.$MediaBufferingDetector16=function(){"use strict";if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!0;this.emit("bufferingStart")};a.prototype.$MediaBufferingDetector17=function(){"use strict";if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!1;this.emit("bufferingEnd")};a.prototype.$MediaBufferingDetector9=function(){"use strict";this.$MediaBufferingDetector17(),this.$MediaBufferingDetector8()};a.prototype.$MediaBufferingDetector10=function(){"use strict";this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};a.prototype.$MediaBufferingDetector11=function(){"use strict";this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};a.prototype.$MediaBufferingDetector12=function(){"use strict";this.$MediaBufferingDetector1.paused||(this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector8())};a.prototype.$MediaBufferingDetector14=function(){"use strict";this.$MediaBufferingDetector19(),this.$MediaBufferingDetector16()};a.prototype.$MediaBufferingDetector13=function(a,c){"use strict";return this.$MediaBufferingDetector7?this.$MediaBufferingDetector7.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};a.prototype.destroy=function(){"use strict";b("VideoPlayerExperiments").fireBufferingEndEventOnDestroy&&this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector2.release()};e.exports=a}),null);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}a.prototype.updateFrameBuffer=function(){"use strict";__p&&__p();this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,c=this.$1.clientHeight||this.$1.height,d=a,e=c,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:c,0,0,a,c)}else g.drawImage(this.$2,(a-d)/2,(c-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};a.prototype.getDOMNode=function(){"use strict";return this.$1};a.prototype.updateDimensions=function(a,b){"use strict";this.$4=a,this.$5=b};e.exports=a}),null);
__d("VideoPlaybackQuality",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().droppedVideoFrames;a=a.webkitDroppedFrameCount;return typeof a==="number"?a:0}function b(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().totalVideoFrames;a=a.webkitDecodedFrameCount;return typeof a==="number"?a:0}e.exports={getDroppedFrames:a,getTotalFrames:b}}),null);
__d("onCanPlayHTMLMediaElement",["invariant","EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a>=b("HTMLMediaElementReadyStates").HAVE_FUTURE_DATA}function i(a,c){a instanceof window.HTMLMediaElement||g(0,4493);h(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"canplay",c)}i.once=function(a,b){var c=i(a,function(){if(!c)return;c.remove();c=null;for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];b.apply(this,d)}.bind(this))};e.exports=i}),null);
__d("onLoadedMetadataHTMLMediaElement",["EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a>=b("HTMLMediaElementReadyStates").HAVE_METADATA}function h(a,c){g(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"loadedmetadata",c)}h.once=function(a,b){var c=h(a,function(){c.remove();for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];b.apply(this,d)}.bind(this))};e.exports=h}),null);
__d("seekHTMLMediaElementTo",["EventListener","onLoadedMetadataHTMLMediaElement","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){__p&&__p();if(a.currentTime==c)return d&&b("setImmediate")(d);try{a.currentTime=c}catch(a){}if(a.currentTime)var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()});else b("onLoadedMetadataHTMLMediaElement")(a,function(){a.currentTime=c;var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()})})}e.exports=a}),null);
__d("VideoPlayerHTML5Api",["cx","Promise","regeneratorRuntime","AbstractVideoPlayerApi","Arbiter","Bootloader","CSS","Deferred","DOM","DOMDimensions","Event","EventListener","FBLogger","HVideoPlayerMixin","MediaBufferingDetector","Run","StaleVideoMonitor","SubscriptionsHandler","TimeRanges","VideoData","VideoFrameBuffer","VideoPlaybackQuality","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","VideoPlayerMemLeakExperiments","VideoPlayerReason","VideoPlayerShakaGlobalConfig","VideoPlayerVersions","VideoQualityClasses","VideoWatchTimeTracker","classWithMixins","dangerouslyOverrideMediaElementEndedProperty","dispatchEvent","getHTMLMediaElementMutedState","isHTML5VideoImplementationUnavailable","mixin","onCanPlayHTMLMediaElement","requireWeak","seekHTMLMediaElementTo"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("VideoPlaybackQuality").getDroppedFrames,j=b("VideoPlaybackQuality").getTotalFrames,k=null;b("requireWeak")("TVViewerConfigsManager",function(a){return k=a});function l(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}function m(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"Error code "+a+" is unknown"}}var n=-1,o=.05,p=476,q=476;a=babelHelpers.inherits(r,b("classWithMixins")(b("AbstractVideoPlayerApi"),b("mixin")(b("HVideoPlayerMixin"))));h=a&&a.prototype;function r(a,c){"use strict";__p&&__p();h.constructor.call(this);this.$VideoPlayerHTML5Api37=a;this.$VideoPlayerHTML5Api43=c?c.shakaConfig:null;this.$VideoPlayerHTML5Api15=this.$VideoPlayerHTML5Api37.id;this.preventSeekLoggingInMixin=!0;this.$VideoPlayerHTML5Api62("allow_seek_logging_in_mixin",!1)&&(this.preventSeekLoggingInMixin=!1);a=this.$VideoPlayerHTML5Api63();this.$VideoPlayerHTML5Api55=a.width;this.$VideoPlayerHTML5Api14=a.height;c?this.$VideoPlayerHTML5Api9=c:this.$VideoPlayerHTML5Api9=JSON.parse(this.$VideoPlayerHTML5Api37.getAttribute("data-config"));this.$VideoPlayerHTML5Api5=new(b("MediaBufferingDetector"))(this.$VideoPlayerHTML5Api37,this.$VideoPlayerHTML5Api43);this.$VideoPlayerHTML5Api5.addListener("bufferingStart",function(){return this.$VideoPlayerHTML5Api64()}.bind(this));this.$VideoPlayerHTML5Api5.addListener("bufferingEnd",function(){return this.$VideoPlayerHTML5Api65()}.bind(this));this.$VideoPlayerHTML5Api24=n;this.$VideoPlayerHTML5Api26=b("getHTMLMediaElementMutedState")(this.$VideoPlayerHTML5Api37);this.$VideoPlayerHTML5Api53=this.$VideoPlayerHTML5Api37.volume;this.$VideoPlayerHTML5Api25=!1;this.$VideoPlayerHTML5Api22=null;this.$VideoPlayerHTML5Api30=!1;this.$VideoPlayerHTML5Api3=!1;this.$VideoPlayerHTML5Api32=this.$VideoPlayerHTML5Api37.getAttribute("preload")=="auto";this.$VideoPlayerHTML5Api33=null;this.$VideoPlayerHTML5Api39=new(b("StaleVideoMonitor"))(this.$VideoPlayerHTML5Api37);this.$VideoPlayerHTML5Api39.addListener("stale",function(a,b){return this.$VideoPlayerHTML5Api66(a,b)}.bind(this));this.$VideoPlayerHTML5Api12=!1;this.$VideoPlayerHTML5Api42=!1;this.$VideoPlayerHTML5Api9.lazyPreload&&(this.$VideoPlayerHTML5Api9.onafterloadRegister?b("Run").onAfterLoad(function(){return this.$VideoPlayerHTML5Api37.setAttribute("preload",this.$VideoPlayerHTML5Api9.lazyPreload)}.bind(this)):this.$VideoPlayerHTML5Api37.setAttribute("preload",this.$VideoPlayerHTML5Api9.lazyPreload));this.$VideoPlayerHTML5Api11=this.$VideoPlayerHTML5Api9.disableNativeControls;this.$VideoPlayerHTML5Api46=this.$VideoPlayerHTML5Api9.subtitlesActive;this.$VideoPlayerHTML5Api67();this.preventPauseLoggingInMixin=!1;this.$VideoPlayerHTML5Api44=new(b("SubscriptionsHandler"))();this.$VideoPlayerHTML5Api68();this.$VideoPlayerHTML5Api20=this.$VideoPlayerHTML5Api9.useRateLimited;this.$VideoPlayerHTML5Api69(!1);a=b("VideoQualityClasses").indexOf("hd");this.$VideoPlayerHTML5Api19=this.$VideoPlayerHTML5Api9.minQuality!==null&&b("VideoQualityClasses").indexOf(this.$VideoPlayerHTML5Api9.minQuality)>=a;this.$VideoPlayerHTML5Api27=this.$VideoPlayerHTML5Api9.minQuality;this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api9.maxQuality;this.$VideoPlayerHTML5Api2=this.$VideoPlayerHTML5Api9.accessToken;this.$VideoPlayerHTML5Api40=this.$VideoPlayerHTML5Api9.startTimestamp;this.$VideoPlayerHTML5Api34=o;this.$VideoPlayerHTML5Api4=this.$VideoPlayerHTML5Api9.autoFullscreenHD;this.$VideoPlayerHTML5Api31=null;this.$VideoPlayerHTML5Api56=!1;this.$VideoPlayerHTML5Api57=!1;this.$VideoPlayerHTML5Api58=this.$VideoPlayerHTML5Api9.unloadShouldCancelPendingRequest;this.$VideoPlayerHTML5Api52=this.$VideoPlayerHTML5Api43?this.$VideoPlayerHTML5Api43.getBool("enable_video_watch_time_tracker",!1)?new(b("VideoWatchTimeTracker"))(this.$VideoPlayerHTML5Api9.playerInstanceKey,this.$VideoPlayerHTML5Api37):null:null}r.prototype.setup=function(){"use strict";this.switchVideo(0),this.initLogger(this.$VideoPlayerHTML5Api70.bind(this),this.$VideoPlayerHTML5Api9.useEventTime,this.$VideoPlayerHTML5Api62("overwrite_video_current_time_property",!1),this.$VideoPlayerHTML5Api62("fix_overwritten_get_video_current_time",!1),this.$VideoPlayerHTML5Api62("fire_seek_events",!1)),this.$VideoPlayerHTML5Api71()};r.prototype.getAdClientToken=function(){"use strict";this.$VideoPlayerHTML5Api9.ad_client_token};r.prototype.$VideoPlayerHTML5Api66=function(a,c){"use strict";this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").STALE,{stale_detect_time_delta:a,stale_video_current_time_delta:c}),this.$VideoPlayerHTML5Api9.nudgeStaleVideo&&typeof this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs==="number"&&this.seek(this.getCurrentTimePosition()+this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs/1e3),b("VideoPlayerExperiments").showStaleOverlayOnVideoNodeStaled&&this.emit("videoNodeStaled")};r.prototype.$VideoPlayerHTML5Api64=function(){"use strict";this.emit("buffering"),this.$VideoPlayerHTML5Api39.notifyBuffering(),this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.bufferingStart(Date.now())};r.prototype.$VideoPlayerHTML5Api65=function(){"use strict";this.emit("buffered"),this.$VideoPlayerHTML5Api39.notifyBuffered(),this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.bufferingEnd(Date.now())};r.prototype.$VideoPlayerHTML5Api72=function(a){"use strict";this.emit("bufferingProgress",a)};r.prototype.$VideoPlayerHTML5Api73=function(){"use strict";this.emit("networkInterrupted")};r.prototype.$VideoPlayerHTML5Api74=function(){"use strict";this.emit("networkResumed")};r.prototype.$VideoPlayerHTML5Api75=function(){"use strict";this.emit("streamInterrupted"),this.$VideoPlayerHTML5Api56=!0};r.prototype.$VideoPlayerHTML5Api76=function(){"use strict";this.emit("seekRangeChanged")};r.prototype.$VideoPlayerHTML5Api77=function(){"use strict";this.emit("streamResumed"),this.$VideoPlayerHTML5Api56=!1};r.prototype.$VideoPlayerHTML5Api62=function(a,c){"use strict";return this.$VideoPlayerHTML5Api43?this.$VideoPlayerHTML5Api43.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};r.prototype.getVideoPlayerShakaConfig=function(){"use strict";return this.$VideoPlayerHTML5Api43||b("VideoPlayerShakaGlobalConfig")};r.prototype.isStreamInterrupted=function(){"use strict";return this.$VideoPlayerHTML5Api56};r.prototype.getVideoID=function(){"use strict";return this.$VideoPlayerHTML5Api10?this.$VideoPlayerHTML5Api10.getVideoID():this.$VideoPlayerHTML5Api9.video_id};r.prototype.getDroppedFrames=function(){"use strict";return i(this.$VideoPlayerHTML5Api37)};r.prototype.getTotalFrames=function(){"use strict";return j(this.$VideoPlayerHTML5Api37)};r.prototype.isDrm=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.isDrm():!1};r.prototype.getDebug=function(){"use strict";return{VideoPlayerHTML5DashPlayer:this.$VideoPlayerHTML5Api38}};r.prototype.getDOMElement=function(){"use strict";return this.$VideoPlayerHTML5Api37};r.prototype.getVideoElement=function(){"use strict";return this.$VideoPlayerHTML5Api37};r.prototype.getSubscriptions=function(){"use strict";return this.$VideoPlayerHTML5Api44};r.onImplementationReady=function(a,b){"use strict";b()};r.prototype.destroy=function(a){"use strict";if(this.$VideoPlayerHTML5Api12)return;a=a||{};this.$VideoPlayerHTML5Api12=!0;this.$VideoPlayerHTML5Api78();b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api5.destroy();a.renderStillFrame?this.abortLoading(a):(b("VideoPlayerHTML5Experiments").destroyWithoutStillFrame?this.abortLoadingWithoutStillFrame():this.abortLoading(a),this.$VideoPlayerHTML5Api79(),this.$VideoPlayerHTML5Api80&&b("DOM").remove(this.$VideoPlayerHTML5Api80));b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api44.release()};r.prototype.getVideoInfo=function(){"use strict";if(!this.$VideoPlayerHTML5Api10)return null;var a=this.getAvailableVideoQualities();return{isHD:a&&this.getSelectedVideoQuality()==a[a.length-1],streamType:this.$VideoPlayerHTML5Api10.getStreamType(),hasHD:a&&a.length>1,areSubtitlesActive:this.areSubtitlesActive(),areSubtitlesAutogenerated:this.areSubtitlesAutogenerated(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api18,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api38?"DASH manifest":this.$VideoPlayerHTML5Api81(),hasSubtitles:this.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api10.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api20,projection:this.getVideoProjection(),tagSD:this.$VideoPlayerHTML5Api10.getSDTag(),tagHD:this.$VideoPlayerHTML5Api10.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api10.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api10.isLiveStream()?this.$VideoPlayerHTML5Api10.getLiveManifestUrl():null}};r.isImplementationUnavailable=function(a){"use strict";return b("isHTML5VideoImplementationUnavailable")(a)};r.prototype.pause=function(a){"use strict";__p&&__p();this.$VideoPlayerHTML5Api22=a;if(a==="unloaded"&&!this.isPaused()){a=this.$VideoPlayerHTML5Api58||b("VideoPlayerHTML5Experiments").unloadShouldCancelPendingRequest;a&&this.$VideoPlayerHTML5Api17?this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,this.addWatchTimeData({reason:"unloaded"})):this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"unloaded"}));this.$VideoPlayerHTML5Api57=!0;this.preventPauseLoggingInMixin=!0}this.$VideoPlayerHTML5Api82();this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.pause():this.$VideoPlayerHTML5Api37.pause()};r.prototype.$VideoPlayerHTML5Api69=function(a){"use strict";this.$VideoPlayerHTML5Api17=a};r.prototype.preload=function(){"use strict";this.$VideoPlayerHTML5Api32||(this.$VideoPlayerHTML5Api1&&this.$VideoPlayerHTML5Api83(),this.$VideoPlayerHTML5Api32=!0,this.$VideoPlayerHTML5Api37.setAttribute("preload","auto"))};r.prototype.isPreloading=function(){"use strict";return this.$VideoPlayerHTML5Api32};r.prototype.play=function(a){"use strict";__p&&__p();this.$VideoPlayerHTML5Api51||(this.$VideoPlayerHTML5Api51=a);this.$VideoPlayerHTML5Api23=a;if(!this.isPaused()){b("VideoPlayerHTML5Experiments").shouldDispatchPlayingEvent?(b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"play"),setTimeout(function(){return b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"playing")}.bind(this),0)):this.$VideoPlayerHTML5Api84();return}this.$VideoPlayerHTML5Api30=!0;this.$VideoPlayerHTML5Api69(!0);if(this.$VideoPlayerHTML5Api1){b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"play");this.$VideoPlayerHTML5Api83();this.$VideoPlayerHTML5Api3=!0;return}this.$VideoPlayerHTML5Api85()};r.prototype.$VideoPlayerHTML5Api82=function(){"use strict";this.$VideoPlayerHTML5Api3&&this.isPaused()&&b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"pause"),this.$VideoPlayerHTML5Api69(!1),this.$VideoPlayerHTML5Api86()};r.prototype.$VideoPlayerHTML5Api86=function(){"use strict";this.$VideoPlayerHTML5Api30=!1,this.$VideoPlayerHTML5Api3=!1};r.prototype.$VideoPlayerHTML5Api87=function(){"use strict";this.$VideoPlayerHTML5Api37.setAttribute("preload","auto"),this.$VideoPlayerHTML5Api32=!0,this.$VideoPlayerHTML5Api37.load(),this.$VideoPlayerHTML5Api37.muted=this.$VideoPlayerHTML5Api26};r.prototype.seek=function(a){"use strict";__p&&__p();var b=this.$VideoPlayerHTML5Api62("clear_buffer_on_seek_back",!1),c=this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.getNumber("clear_buffer_on_seek_back_delta",0);this.$VideoPlayerHTML5Api38&&b&&typeof c==="number"&&this.$VideoPlayerHTML5Api37.currentTime-a>=c&&this.$VideoPlayerHTML5Api38.clearBufferAfterSeekingIfLowerQuality(a);this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.seekStart();this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api62("current_time_during_ready_state_zero_throws",!1))this.$VideoPlayerHTML5Api37.readyState!==0&&(this.$VideoPlayerHTML5Api37.currentTime=a);else try{this.$VideoPlayerHTML5Api37.currentTime=a}catch(a){}this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.seekEnd()};r.prototype.removeRotation=function(){"use strict";b("CSS").removeClass(this.$VideoPlayerHTML5Api37,"_56jr"),b("CSS").removeClass(this.$VideoPlayerHTML5Api37,"_56js"),b("CSS").removeClass(this.$VideoPlayerHTML5Api37,"_56jt"),this.$VideoPlayerHTML5Api37.style.marginLeft="",this.$VideoPlayerHTML5Api37.style.marginTop="",this.$VideoPlayerHTML5Api37.style.width="",this.$VideoPlayerHTML5Api37.style.height=""};r.prototype.applyRotation=function(a){"use strict";__p&&__p();if(!a)return;b("CSS").conditionClass(this.$VideoPlayerHTML5Api37,"_56jr",a==90);b("CSS").conditionClass(this.$VideoPlayerHTML5Api37,"_56js",a==180);b("CSS").conditionClass(this.$VideoPlayerHTML5Api37,"_56jt",a==270);if(a==180)return;a=this.$VideoPlayerHTML5Api14;var c=this.$VideoPlayerHTML5Api55,d=(a-c)/2,e=(c-a)/2;this.$VideoPlayerHTML5Api37.style.marginLeft=e+"px";this.$VideoPlayerHTML5Api37.style.marginTop=d+"px";this.$VideoPlayerHTML5Api37.style.height=c+"px";this.$VideoPlayerHTML5Api37.style.width=a+"px"};r.prototype.$VideoPlayerHTML5Api88=function(a){"use strict";this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.setContext("content_category",a.getContentCategory()||"content_category"),this.$VideoPlayerHTML5Api43&&a.isLowLatency()?this.$VideoPlayerHTML5Api43.setContext("latency_level","low"):this.$VideoPlayerHTML5Api43&&a.isPredictiveDash()&&this.$VideoPlayerHTML5Api43.setContext("latency_level","predictive")};r.prototype.switchVideo=function(a){"use strict";__p&&__p();if(!this.$VideoPlayerHTML5Api9.videoData||this.$VideoPlayerHTML5Api9.videoData.length<=a)return;a=new(b("VideoData"))(this.$VideoPlayerHTML5Api9.videoData[a]);this.$VideoPlayerHTML5Api10=a;a.getOverrideConfig()&&this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.setOverrideConfig(a.getOverrideConfig());this.$VideoPlayerHTML5Api88(a);if((a.hasDashManifest()||a.isLiveStream())&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.isSupported(a)&&!this.$VideoPlayerHTML5Api9.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();var c,d;this.$VideoPlayerHTML5Api16=this.$VideoPlayerHTML5Api9.isHighlightEnabled&&a.hasHighlightsManifest();c=a.getDashManifest();a.isLiveStream()&&(d=a.getLiveManifestUrl());var e=a.getDashPrefetchedRepresentationIDs();e=new this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api37,e,{accessToken:this.$VideoPlayerHTML5Api2,config:this.$VideoPlayerHTML5Api9.shakaConfig,minPlayQuality:this.$VideoPlayerHTML5Api27,maxPlayQuality:this.$VideoPlayerHTML5Api28,width:this.$VideoPlayerHTML5Api55,height:this.$VideoPlayerHTML5Api14,manifest:c,manifestUrl:d,isLive:a.isLiveStream(),isServableViaFbms:a.isServableViaFbms(),startTimestamp:this.$VideoPlayerHTML5Api40,videoID:this.getVideoID(),playerInstanceKey:this.$VideoPlayerHTML5Api9.playerInstanceKey,disableStreaming:this.$VideoPlayerHTML5Api9.disableStreaming,playerOrigin:this.$VideoPlayerHTML5Api9.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api9.playerSuborigin,resolutionConstraintMaxHeight:this.$VideoPlayerHTML5Api9.resolutionConstraintMaxHeight,resolutionConstraintMaxWidth:this.$VideoPlayerHTML5Api9.resolutionConstraintMaxWidth,useStrictTrackDimensionsExclusionLogic:this.$VideoPlayerHTML5Api9.useStrictTrackDimensionsExclusionLogic,isSpherical:this.$VideoPlayerHTML5Api9.isSpherical,getSource:this.$VideoPlayerHTML5Api9.getSource,vpcPlayingStateEmitter:this.$VideoPlayerHTML5Api9.vpcPlayingStateEmitter,streamPriorityAdjuster:this.$VideoPlayerHTML5Api9.streamPriorityAdjuster,videoLiveTrace:this.$VideoPlayerHTML5Api9.videoLiveTrace?this.$VideoPlayerHTML5Api9.videoLiveTrace:null,videoLicenseUri:this.$VideoPlayerHTML5Api9.videoLicenseUri?this.$VideoPlayerHTML5Api9.videoLicenseUri:null,prefetchCache:a.getPrefetchCache(),isGraphApiVideoLicenseUri:this.$VideoPlayerHTML5Api9.isGraphApiVideoLicenseUri,widevineCert:a.getWidevineCert(),videoWatchTimeTracker:this.$VideoPlayerHTML5Api52});e.addListener("seekRangeChanged",function(){return this.$VideoPlayerHTML5Api76()}.bind(this));e.addListener("bufferingStart",function(){return this.$VideoPlayerHTML5Api64()}.bind(this));e.addListener("bufferingEnd",function(){return this.$VideoPlayerHTML5Api65()}.bind(this));e.addListener("bufferingProgress",this.$VideoPlayerHTML5Api72.bind(this));e.addListener("tracksChanged",function(){return this.emit("qualityChange")}.bind(this));e.addListener("streamInterrupted",function(){return this.$VideoPlayerHTML5Api75()}.bind(this));e.addListener("streamResumed",function(){return this.$VideoPlayerHTML5Api77()}.bind(this));e.addListener("networkInterrupted",function(){return this.$VideoPlayerHTML5Api73()}.bind(this));e.addListener("networkResumed",function(){return this.$VideoPlayerHTML5Api74()}.bind(this));e.addListener("adaptation",function(a){a=a.reason;b("VideoPlayerHTML5Experiments").dropQualityChange||this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").QUALITY_CHANGE,{reason:a});this.emit("qualityChange")}.bind(this));e.addListener("representation_ended",function(a){this.logRepresentationEnded(a)}.bind(this));e.addListener("blocked_paused_representation_ended",function(){this.onBlockedPausedRepresentationEnded()}.bind(this));e.addListener("debug/dashPlayerEvent",function(a){return this.emit("debug/dashPlayerEvent",a)}.bind(this));e.addListener("error",function(a){return this.$VideoPlayerHTML5Api89(a)}.bind(this));e.addListener("cea608AvailabilityChanged",function(){this.$VideoPlayerHTML5Api90()}.bind(this));e.addListener("cea608CaptionsParsed",function(a){this.$VideoPlayerHTML5Api61||(this.$VideoPlayerHTML5Api61=this.$VideoPlayerHTML5Api91()),this.$VideoPlayerHTML5Api61.then(function(b){b.appendFragments(a),this.$VideoPlayerHTML5Api90()}.bind(this))["catch"](function(a){return b("FBLogger")("video").catching(a).mustfix("Caught error in cea608 stream")})}.bind(this));e.setup();this.$VideoPlayerHTML5Api38=e}else{c=this.$VideoPlayerHTML5Api81();c&&(this.$VideoPlayerHTML5Api37.src=c);this.$VideoPlayerHTML5Api40&&this.seek(this.$VideoPlayerHTML5Api40)}this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.removeSubtitles();a.hasSubtitles()&&this.$VideoPlayerHTML5Api92(this.$VideoPlayerHTML5Api10.getSubtitlesSrc());this.removeRotation();this.applyRotation(a.getRotation())};r.prototype.switchToStreamType=function(a){"use strict"};r.prototype.replaceVideoDataFromURL=function(a){"use strict"};r.prototype.getDashAudioConfiguration=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getDashAudioConfiguration():"none"};r.prototype.getAudioStreamInfoIDDebug=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api38){var a=this.$VideoPlayerHTML5Api38.getDebug();if(a.VideoSource){a=a.VideoSource.getAudioTracks();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.active)return d.streamInfoID}}}return null};r.prototype.getVideoTracksDebug=function(){"use strict";if(this.$VideoPlayerHTML5Api38){var a=this.$VideoPlayerHTML5Api38.getDebug();if(a.VideoSource)return a.VideoSource.getVideoTracks()}return null};r.prototype.getCurrentlyPlayingStreamInfoID=function(){"use strict";var a=this.getCurrentTimePosition();if(this.$VideoPlayerHTML5Api38)return a!=null?this.$VideoPlayerHTML5Api38.getStreamInfoIDForTimePosition(a):null;else return this.$VideoPlayerHTML5Api19?this.$VideoPlayerHTML5Api10.getHDTag():this.$VideoPlayerHTML5Api10.getSDTag()};r.prototype.getLocalEstimator=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getLocalEstimator():null};r.prototype.unmute=function(){"use strict";if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!1;this.$VideoPlayerHTML5Api26=!1;this.emit("unmuteVideo");return}this.$VideoPlayerHTML5Api37.muted=!1};r.prototype.mute=function(){"use strict";if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!0;this.$VideoPlayerHTML5Api26=!0;this.emit("muteVideo");return}this.$VideoPlayerHTML5Api37.muted=!0};r.prototype.setRotation=function(a){"use strict";this.removeRotation(),this.applyRotation(a)};r.prototype.setDimensions=function(a,b){"use strict";this.removeRotation(),this.$VideoPlayerHTML5Api55=a,this.$VideoPlayerHTML5Api14=b,this.applyRotation(this.$VideoPlayerHTML5Api10.getRotation()),this.$VideoPlayerHTML5Api41&&this.$VideoPlayerHTML5Api41.updateDimensions(a,b),this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setDimensions(a,b),this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.setDimensions(a),this.emit("dimensionsChange",a,b)};r.prototype.setVideoStreamOffset=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setVideoStreamOffset(a)};r.prototype.$VideoPlayerHTML5Api93=function(){"use strict";this.$VideoPlayerHTML5Api37.controls=!this.$VideoPlayerHTML5Api11};r.prototype.$VideoPlayerHTML5Api67=function(){"use strict";this.$VideoPlayerHTML5Api37.controls=this.$VideoPlayerHTML5Api37.controls&&!this.$VideoPlayerHTML5Api11};r.prototype.$VideoPlayerHTML5Api68=function(){"use strict";this.$VideoPlayerHTML5Api13=b("EventListener").listen(this.$VideoPlayerHTML5Api37,"error",this.$VideoPlayerHTML5Api94.bind(this)),b("VideoPlayerMemLeakExperiments").clear_html5_error_handler||this.$VideoPlayerHTML5Api44.addSubscriptions(this.$VideoPlayerHTML5Api13),this.$VideoPlayerHTML5Api44.addSubscriptions(b("EventListener").listen(this.$VideoPlayerHTML5Api37,"playing",this.$VideoPlayerHTML5Api95.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"play",this.$VideoPlayerHTML5Api84.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"ended",this.$VideoPlayerHTML5Api96.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"waiting",this.$VideoPlayerHTML5Api97.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"pause",this.$VideoPlayerHTML5Api98.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"volumechange",this.$VideoPlayerHTML5Api99.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"mousedown",this.$VideoPlayerHTML5Api100.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"mouseup",this.$VideoPlayerHTML5Api101.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"timeupdate",this.$VideoPlayerHTML5Api102.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"click",this.$VideoPlayerHTML5Api103.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"loadedmetadata",this.$VideoPlayerHTML5Api104.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"progress",this.$VideoPlayerHTML5Api105.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"seeked",this.$VideoPlayerHTML5Api106.bind(this)),b("EventListener").capture(this.$VideoPlayerHTML5Api37.parentNode,"pause",this.$VideoPlayerHTML5Api107.bind(this)))};r.prototype.$VideoPlayerHTML5Api108=function(a){"use strict";this.preventPauseLoggingInMixin=!1,a.preventDefault(),a.stopPropagation()};r.prototype.$VideoPlayerHTML5Api107=function(a){"use strict";if(a.target!==this.$VideoPlayerHTML5Api37)return;this.$VideoPlayerHTML5Api37.ended||(this.$VideoPlayerHTML5Api57&&this.$VideoPlayerHTML5Api108(a),a.lastPauseReason=this.$VideoPlayerHTML5Api22);this.$VideoPlayerHTML5Api57=!1;this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.pause()};r.prototype.$VideoPlayerHTML5Api105=function(){"use strict";__p&&__p();var a=this.$VideoPlayerHTML5Api37.buffered,b=0,c=0,d=a.length;while(d-->0){var e=a.end(d),f=a.start(d);if(f<=this.$VideoPlayerHTML5Api37.currentTime){c=f;b=e-f;break}}this.$VideoPlayerHTML5Api71();this.$VideoPlayerHTML5Api109("flash/updateBuffer",{duration:b,offset:c})};r.prototype.$VideoPlayerHTML5Api78=function(){"use strict";clearTimeout(this.$VideoPlayerHTML5Api29)};r.prototype.$VideoPlayerHTML5Api71=function(){"use strict";this.$VideoPlayerHTML5Api78(),this.$VideoPlayerHTML5Api37.networkState===this.$VideoPlayerHTML5Api37.NETWORK_LOADING&&(this.$VideoPlayerHTML5Api29=setTimeout(function(){return this.$VideoPlayerHTML5Api110()}.bind(this),r.networkTimeout))};r.prototype.$VideoPlayerHTML5Api110=function(){"use strict";var a=this.$VideoPlayerHTML5Api37.buffered,c=0;for(var d=0;d<a.length;d++){var e=a.start(d),f=a.end(d);c+=f-e}this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").NETWORK_TIMEOUT,{buffered:c})};r.prototype.$VideoPlayerHTML5Api102=function(){"use strict";var a;this.$VideoPlayerHTML5Api1?a=this.$VideoPlayerHTML5Api1.currentTime:a=this.$VideoPlayerHTML5Api37.currentTime;this.$VideoPlayerHTML5Api109("flash/updateStatus",{position:+a.toFixed(3)})};r.prototype.$VideoPlayerHTML5Api103=function(a){"use strict";if(a.button!==0)return;this.emit("clickVideo");a.preventDefault()};r.prototype.isPaused=function(){"use strict";return b("VideoPlayerHTML5Experiments").fixIE11EndedPausedState?this.$VideoPlayerHTML5Api37.paused||this.$VideoPlayerHTML5Api37.ended:this.$VideoPlayerHTML5Api37.paused};r.prototype.$VideoPlayerHTML5Api111=function(){"use strict";var a=this.$VideoPlayerHTML5Api37.buffered;return a.length>0&&a.start(0)===0&&a.end(0)===this.$VideoPlayerHTML5Api37.duration};r.prototype.$VideoPlayerHTML5Api97=function(){"use strict";if(this.$VideoPlayerHTML5Api62("drop_buffering_detection_from_html5_api",!1))return;this.$VideoPlayerHTML5Api111()||(this.$VideoPlayerHTML5Api54=!0,this.$VideoPlayerHTML5Api109("flash/buffering"))};r.prototype.setVolume=function(a){"use strict";this.$VideoPlayerHTML5Api37.volume=a};r.prototype.$VideoPlayerHTML5Api99=function(){"use strict";this.$VideoPlayerHTML5Api37.muted!==this.$VideoPlayerHTML5Api26&&this.$VideoPlayerHTML5Api37.volume===this.$VideoPlayerHTML5Api53&&this.$VideoPlayerHTML5Api37.volume>0?(this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api37.muted,this.$VideoPlayerHTML5Api53=this.$VideoPlayerHTML5Api37.volume,!this.$VideoPlayerHTML5Api37.muted?this.$VideoPlayerHTML5Api109("flash/unmuteVideo"):this.$VideoPlayerHTML5Api109("flash/muteVideo")):(this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api37.muted,this.$VideoPlayerHTML5Api53=this.$VideoPlayerHTML5Api37.volume,this.$VideoPlayerHTML5Api109("flash/changeVolume",{volume:this.$VideoPlayerHTML5Api37.volume})),this.$VideoPlayerHTML5Api37.muted||this.$VideoPlayerHTML5Api109("flash/turnOffAutoplay",{reason:"unmuted"})};r.prototype.$VideoPlayerHTML5Api100=function(a){"use strict";a.button===0&&(this.$VideoPlayerHTML5Api25=!0)};r.prototype.$VideoPlayerHTML5Api101=function(a){"use strict";a.button===0&&(this.$VideoPlayerHTML5Api25=!1)};r.prototype.$VideoPlayerHTML5Api95=function(){"use strict";this.$VideoPlayerHTML5Api69(!1),this.$VideoPlayerHTML5Api54&&(this.$VideoPlayerHTML5Api54=!1,this.$VideoPlayerHTML5Api109("flash/buffered")),this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.playing()};r.prototype.$VideoPlayerHTML5Api84=function(){"use strict";this.$VideoPlayerHTML5Api18=!0,this.$VideoPlayerHTML5Api93(),this.$VideoPlayerHTML5Api90(),this.$VideoPlayerHTML5Api109("flash/beginPlayback",{position:+this.$VideoPlayerHTML5Api37.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api23}),this.$VideoPlayerHTML5Api71()};r.prototype.$VideoPlayerHTML5Api98=function(event){"use strict";__p&&__p();var a=this.$VideoPlayerHTML5Api62("abort_loading_decisioning_logic",!1);if(this.$VideoPlayerHTML5Api37.ended||a&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(event)){this.$VideoPlayerHTML5Api18=!1;this.$VideoPlayerHTML5Api69(!1);return}if(this.$VideoPlayerHTML5Api37.seeking&&this.$VideoPlayerHTML5Api22===b("VideoPlayerReason").SEEK)return;if(!this.$VideoPlayerHTML5Api62("ignore_left_button_when_pausing",!0)&&this.$VideoPlayerHTML5Api25)return;if(this.$VideoPlayerHTML5Api22===b("VideoPlayerReason").SEEK){this.$VideoPlayerHTML5Api22=null;return}(this.$VideoPlayerHTML5Api22===null||this.$VideoPlayerHTML5Api22===b("VideoPlayerReason").USER)&&this.$VideoPlayerHTML5Api109("flash/turnOffAutoplay",{reason:"manually_paused"});this.$VideoPlayerHTML5Api22=null;this.$VideoPlayerHTML5Api18=!1;this.$VideoPlayerHTML5Api69(!1);this.$VideoPlayerHTML5Api67();this.$VideoPlayerHTML5Api109("flash/pausePlayback",{position:this.$VideoPlayerHTML5Api37.currentTime.toFixed(2)})};r.prototype.$VideoPlayerHTML5Api96=function(){"use strict";if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api67();this.$VideoPlayerHTML5Api18=!1;this.$VideoPlayerHTML5Api69(!1);this.$VideoPlayerHTML5Api109("flash/finishPlayback");this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.hideSubtitles()};r.prototype.$VideoPlayerHTML5Api106=function(){"use strict";this.emit("seekEnd",{position:+this.$VideoPlayerHTML5Api37.currentTime.toFixed(3)})};r.prototype.getEstimatedBandwidth=function(){"use strict";return this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka?this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.getEstimatedBandwidth():null};r.prototype.$VideoPlayerHTML5Api104=function(){"use strict";this.$VideoPlayerHTML5Api109("flash/updateMetadata")};r.prototype.$VideoPlayerHTML5Api89=function(a){"use strict";this.emit("error",babelHelpers["extends"]({},a,{isPlayback:this.$VideoPlayerHTML5Api30}))};r.prototype.$VideoPlayerHTML5Api94=function(){"use strict";if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api37.error)return;var a=this.$VideoPlayerHTML5Api37.error,b=a.message;b||(b=l(a.code));this.emit("error",{error:m(a.code),isPlayback:this.$VideoPlayerHTML5Api30,message:b})};r.prototype.$VideoPlayerHTML5Api70=function(event,a){"use strict";event===b("VideoPlayerLoggerEvent").STARTED_PLAYING&&this.$VideoPlayerHTML5Api38&&(a.longest_init_response_time=this.$VideoPlayerHTML5Api38.getLongestInitResponseTime()),a.projection=this.getVideoProjection(),this.$VideoPlayerHTML5Api109("flash/logEvent",{logData:babelHelpers["extends"]({event:event},a)})};r.prototype.$VideoPlayerHTML5Api109=function(event,a){"use strict";b("Arbiter").inform(event,babelHelpers["extends"]({divID:this.$VideoPlayerHTML5Api15},a)),this.emit(event.substr("flash/".length),a)};r.prototype.getLastPlayReason=function(){"use strict";return this.$VideoPlayerHTML5Api23};r.prototype.getVideoPlayReason=function(){"use strict";return this.$VideoPlayerHTML5Api51};r.prototype.isMuted=function(){"use strict";return this.$VideoPlayerHTML5Api26};r.prototype.setPlaybackRate=function(a){"use strict";this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.setPlaybackRate(a):this.$VideoPlayerHTML5Api37.playbackRate=a};r.prototype.getPlaybackRate=function(){"use strict";if(this.$VideoPlayerHTML5Api38)return this.$VideoPlayerHTML5Api38.getPlaybackRate();else return this.$VideoPlayerHTML5Api37.playbackRate};r.prototype.getPlaybackDuration=function(){"use strict";return this.$VideoPlayerHTML5Api1?this.$VideoPlayerHTML5Api1.playbackDuration:this.$VideoPlayerHTML5Api37.duration||0};r.prototype.getVolume=function(){"use strict";return this.$VideoPlayerHTML5Api37.volume};r.prototype.getCurrentTimePosition=function(){"use strict";return this.$VideoPlayerHTML5Api37.currentTime};r.prototype.getBufferEndPosition=function(){"use strict";var a=this.$VideoPlayerHTML5Api37.buffered;if(a&&a.length>0){var b=a.length-1;return a.end(b)}return null};r.prototype.$VideoPlayerHTML5Api81=function(){"use strict";if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api9.fallbackSources.HD?this.$VideoPlayerHTML5Api9.fallbackSources.HD:this.$VideoPlayerHTML5Api9.fallbackSources.SD;if(this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api10.hasHD())return this.$VideoPlayerHTML5Api112();else return this.$VideoPlayerHTML5Api113()};r.prototype.$VideoPlayerHTML5Api112=function(){"use strict";if(this.$VideoPlayerHTML5Api20)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedHD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcHD()};r.prototype.$VideoPlayerHTML5Api113=function(){"use strict";if(this.$VideoPlayerHTML5Api20)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedSD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcSD()};r.prototype.toggleSubtitles=function(){"use strict";this.$VideoPlayerHTML5Api46=!this.$VideoPlayerHTML5Api46,this.$VideoPlayerHTML5Api90(),this.emit("toggleSubtitles")};r.prototype.hasSubtitles=function(){"use strict";return this.$VideoPlayerHTML5Api10.hasSubtitles()||!!this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.hasSubtitles()};r.prototype.areSubtitlesActive=function(){"use strict";return this.$VideoPlayerHTML5Api46};r.prototype.areSubtitlesAutogenerated=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.areSubtitlesAutogenerated():!1};r.prototype.areHLSActive=function(){"use strict";return!1};r.prototype.isRTMP=function(){"use strict";return!1};r.prototype.setSubtitlesStyle=function(a,b,c,d){"use strict";this.$VideoPlayerHTML5Api47=a,this.$VideoPlayerHTML5Api48=b,this.$VideoPlayerHTML5Api49=c,this.$VideoPlayerHTML5Api50=d};r.prototype.$VideoPlayerHTML5Api90=function(){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.hasSubtitles()&&this.$VideoPlayerHTML5Api38.enableSubtitles(this.$VideoPlayerHTML5Api46),this.$VideoPlayerHTML5Api46?this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.showSubtitles():this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.hideSubtitles()};r.prototype.$VideoPlayerHTML5Api114=function(){"use strict";this.$VideoPlayerHTML5Api18&&this.$VideoPlayerHTML5Api90(),this.emit("loadedSubtitles"),this.$VideoPlayerHTML5Api45.setSubtitlesStyle(this.$VideoPlayerHTML5Api47,this.$VideoPlayerHTML5Api48,this.$VideoPlayerHTML5Api49,this.$VideoPlayerHTML5Api50)};r.prototype.$VideoPlayerHTML5Api92=function(a){"use strict";__p&&__p();b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerWebVttSubtitleStream"],function(b,c){this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.removeSubtitles();var d=this.$VideoPlayerHTML5Api9.subtitleDrawer;c=new c(this.$VideoPlayerHTML5Api37,a);this.$VideoPlayerHTML5Api45=new b(this.$VideoPlayerHTML5Api37,c);this.$VideoPlayerHTML5Api45.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api114()}.bind(this));this.$VideoPlayerHTML5Api45.registerDrawer(d);this.$VideoPlayerHTML5Api45.loadSubtitles()}.bind(this),"VideoPlayerHTML5Api")};r.prototype.$VideoPlayerHTML5Api91=function(){"use strict";__p&&__p();var a=new(b("Deferred"))();b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerCea608SubtitleSource"],function(b,c){c=new c(this.$VideoPlayerHTML5Api37);a.resolve(c);this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.removeSubtitles();var d=this.$VideoPlayerHTML5Api9.subtitleDrawer;this.$VideoPlayerHTML5Api45=new b(this.$VideoPlayerHTML5Api37,c);this.$VideoPlayerHTML5Api45.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api114()}.bind(this));this.$VideoPlayerHTML5Api45.registerDrawer(d);this.$VideoPlayerHTML5Api45.loadSubtitles()}.bind(this),"VideoPlayerHTML5Api");return a.getPromise()};r.prototype.setStillFrameEnabled=function(a){"use strict";this.$VideoPlayerHTML5Api42=!a};r.prototype.$VideoPlayerHTML5Api63=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api62("use_dimensions_fallbacks",!0)){var a=b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api37);if(a.width!==0&&a.height!==0)return a;else{a=this.$VideoPlayerHTML5Api37.getAttribute("data-video-width");var c=this.$VideoPlayerHTML5Api37.getAttribute("data-video-height");return{width:Number(a)||this.$VideoPlayerHTML5Api37.width||p,height:Number(c)||this.$VideoPlayerHTML5Api37.height||q}}}else return b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api37)};r.prototype.getDimensionsForDevice=function(){"use strict";var a=window.devicePixelRatio||1,b=this.$VideoPlayerHTML5Api63();return{width:b.width*a,height:b.height*a}};r.prototype.$VideoPlayerHTML5Api115=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api42)return;if(!this.$VideoPlayerHTML5Api41){var a=this.$VideoPlayerHTML5Api63();a=b("DOM").create("canvas",{width:a.width,height:a.height,className:"_3t5i"});b("DOM").insertAfter(this.$VideoPlayerHTML5Api37,a);this.$VideoPlayerHTML5Api41=a=new(b("VideoFrameBuffer"))(a,this.$VideoPlayerHTML5Api37)}else a=this.$VideoPlayerHTML5Api41;b("CSS").show(a.getDOMNode());a.updateFrameBuffer();b("CSS").hide(this.$VideoPlayerHTML5Api37)};r.prototype.$VideoPlayerHTML5Api79=function(){"use strict";if(!this.$VideoPlayerHTML5Api41)return;b("CSS").hide(this.$VideoPlayerHTML5Api41.getDOMNode());b("CSS").show(this.$VideoPlayerHTML5Api37)};r.prototype.$VideoPlayerHTML5Api83=function(a){__p&&__p();a===void 0&&(a=null);var c=this.$VideoPlayerHTML5Api1;if(!c)return;if(this.$VideoPlayerHTML5Api21)return;this.$VideoPlayerHTML5Api21=!0;this.emit("restoringAfterAbort");this.allowNextSeekInMixin();a=a==null?c.currentTime:a;if(this.$VideoPlayerHTML5Api38)this.$VideoPlayerHTML5Api38.reload(a);else{var d=this.$VideoPlayerHTML5Api81();d&&(this.$VideoPlayerHTML5Api37.src=d);this.$VideoPlayerHTML5Api37.preload=c.preload}b("seekHTMLMediaElementTo")(this.$VideoPlayerHTML5Api37,a,function(){this.$VideoPlayerHTML5Api79(),this.$VideoPlayerHTML5Api1&&(this.$VideoPlayerHTML5Api37.muted=this.$VideoPlayerHTML5Api1.mutedState,this.$VideoPlayerHTML5Api1=null,this.emit("restoredAfterAbort")),this.$VideoPlayerHTML5Api21=!1,b("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api37,function(){return this.$VideoPlayerHTML5Api85()}.bind(this))}.bind(this))};r.prototype.abortLoadingWithoutStillFrame=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api1)return;var a=this.$VideoPlayerHTML5Api37.currentTime,c=this.isMuted(),d=this.$VideoPlayerHTML5Api37.duration,e=this.isPaused(),f=this.$VideoPlayerHTML5Api37.preload;if(b("VideoPlayerShakaGlobalConfig").getBool("abort_loading_live_head_as_current_time",!1)&&this.$VideoPlayerHTML5Api10&&this.$VideoPlayerHTML5Api10.isLiveStream()){var g=this.getSeekableRanges();if(g){var h=g.length()-1;g=g.end(h);a=g}}this.$VideoPlayerHTML5Api32=!1;this.$VideoPlayerHTML5Api1={mutedState:c,currentTime:a,playbackDuration:d,preload:f};e&&this.$VideoPlayerHTML5Api18&&b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"pause");this.emit("abortedLoading");if(this.$VideoPlayerHTML5Api38){this.$VideoPlayerHTML5Api38.unload();return}this.$VideoPlayerHTML5Api37.preload="none";this.$VideoPlayerHTML5Api37.removeAttribute("src");this.$VideoPlayerHTML5Api37.load()};r.prototype.abortLoading=function(a){"use strict";if(this.$VideoPlayerHTML5Api1)return;a=a||{};a.disableStillFrame||this.$VideoPlayerHTML5Api115();this.abortLoadingWithoutStillFrame()};r.prototype.setPreferredVideoQuality=function(a){"use strict";__p&&__p();this.$VideoPlayerHTML5Api31=a;if(!this.$VideoPlayerHTML5Api10)return;if(this.$VideoPlayerHTML5Api38){this.$VideoPlayerHTML5Api38.setPreferredVideoQuality(a);return}b("VideoPlayerHTML5Experiments").newStateChangeCalculation||(this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"toggle_hd"})),this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,{reason:b("VideoPlayerReason").USER}));this.$VideoPlayerHTML5Api19=!this.$VideoPlayerHTML5Api19;var c=this.$VideoPlayerHTML5Api37.currentTime,d=this.$VideoPlayerHTML5Api37.muted,e=this.$VideoPlayerHTML5Api37.volume;a=this.$VideoPlayerHTML5Api81();a&&(this.$VideoPlayerHTML5Api37.src=a);b("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api37,function(){this.$VideoPlayerHTML5Api37.currentTime=c,this.$VideoPlayerHTML5Api37.muted=d,this.$VideoPlayerHTML5Api37.volume=e,this.$VideoPlayerHTML5Api85(),this.emit("qualityChange")}.bind(this));this.$VideoPlayerHTML5Api30=!0;this.$VideoPlayerHTML5Api69(!0);this.$VideoPlayerHTML5Api87()};r.prototype.unsetPreferredVideoQuality=function(){"use strict";this.$VideoPlayerHTML5Api31=null,this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.unsetPreferredVideoQuality()};r.prototype.getPreferredVideoQuality=function(){"use strict";return this.$VideoPlayerHTML5Api31};r.prototype.getSelectedVideoQuality=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getSelectedVideoQuality():this.$VideoPlayerHTML5Api19?"HD":"SD"};r.prototype.getAvailableVideoQualities=function(){"use strict";if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api9.fallbackSources.HD?["SD","HD"]:["SD"];if(!this.$VideoPlayerHTML5Api10)return[];return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getAvailableVideoQualities():this.$VideoPlayerHTML5Api10.hasHD()?["SD","HD"]:["SD"]};r.prototype.getIsAbrEnabled=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getIsAbrEnabled():!1};r.prototype.canAutoSelectVideoQuality=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.canAutoSelectVideoQuality():!1};r.prototype.setPreloadDisabled=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setPreloadDisabled(a)};r.prototype.restoreStreamBufferSize=function(){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.restoreStreamBufferSize()};r.prototype.setSmartBufferAdjustmentEnabled=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setSmartBufferAdjustmentEnabled(a)};r.getPlayerVersion=function(){"use strict";return b("VideoPlayerVersions").PLEASANTVILLE};r.prototype.getUpdatedPlayerVersion=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getPlayerVersion()||r.getPlayerVersion():r.getPlayerVersion()};r.prototype.getVideoNodeSource=function(){"use strict";return this.$VideoPlayerHTML5Api37.src||""};r.prototype.getVideoProjection=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api33)return this.$VideoPlayerHTML5Api33;if(this.$VideoPlayerHTML5Api38){this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api38.getVideoProjection();if(this.$VideoPlayerHTML5Api33)return this.$VideoPlayerHTML5Api33}this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api10.getProjection();return this.$VideoPlayerHTML5Api33};r.prototype.$VideoPlayerHTML5Api116=function(){"use strict";this.$VideoPlayerHTML5Api7=this.getCurrentTimePosition()};r.prototype.$VideoPlayerHTML5Api117=function(){"use strict";this.$VideoPlayerHTML5Api7?(this.$VideoPlayerHTML5Api34=this.$VideoPlayerHTML5Api7,this.$VideoPlayerHTML5Api7=null):this.$VideoPlayerHTML5Api34=o};r.prototype.$VideoPlayerHTML5Api118=function(){"use strict";this.$VideoPlayerHTML5Api8=this.getVolume(),this.$VideoPlayerHTML5Api6=this.isMuted()};r.prototype.$VideoPlayerHTML5Api119=function(){"use strict";this.$VideoPlayerHTML5Api8&&this.$VideoPlayerHTML5Api6&&(this.setVolume(this.$VideoPlayerHTML5Api8),this.$VideoPlayerHTML5Api6?this.mute():this.unmute(),this.$VideoPlayerHTML5Api8=null,this.$VideoPlayerHTML5Api6=null)};r.prototype.reloadDashManifest=function(){"use strict";var a=this.$VideoPlayerHTML5Api38;if(a){this.$VideoPlayerHTML5Api116();this.abortLoading();return this.$VideoPlayerHTML5Api120(function(){return a.refreshDashManifest()},this.$VideoPlayerHTML5Api34)}return b("Promise").reject()};r.prototype.reloadLiveVODHighlightsManifest=function(){"use strict";var a=this.$VideoPlayerHTML5Api38;if(a){this.$VideoPlayerHTML5Api116();this.abortLoading();return this.$VideoPlayerHTML5Api120(function(){return a.refreshLiveVODHighlightsManifest()},this.$VideoPlayerHTML5Api34)}return b("Promise").reject()};r.prototype.$VideoPlayerHTML5Api120=function(a,b){"use strict";return a().then(function(){this.$VideoPlayerHTML5Api83(b),this.$VideoPlayerHTML5Api117()}.bind(this))};r.prototype.isPlayingVODHighlights=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.isPlayingLiveVODHighlights():!1};r.prototype.$VideoPlayerHTML5Api85=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api30){if(this.$VideoPlayerHTML5Api3)var a=b("EventListener").capture(this.$VideoPlayerHTML5Api37.parentNode,"play",function(c){b("Event").kill(c),a.remove()});this.$VideoPlayerHTML5Api37.ended&&!this.$VideoPlayerHTML5Api37.paused&&b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"play");if(this.$VideoPlayerHTML5Api38){var c=this.$VideoPlayerHTML5Api38,d=k&&k.isReady()&&k.get("www_videos_shaka_wait_for_buffered");d=d?this.$VideoPlayerHTML5Api121():c.play()}else b("VideoPlayerHTML5Experiments").preloadOnPlay&&(this.$VideoPlayerHTML5Api37.preload="auto"),d=this.$VideoPlayerHTML5Api37.play();d&&d["catch"]&&d["catch"](function(a){a.name==="NotAllowedError"&&(this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,{reason:"not_allowed"}),this.$VideoPlayerHTML5Api109("flash/playbackNotAllowed")),!1,this.$VideoPlayerHTML5Api69(!1)}.bind(this))}this.$VideoPlayerHTML5Api86()};r.prototype.isLiveVODHighlightsAvailable=function(){"use strict";return this.$VideoPlayerHTML5Api16};r.prototype.setEnableLiveheadCatchup=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setEnableLiveheadCatchup(a)};r.prototype.isFBWasLive=function(){"use strict";return!!(this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.isFBWasLive())};r.prototype.isFBIsLiveTemplated=function(){"use strict";return!!(this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.isFBIsLiveTemplated())};r.prototype.isFBMS=function(){"use strict";return!!(this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.isFBMS())};r.prototype.isLiveheadCatchupEnabled=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.isLiveheadCatchupEnabled():!1};r.prototype.getSeekableRanges=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api38)return this.$VideoPlayerHTML5Api38.getSeekableRanges();var a=[];if(this.$VideoPlayerHTML5Api37){var c=this.$VideoPlayerHTML5Api37.seekable;for(var d=0;d<c.length;++d)a.push({startTime:c.start(d),endTime:c.end(d)})}a.length===0&&a.push({startTime:0,endTime:0});return new(b("TimeRanges"))(a)};r.prototype.$VideoPlayerHTML5Api121=function(){"use strict";__p&&__p();var a,c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:a=3;case 1:if(!(!this.$VideoPlayerHTML5Api12&&this.$VideoPlayerHTML5Api38)){f.next=12;break}if(!(this.$VideoPlayerHTML5Api37.buffered.length>0)){f.next=8;break}c=this.$VideoPlayerHTML5Api37.buffered.start(0);d=this.$VideoPlayerHTML5Api37.buffered.end(0);e=Math.round(d-c)>=a;if(!(e&&this.$VideoPlayerHTML5Api38)){f.next=8;break}return f.abrupt("return",this.$VideoPlayerHTML5Api38.play());case 8:f.next=10;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){return setTimeout(a,100)}));case 10:f.next=1;break;case 12:return f.abrupt("return",null);case 13:case"end":return f.stop()}},null,this)};r.getStartMutedFromConfig=function(a){"use strict";return a.muted};r.getStreamTypeFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.getStreamType()};r.getIsServableViaFbmsFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isServableViaFbms()};r.getIsPlayingLiveFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isLiveStream()};r.getIsFacecastAudioFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isFacecastAudio()};r.getIsSpherical=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isSpherical()};r.networkTimeout=5e3;e.exports=r}),null);
__d("AbrEvaluationSignal",["EventEmitter","EventListener","SubscriptionsHandler","VideoPlayerUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,c,d,e){__p&&__p();g.constructor.call(this);this.$AbrEvaluationSignal3=!0;this.$AbrEvaluationSignal4=!1;this.$AbrEvaluationSignal5=0;this.$AbrEvaluationSignal6=0;this.$AbrEvaluationSignal7=0;this.$AbrEvaluationSignal10=a;this.$AbrEvaluationSignal1=c;this.$AbrEvaluationSignal11=d;this.$AbrEvaluationSignal8=e;this.$AbrEvaluationSignal9=new(b("SubscriptionsHandler"))();a=[b("EventListener").listen(this.$AbrEvaluationSignal11,"adaptation",this.$AbrEvaluationSignal12.bind(this)),b("EventListener").listen(this.$AbrEvaluationSignal11,"trackschanged",this.$AbrEvaluationSignal13.bind(this)),b("EventListener").listen(this.$AbrEvaluationSignal1.getEstimator(),"bandwidth",this.$AbrEvaluationSignal14.bind(this))];e.evaluateAbrOnFetchEnd&&a.push(b("EventListener").listen(this.$AbrEvaluationSignal11,"fetch_end",this.$AbrEvaluationSignal15.bind(this)));(c=this.$AbrEvaluationSignal9).addSubscriptions.apply(c,a)}a.prototype.notifySwitch=function(){this.$AbrEvaluationSignal4=!0};a.prototype.destroy=function(){this.$AbrEvaluationSignal9.release(),this.$AbrEvaluationSignal9.engage(),this.removeAllListeners()};a.prototype.$AbrEvaluationSignal12=function(){this.$AbrEvaluationSignal4=!1,this.$AbrEvaluationSignal7=Date.now()};a.prototype.$AbrEvaluationSignal16=function(){return this.$AbrEvaluationSignal8.useLowBufferVelocityInterval&&b("VideoPlayerUtils").getBufferedAheadOf(this.$AbrEvaluationSignal10)<this.$AbrEvaluationSignal8.lowBufferVelocityIntervalBufferThreshold};a.prototype.$AbrEvaluationSignal15=function(){var a=this.$AbrEvaluationSignal5;this.$AbrEvaluationSignal5=Date.now();this.$AbrEvaluationSignal17(this.$AbrEvaluationSignal8.ignoreRecentBandwidthEvalOnFetchEnd?a:this.$AbrEvaluationSignal6)};a.prototype.$AbrEvaluationSignal14=function(){this.$AbrEvaluationSignal17(this.$AbrEvaluationSignal6)};a.prototype.$AbrEvaluationSignal17=function(a){if(this.$AbrEvaluationSignal3&&this.$AbrEvaluationSignal8.ignoreTimeLimitForInitialSample){this.$AbrEvaluationSignal3=!1;this.$AbrEvaluationSignal18();return}var b=this.$AbrEvaluationSignal8.minEvalInterval,c=this.$AbrEvaluationSignal8.minSwitchInterval;this.$AbrEvaluationSignal16()&&(b=c=this.$AbrEvaluationSignal8.lowBufferVelocityAbrInterval);!this.$AbrEvaluationSignal4&&Date.now()>=a+b&&Date.now()>=this.$AbrEvaluationSignal7+c&&this.$AbrEvaluationSignal18()};a.prototype.$AbrEvaluationSignal13=function(){this.$AbrEvaluationSignal18()};a.prototype.$AbrEvaluationSignal18=function(){this.emit("evaluate"),this.$AbrEvaluationSignal6=Date.now()};e.exports=a}),null);
__d("MosUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getQualityLabel:function(a,b){if(a===0||b===0)return 0;if(a<b){var c=a;a=b;b=c}c=a/b;return c>16/9?Math.round(a/(16/9)):b},getMosValue:function(a,b){__p&&__p();var c=null,d=null,e=null,f=null;for(var g=0;g<a.length;g++){var h=a[g].qualityLabel;if(h<=b)e=a[g].mosValue,c=h;else{f=a[g].mosValue;d=h;break}}if(c===null&&d===null)return 0;else if(c===null&&f!==null)return f;else if(d===null&&e!==null)return e;else if(f!==null&&e!==null&&c!==null&&d!==null){h=e+(b-c)*(f-e)/(d-c);return h<0?0:h>100?100:h}return 0},parsePlaybackMos:function(a){__p&&__p();a=a.split(",");var b=[];for(var c=0;c<a.length;c++){var d=a[c].split(":");if(d.length!==2)return null;var e=Number(d[0]);d=Number(d[1]);if(isNaN(e)||isNaN(d))return null;b.push({qualityLabel:e,mosValue:d})}return b},filterTracksWithExpensiveMos:function(a,b,c,d,e,f){__p&&__p();if(a.length<2)return a;var h=a.map(function(a){return{track:a,mosValue:a.playbackResolutionMos?g.getMosValue(a.playbackResolutionMos,g.getQualityLabel(b,c)):-1}}),i=[],j=e;for(var k=h.length-1;k>0;k--){if(h[k].mosValue===-1||h[k-1].mosValue===-1)return a;var l=h[k].track.bandwidth||-1,m=h[k-1].track.bandwidth||-1;if(l===-1||m===-1)return a;if(h[k].mosValue<h[k-1].mosValue&&l>=m)continue;l=h[k-1].track.bandwidth!==null?h[k].mosValue-h[k-1].mosValue:Infinity;if(l<=j&&h[k].track.bandwidth&&d/h[k].track.bandwidth<=f){j-=l;continue}else j=e;i.push(h[k].track)}i.push(h[0].track);i.reverse();return i}};e.exports=g}),null);
__d("VideoAsyncLoggerHelper",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e,f=new(b("SubscriptionsHandler"))(),g=!1,h=function(){g||(a(),g=!0),e&&(clearTimeout(e),e=null),f.release()};e=setTimeout(h,0);c.forEach(function(event){f.addSubscriptions(d.addListener(event,h))})}e.exports={operateAsync:a}}),null);
__d("VideoPlayerConnectionQuality",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={POOR:"POOR",MODERATE:"MODERATE",GOOD:"GOOD",EXCELLENT:"EXCELLENT"},h=[{bandwidth:5e5,connectionQuality:g.POOR},{bandwidth:2e6,connectionQuality:g.MODERATE},{bandwidth:1e7,connectionQuality:g.GOOD}],i=100,j=null,k=null;a={evaluate:function(a){__p&&__p();if(j!==null&&k!==null&&j>=Date.now()-i)return k;a=a();var b=null;for(var c=0;c<h.length;c++)if(a<h[c].bandwidth){b=h[c].connectionQuality;break}b===null&&(b=g.EXCELLENT);j=Date.now();k=b;return b}};e.exports=a}),null);
__d("DelegatedVideoPriorityAdjuster",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=function(){},this.$2=0}a.prototype.setOnPriorityChanged=function(a){this.$1=a};a.prototype.getPriorityAdjustment=function(){return this.$2};a.prototype.notifyAdjustment=function(a){if(this.$2===a)return;this.$2=a;this.$1(this.$2)};a.prototype.cleanup=function(){this.$1=function(){}};e.exports=a}),null);
__d("VideoPlayerReasonTransitionHelper",["VideoPlayerReasonTransitionExperiment"],(function(a,b,c,d,e,f){function a(a){"use strict";this.$1=a}a.prototype.getReason=function(){"use strict";return!b("VideoPlayerReasonTransitionExperiment").provideReason?null:this.$1};e.exports=a}),null);
__d("VideoPlayerUIComponentDrawer",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,b){g.constructor.call(this),this.$VideoPlayerUIComponentDrawer1=a,this.$VideoPlayerUIComponentDrawer2=b,this.$VideoPlayerUIComponentDrawer4=!1}a.prototype.reserve=function(){if(this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=!0;this.emit("reserve")};a.prototype.release=function(){if(!this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=!1;this.emit("release")};a.prototype.getPriority=function(){return this.$VideoPlayerUIComponentDrawer1};a.prototype.getHeight=function(){return this.$VideoPlayerUIComponentDrawer2};a.prototype.setHeight=function(a){this.$VideoPlayerUIComponentDrawer2=a,this.emit("heightChange")};a.prototype.emit=function(event){var a;for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];event==="reposition"&&(this.$VideoPlayerUIComponentDrawer3=c[0]);(a=g.emit).call.apply(a,[this,event].concat(c))};a.prototype.reposition=function(){this.emit("reposition",this.$VideoPlayerUIComponentDrawer3)};a.prototype.isReserved=function(){return this.$VideoPlayerUIComponentDrawer4};a.priorities={EmbeddedControls:0,AdBreakStartingIndicator:1,ClickForMore:2,Subtitles:3,SphericalMouseAnimation:4};e.exports=a}),null);
__d("VideoPlayerUIComponentDrawerController",["VideoPlayerUIComponentDrawer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){return a.getPriority()-b.getPriority()};function a(){this.$1=[]}a.prototype.register=function(a,c){__p&&__p();c=new(b("VideoPlayerUIComponentDrawer"))(a,c);c.addListener("reserve",function(){return this.$2(a)}.bind(this));c.addListener("release",function(){return this.$2(a)}.bind(this));c.addListener("heightChange",function(){return this.$2(a)}.bind(this));this.$1.push(c);this.$1.sort(g);return c};a.prototype.$2=function(a){var b=0;this.$1.forEach(function(c){c.getPriority()>a&&c.emit("reposition",b),c.isReserved()&&(b+=c.getHeight())})};e.exports=a}),null);
__d("VideoPlayerVolumeSettings",["WebStorage"],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1=1,this.$2=1}a.prototype.getVolume=function(){"use strict";var a=b("WebStorage").getLocalStorage();if(a){a=a.getItem("videoPlayerControllerVolume");return a===null||isNaN(+a)?1:+a}return this.$1};a.prototype.getSessionVolume=function(){"use strict";return this.$1};a.prototype.setSessionVolume=function(a){"use strict";this.$1=a};a.prototype.saveVolume=function(a){"use strict";var c=b("WebStorage").getLocalStorage();c&&c.setItem("videoPlayerControllerVolume",a);this.$1=a};a.prototype.getLastVolumeBeforeMute=function(){"use strict";var a=b("WebStorage").getLocalStorage();if(a){a=a.getItem("videoPlayerControllerLastVolumeBeforeMute");return a===null||isNaN(+a)?1:+a}return this.$2};a.prototype.saveLastVolumeBeforeMute=function(a){"use strict";var c=b("WebStorage").getLocalStorage();c&&c.setItem("videoPlayerControllerLastVolumeBeforeMute",a);this.$2=a};c=new a();e.exports=c}),null);
__d("logVideosClickTracking",["clickRefAction"],(function(a,b,c,d,e,f){function a(a){b("clickRefAction")("click",a,null,"FORCE")}e.exports=a}),null);
__d("VideoPlayerController",["csx","cx","invariant","Promise","Arbiter","Banzai","Bootloader","CoverVideoOffsetType","CSS","CurrentUser","DelegatedVideoPriorityAdjuster","DOM","DOMDimensions","DOMQuery","ErrorUtils","EventEmitter","FBLogger","FullScreen","JSLogger","JSResource","LiveCopyrightAction","LiveVideoCopyrightActionQueryWebGraphQLQuery","LiveVideoCopyrightActionSubscription","LiveVideoPlayerStore","MediaController","Parent","Run","ScriptPath","SparkMD5","SphericalVideoPlayerEvents","SubscriptionsHandler","TahoeVariables","URI","VideoAsyncLoggerHelper","VideoChannelViewChainLengthManager","VideoControllerPlayingStateEmitter","VideoLiveTrace","VideoMimeTypes","VideoPermalinkURI","VideoPlaybackQuality","VideoPlayerABRQualityTracker","VideoPlayerApiEvents","VideoPlayerConnectionQuality","VideoPlayerExperiments","VideoPlayerFormats","VideoPlayerFormatsMap","VideoPlayerHTML5Experiments","VideoPlayerImmediatePlayReason","VideoPlayerLogger","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerResizeSettings","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaConfig","VideoPlayerStateBasedLoggingEvents","VideoPlayerStates","VideoPlayerUIComponentDrawer","VideoPlayerUIComponentDrawerController","VideoPlayerVersions","VideoPlayerVolumeSettings","VideosRenderingInstrumentation","VideoViewabilityKeyEvents","VideoViewabilityLogging","VideoVisibilityObserver","ViewportTrackingHelper","Visibility","WebGraphQL","XVideoDataController","canVideoPlayType","clearInterval","collectDataAttributes","enumerate","forwardEvent","getContextualParent","getElementPosition","getFullScreenElement","getVideoComponentName","getViewportDimensions","gkx","guid","ifRequired","logVideosClickTracking","mapObject","performanceAbsoluteNow","promiseDone","setInterval","uniqueID"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("VideoAsyncLoggerHelper").operateAsync,l=b("VideoPlaybackQuality").getDroppedFrames,m=b("VideoPlaybackQuality").getTotalFrames,n=5,o=1;function p(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?b("performanceAbsoluteNow")():Date.now()}c=babelHelpers.inherits(a,b("MediaController"));j=c&&c.prototype;function a(a,c){__p&&__p();var d=a.video_id,e=a.video_ids,f=a.video_url,g=a.video_urls,h=a.chaining_token,i=a.video_channel_id,k=a.reaction_video_channel_type,n=a.reaction_video_channel_subtype,o=a.source,q=a.ad_client_token,r=a.should_autoplay,s=a.immediateplay_reason,t=a.player_version,u=a.autoplay_setting,v=a.apiModule,w=a.apiConfig,x=a.useInlineFallback,y=a.accessToken,z=a.projection,A=a.playerOrigin,B=a.playerSuborigin,C=a.isBroadcast,D=a.isInstreamAd,E=a.components,F=a.trackingCodes,G=a.alwaysShowCaptions;a.disableLogging;var H=a.subtitleBackgroundColor,I=a.subtitleBackgroundOpacity,J=a.subtitleTextColor,K=a.subtitleTextSize,L=a.video_path,M=a.customLoggingProps,N=a.broadcasterOrigin,O=a.allowCrossPageTransition,P=a.isReactPlayer,Q=a.offsettype,R=a.offsetvalue,S=a.upstreamPlayerSource,T=a.shouldLogVideoViewability,U=a.livingRoomSessionID,V=a.broadcastId,W=a.isAdsPreview,X=a.isInjectedAds,Y=a.isBroadcaster,Z=a.keepPlayingOnDialog;a=a.isChainedLivingRoom;var $=c.root_element,aa=c.container_element;c=c.video_element;j.constructor.call(this);this.$VideoPlayerController21=!1;this.$VideoPlayerController39=!1;this.$VideoPlayerController77=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);this.$VideoPlayerController78=0;this.$VideoPlayerController109=[];this.$VideoPlayerController115=null;this.$VideoPlayerController116=null;this.$VideoPlayerController117=new(b("EventEmitter"))();this.emitHeartbeat=function(){if(!this.isState(b("VideoPlayerStates").PLAYING)||!this.getVideoNode()){this.stopHeartbeat();return}if(b("VideoPlayerHTML5Experiments").heartbeatSkipOnBuffering&&this.isBuffering())return;this.getVideoAPI().logHeartbeat()}.bind(this);this.$VideoPlayerController164=function(){if(!b("VideoPlayerExperiments").allowBufferingErrorForHiddenTab&&b("Visibility").isHidden()){this.$VideoPlayerController163();this.$VideoPlayerController98=setTimeout(this.$VideoPlayerController164,this.$VideoPlayerController104);return}var a=this.getVideoAPI().isPaused()!==undefined?!this.getVideoAPI().isPaused():this.getState()==="playing";a&&(this.logError({error:"BUFFERING_TIMEOUT",message:"video has been in buffering state for over "+this.$VideoPlayerController104+"ms.",isPlayback:this.isPlayRequestPending()}),this.$VideoPlayerController163(),this.emit("error",b("VideoPlayerLoggerFallbackReasons").TIMEOUT))}.bind(this);this.$VideoPlayerController113=b("guid")();this.$VideoPlayerController46=0;this.$VideoPlayerController25=0;this.$VideoPlayerController24=new Map();this.$VideoPlayerController80={};M&&this.setLogEntryPropertyGetters(M);if(r===undefined)throw new Error("Must pass should_autoplay to "+this.constructor.name+"!");this.$VideoPlayerController23=new(b("VideoPlayerUIComponentDrawerController"))();this.$VideoPlayerController13=new Map();this.$VideoPlayerController58=z;this.$VideoPlayerController1=y;this.$VideoPlayerController68=!!r;this.$VideoPlayerController69=s;this.$VideoPlayerController8=u;this.$VideoPlayerController2=q;this.$VideoPlayerController54=!1;this.$VideoPlayerController89=c;this.$VideoPlayerController67=$;this.$VideoPlayerController15=aa;this.$VideoPlayerController34=!1;this.$VideoPlayerController35=!1;this.$VideoPlayerController57=t;this.$VideoPlayerController88=d||e&&e[0]||"";this.$VideoPlayerController91=f||g&&g[0];this.$VideoPlayerController90=L;this.$VideoPlayerController11=h;this.$VideoPlayerController86=i;this.$VideoPlayerController55=A;this.$VideoPlayerController56=B||o;this.$VideoPlayerController32=C;this.$VideoPlayerController40=D;this.$VideoPlayerController82=F;this.$VideoPlayerController3=G;this.$VideoPlayerController72=H||"";this.$VideoPlayerController73=I==undefined?0:I;this.$VideoPlayerController74=J||"";this.$VideoPlayerController75=K==undefined?0:K;this.$VideoPlayerController30=b("uniqueID")();this.$VideoPlayerController64=k;this.$VideoPlayerController65=n;this.$VideoPlayerController116=V;this.$VideoPlayerController118=W;this.$VideoPlayerController119=X;this.$VideoPlayerController120=Z;this.$VideoPlayerController5=v;this.$VideoPlayerController4=w;this.$VideoPlayerController76=this.$VideoPlayerController5.getStartMutedFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController43=this.$VideoPlayerController5.getStreamTypeFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController42=this.$VideoPlayerController5.getIsServableViaFbmsFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController41=this.$VideoPlayerController5.getIsPlayingLiveFromConfig(this.$VideoPlayerController4);this.isLiveVideo()&&this.$VideoPlayerController116&&(this.$VideoPlayerController115=new(b("VideoLiveTrace"))(this.$VideoPlayerController116,this.$VideoPlayerController113));this.$VideoPlayerController111=!!T;this.$VideoPlayerController37=this.$VideoPlayerController5.getIsSpherical(this.$VideoPlayerController4);this.$VideoPlayerController14=new(b("VideoPlayerShakaConfig"))({is_ad:this.isAd(),is_live:this.$VideoPlayerController41,player_format:this.$VideoPlayerController122(this.isFullscreen(),o)||"unknown",connection_quality:b("VideoPlayerConnectionQuality").evaluate(b("VideoPlayerShakaBandwidthEstimator").getBandwidth),is_spherical:this.$VideoPlayerController37,content_category:"general",latency_level:"normal"});this.$VideoPlayerController112=U;this.$VideoPlayerController121=a;this.$VideoPlayerController43==="progressive"?this.$VideoPlayerController104=b("VideoPlayerExperiments").progressiveBufferingErrorTimeout:this.isLiveVideo()?this.$VideoPlayerController104=b("VideoPlayerExperiments").liveBufferingErrorTimeout:this.$VideoPlayerController104=b("VideoPlayerExperiments").bufferingErrorTimeout;b("VideoPlayerExperiments").createVideoVisibilityObserver&&this.$VideoPlayerController123();this.$VideoPlayerController36=this.$VideoPlayerController5.getIsFacecastAudioFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController84=!!x;this.$VideoPlayerController96=new Set();this.$VideoPlayerController97=N;this.$VideoPlayerController98=null;this.$VideoPlayerController99=!!O;this.$VideoPlayerController100=!!P;this.$VideoPlayerController101=this.getContainerNode().style.paddingBottom;this.$VideoPlayerController102=Q;this.$VideoPlayerController103=R;this.$VideoPlayerController105=!1;this.$VideoPlayerController106=!1;this.$VideoPlayerController83=S;this.$VideoPlayerController22=b("Arbiter").subscribe("DOM/destroy",function(a,c){if(!b("Parent").bySelector(this.getVideoNode(),c))return;this.pause(b("VideoPlayerReason").UNLOADED);this.destroy()}.bind(this));this.$VideoPlayerController19=0;M=b("URI").getRequestURI();z=b("VideoPermalinkURI").parse(M);y=parseFloat(M.getQueryData().t);r=z?z.video_id==this.$VideoPlayerController88:!1;y&&r&&this.$VideoPlayerController4&&(this.$VideoPlayerController4.startTimestamp=y);b("VideoPlayerHTML5Experiments").useVpcPlayingStateForPrioritization&&this.$VideoPlayerController4&&(this.$VideoPlayerController4.vpcPlayingStateEmitter=new(b("VideoControllerPlayingStateEmitter"))(this));this.$VideoPlayerController110=new(b("DelegatedVideoPriorityAdjuster"))();b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&this.$VideoPlayerController4&&(this.$VideoPlayerController4.streamPriorityAdjuster=this.$VideoPlayerController110);this.$VideoPlayerController17=null;this.$VideoPlayerController52=null;this.$VideoPlayerController70=o;this.$VideoPlayerController48=new(b("VideoPlayerLogger"))(o);this.$VideoPlayerController70===b("VideoPlayerLoggerSource").TAHOE&&this.focusOnContainerNode();this.collectFeedTrackingData();this.$VideoPlayerController48.setScriptPath(b("ScriptPath").getScriptPath());this.$VideoPlayerController48.setFrameCountGetters(function(){return this.$VideoPlayerController89!=null?l(this.$VideoPlayerController89):null}.bind(this),function(){return this.$VideoPlayerController89!=null?m(this.$VideoPlayerController89):null}.bind(this));this.$VideoPlayerController60=b("VideosRenderingInstrumentation").retrieveRenderTime(this.getRootNode());this.$VideoPlayerController59=p()-this.$VideoPlayerController60;w&&(w.subtitleDrawer=this.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.Subtitles,0));this.$VideoPlayerController71="loading";this.$VideoPlayerController124(!1);if(this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController84))if(this.$VideoPlayerController84)this.$VideoPlayerController125();else{this.$VideoPlayerController126();return}else this.$VideoPlayerController127();b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){this.pause(b("VideoPlayerReason").UNLOADED),this.destroy()}.bind(this));this.$VideoPlayerController7=new(b("SubscriptionsHandler"))();this.$VideoPlayerController68&&(b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad?this.$VideoPlayerController7.addSubscriptions(b("Run").onAfterLoad(function(){return this.$VideoPlayerController128()}.bind(this))):this.$VideoPlayerController128());this.$VideoPlayerController20=0;this.$VideoPlayerController66=!1;this.$VideoPlayerController26=this.$VideoPlayerController129();this.$VideoPlayerController7.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){this.pause(b("VideoPlayerReason").UNLOADED),this.destroy()}.bind(this)));this.$VideoPlayerController130()||this.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe("layer_shown",function(a,c){if(c.type==="DialogX"||c.type==="PhotoSnowlift"||c.type==="Spotlight"){c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!1)},"VideoPlayerController");this.$VideoPlayerController20=this.$VideoPlayerController20+1;if(b("VideoPlayerExperiments").ignoreDialogCounter||this.$VideoPlayerController20>0){a=this.$VideoPlayerController70===b("VideoPlayerLoggerSource").TAHOE&&this.isLiveVideo();this.isState("playing")&&!(a&&b("TahoeVariables").neverAutoPauseLive)&&!this.$VideoPlayerController120&&(this.pause(b("VideoPlayerReason").PAGE_VISIBILITY),this.$VideoPlayerController66=!0)}}}.bind(this)),b("Arbiter").subscribe("layer_hidden",function(a,c){(c.type==="DialogX"||c.type==="PhotoSnowlift"||c.type==="Spotlight")&&(b("VideoPlayerExperiments").addViewabilityFixEnabled?this.$VideoPlayerController20=Math.max(0,this.$VideoPlayerController20-1):this.$VideoPlayerController20=this.$VideoPlayerController20-1,this.$VideoPlayerController20===0&&(c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!0)},"VideoPlayerController"),this.$VideoPlayerController66&&(this.play(b("VideoPlayerReason").PAGE_VISIBILITY),this.$VideoPlayerController66=!1)))}.bind(this)));this.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){return this.$VideoPlayerController131(a,b)}.bind(this)));b("Run").onLeave(function(){if(this.$VideoPlayerController99||b("VideoPlayerExperiments").persistentWNSEnabled&&this.$VideoPlayerController70===b("VideoPlayerLoggerSource").WATCH_SCROLL)return;this.cleanOnLeave()}.bind(this));this.$VideoPlayerController12=E||[];this.$VideoPlayerController12.forEach(function(a){var c=b("getVideoComponentName")(a)||"<MalformedComponent>";a&&typeof a.enable==="function"?b("VideoPlayerExperiments").enableComponentGuards?b("ErrorUtils").applyWithGuard(a.enable,a,[this],null,"VideoPlayerController Component Enable Guard: "+c):a.enable(this):b("FBLogger")("video").warn("no_enable_method_on_component: %s",c)}.bind(this));this.$VideoPlayerController51=1;this.$VideoPlayerController92=!1;this.$VideoPlayerController89&&(this.shouldCalculateViewability()?(this.$VideoPlayerController92=b("VideoPlayerExperiments").enableViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!this.$VideoPlayerController111,this.isInstreamAd()&&(this.$VideoPlayerController92=this.$VideoPlayerController92&&(b("VideoPlayerExperiments").enableInstreamAdViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!this.$VideoPlayerController111))):this.$VideoPlayerController92=b("VideoPlayerExperiments").enableViewabilityLoggingForOrganic);this.$VideoPlayerController92&&this.$VideoPlayerController89&&(this.$VideoPlayerController93=new(b("VideoViewabilityLogging"))(this,this.$VideoPlayerController89,this.$VideoPlayerController67,this.$VideoPlayerController15));this.$VideoPlayerController31=!1;this.$VideoPlayerController33=Y;this.isLiveVideo()&&(this.$VideoPlayerController16=b("LiveVideoCopyrightActionSubscription").subscribe(this.getVideoID(),function(a){__p&&__p();var c=a.live_video_copyright_action_subscribe.action.toLowerCase();switch(c){case b("LiveCopyrightAction").BLOCK:if(this.$VideoPlayerController33)break;this.emit("blockVideo");this.destroy();break;case b("LiveCopyrightAction").MUTE:this.emit("blockAudio",this.$VideoPlayerController33);this.$VideoPlayerController31=!0;this.$VideoPlayerController33||this.mute();break;case b("LiveCopyrightAction").UNMUTE:this.emit("unblockAudio",this.$VideoPlayerController33);this.$VideoPlayerController31=!1;this.$VideoPlayerController33||this.unmute();break}this.$VideoPlayerController132(a.live_video_copyright_action_subscribe.action,a.live_video_copyright_action_subscribe.timestamp)}.bind(this)))}a.prototype.setVideoPriorityAdjustment=function(a){"use strict";this.$VideoPlayerController110.notifyAdjustment(a)};a.prototype.addListener=function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=(a=j.addListener).call.apply(a,[this].concat(c));c[0]==="visibilityChanged"&&this.$VideoPlayerController123();return e};a.prototype.$VideoPlayerController123=function(){"use strict";if(this.$VideoPlayerController107)return;this.$VideoPlayerController89||i(0,3694);this.$VideoPlayerController107=new(b("VideoVisibilityObserver"))(this.$VideoPlayerController89);this.$VideoPlayerController107.addListener("visibilityChanged",function(a){return this.emit("visibilityChanged",a)}.bind(this))};a.prototype.setAutoScrollIntoView=function(a){"use strict";this.$VideoPlayerController21=!a};a.prototype.setDetectionID=function(a){"use strict";this.$VideoPlayerController114=a};a.prototype.destroy=function(a){"use strict";__p&&__p();a=a||{};if(this.isState("destroyed")||this.$VideoPlayerController35)return;this.$VideoPlayerController35=!0;this.$VideoPlayerController107&&(this.$VideoPlayerController107.destroy(),this.$VideoPlayerController107=null);var c=this.$VideoPlayerController12;for(var d=c.length-1;d>=0;d--){var e=c[d],f=b("getVideoComponentName")(e)||"<MalformedComponent>";e&&typeof e.disable==="function"?b("VideoPlayerExperiments").enableComponentGuards?b("ErrorUtils").applyWithGuard(e.disable,e,[this],null,"VideoPlayerController Component Disable Guard: "+f):e.disable(this):b("FBLogger")("video").warn("no_disable_method_on_component: %s",f)}b("gkx")("678893")?this.$VideoPlayerController85&&this.getVideoAPI().destroy(a):this.getVideoAPI().destroy(a);this.setState("destroyed");this.$VideoPlayerController7.release();a.skipRemoveAllListeners||this.removeAllListeners();this.$VideoPlayerController22&&(this.$VideoPlayerController22.unsubscribe(),this.$VideoPlayerController22=null);this.stopHeartbeat();this.$VideoPlayerController16&&(this.$VideoPlayerController16.unsubscribe(),this.$VideoPlayerController16=null)};a.prototype.$VideoPlayerController133=function(){"use strict";var a=b("DOMQuery").scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!a.length)return b("Promise").reject();b("DOM").replace(this.getVideoNode(),a[0]);this.$VideoPlayerController89=a[0];return b("JSResource")("VideoPlayerFlashApi").__setRef("VideoPlayerController").load()};a.prototype.$VideoPlayerController125=function(){"use strict";this.logEvent(b("VideoPlayerLoggerEvent").SWITCHED_IMPLEMENTATION,{error_user_info:this.getDebugInfo()}),b("promiseDone")(this.$VideoPlayerController133().then(function(a){if(a.isImplementationUnavailable())return b("Promise").reject();else return b("Promise").resolve(a)}),function(a){this.$VideoPlayerController5=a,this.$VideoPlayerController127()}.bind(this),function(a){return this.$VideoPlayerController126()}.bind(this))};a.prototype.collectFeedTrackingData=function(){"use strict";__p&&__p();if(this.$VideoPlayerController82){var a={tn:"","tn-debug":","},c={};for(var d=0;d<this.$VideoPlayerController82.length;d++){var e=JSON.parse(this.$VideoPlayerController82[d]);if(!Array.isArray(e))for(var f in e)a[f]!==undefined?(c[f]===undefined&&(c[f]=[]),c[f].push(e[f])):c[f]===undefined&&(c[f]=e[f])}for(var g in a)c[g]!==undefined&&(c[g]=c[g].join(a[g]));e={ft:c}}else{d=!1;a=this.getRootNode();while(a){if(a instanceof Element&&b("CSS").matchesSelector(a,"._4oep")){d=!0;break}a=b("getContextualParent")(a)}!d?this.isState("replayed")?e=b("collectDataAttributes")(window.event.target,["ft"]):e=b("collectDataAttributes")(this.getRootNode(),["ft"]):e={}}this.$VideoPlayerController48.setFTData(e)};a.prototype.$VideoPlayerController131=function(a,c){"use strict";c.video_player_debug_info=c.video_player_debug_info||{hardware:this.$VideoPlayerController134(),live_autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(!0),autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(!1)},c.video_player_debug_info[this.getVideoID()]=this.getDebugInfo()};a.prototype.$VideoPlayerController134=function(){"use strict";try{var a=document.createElement("canvas");a=a.getContext("webgl")||a.getContext("experimental-webgl");var b=a.getExtension("WEBGL_debug_renderer_info");return b&&{vendor:a.getParameter(b.UNMASKED_VENDOR_WEBGL),renderer:a.getParameter(b.UNMASKED_RENDERER_WEBGL)}}catch(a){}return null};a.prototype.setStillFrameEnabled=function(a){"use strict";var b=this.getVideoAPI();b.setStillFrameEnabled&&b.setStillFrameEnabled(a)};a.prototype.isFallbackRecoverable=function(){"use strict";return!!this.$VideoPlayerController79};a.prototype.setFallbackSources=function(a){"use strict";this.$VideoPlayerController79=a};a.prototype.setRelativeSphericalOrientation=function(a,c){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,a,c)};a.prototype.setSphericalOrientation=function(a,c){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,a,c)};a.prototype.setSphericalFieldOfView=function(a){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,a)};a.prototype.isSpherical=function(){"use strict";return this.$VideoPlayerController37};a.prototype.getVideoPlayerID=function(){"use strict";return this.$VideoPlayerController30};a.prototype.focusOnContainerNode=function(){"use strict";this.$VideoPlayerController15&&this.$VideoPlayerController15.focus()};a.prototype.setLogEntryPropertyGetters=function(a){"use strict";Object.keys(a).forEach(function(b){var c=a[b];typeof c==="function"?this.$VideoPlayerController24.set(b,c):this.$VideoPlayerController80[b]=c}.bind(this))};a.prototype.removeLogEntryPropertyGetters=function(a){"use strict";typeof a==="string"&&(a=[a]),Array.isArray(a)||(a=Object.keys(a)),a.forEach(function(a){this.$VideoPlayerController24["delete"](a),delete this.$VideoPlayerController80[a]}.bind(this))};a.prototype.$VideoPlayerController127=function(){"use strict";this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady()}.bind(this))};a.prototype.isImplementationUnavailable=function(){"use strict";return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController84)&&!this.$VideoPlayerController84};a.prototype.getIsInChannel=function(){"use strict";return this.$VideoPlayerController70===b("VideoPlayerLoggerSource").CHANNEL};a.prototype.updateSource=function(a){"use strict";if(!this.$VideoPlayerController70)return;var c=b("VideoPlayerFormatsMap")[this.$VideoPlayerController70],d=b("VideoPlayerFormatsMap")[a];this.$VideoPlayerController48.updateSource(a);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController122(this.isFullscreen(),a)||"unknown");c&&c!==d&&this.$VideoPlayerController94&&(b("VideoPlayerExperiments").delayFormatChangeEvent?this.isState(b("VideoPlayerStates").PLAYING)&&!this.$VideoPlayerController38?(this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED),this.$VideoPlayerController45=d):this.$VideoPlayerController45=c:this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED));this.$VideoPlayerController70=a};a.prototype.getSource=function(){"use strict";return this.$VideoPlayerController48.getSource()};a.prototype.getPlayerOrigin=function(){"use strict";return this.$VideoPlayerController55};a.prototype.getPlayerSuborigin=function(){"use strict";return this.$VideoPlayerController56};a.prototype.hasLooped=function(){"use strict";return this.$VideoPlayerController51>1};a.prototype.$VideoPlayerController126=function(){"use strict";var a={error:"IMPLEMENTATION_NOT_SUPPORTED",state:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE,error_description:"Implementation unavailable",error_user_info:this.getDebugInfo()};this.logEvent(b("VideoPlayerLoggerEvent").ERROR,a);this.$VideoPlayerController68=!1};a.prototype.logError=function(a){"use strict";__p&&__p();a=this.$VideoPlayerController44=a;var c=a.error,d=a.message,e=a.isPlayback,f=a.httpStatus,g=a.url;a=a.stack;var h=this.getDebugInfo();a&&(h.player.stack=a);delete h.player.loggedError;delete h.player.lastError;a={error:c,error_description:d,error_user_info:h,error_code:f,resource_url:g,state:e?b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE};this.$VideoPlayerController47=this.logEvent(b("VideoPlayerLoggerEvent").ERROR,a);this.$VideoPlayerController37&&Math.random()<.01&&b("gkx")("678900")&&b("FBLogger")("360video").warn("360 video player error: %s %s",c,d);e&&this.$VideoPlayerController54&&this.$VideoPlayerController124(!1)};a.prototype.setRotation=function(a){"use strict";this.getVideoAPI().setRotation(a)};a.prototype.setDimensions=function(a,c){"use strict";__p&&__p();var d=this.getContainerNode();d.style.width=a+"px";d.style.height=c+"px";d=this.getVideoNode();d.style.width=a+"px";d.style.height=c+"px";if(this.isState("loading"))this.$VideoPlayerController61={width:a,height:c};else{if(this.isPlayerVersion("silvercity")&&(this.$VideoPlayerController38||b("VideoPlayerResizeSettings").disable_flash_set_dimensions))return;this.setVideoPlayerAPIDimensions(a,c)}};a.prototype.isPlayRequestPending=function(){"use strict";return this.$VideoPlayerController54};a.prototype.$VideoPlayerController124=function(a){"use strict";if(this.$VideoPlayerController54===a)return;this.$VideoPlayerController54=a;this.emit("pendingPlayRequestChanged")};a.prototype.updateAutoplayRestrained=function(){"use strict";b("ifRequired")("VideoPlayerHTML5Shaka",function(a){a=a.isAutoplayBandwidthRestrained(this.$VideoPlayerController41);this.$VideoPlayerController135(a)}.bind(this))};a.prototype.$VideoPlayerController135=function(a){"use strict";a?this.emit("turnOffAutoplay",{reason:"poor_network_quality"}):this.emit("resumeAutoplay",{reason:"poor_network_quality"});if(b("gkx")("678893")){var c=this.getVideoAPI();c&&c.setPreloadDisabled(a)}else this.getVideoAPI().setPreloadDisabled(a)};a.prototype.restoreStreamBufferSize=function(){"use strict";if(b("gkx")("678893")){var a=this.getVideoAPI();a&&a.restoreStreamBufferSize()}else this.getVideoAPI().restoreStreamBufferSize()};a.prototype.getDataInsertionPosition=function(){"use strict";return this.$VideoPlayerController26&&this.$VideoPlayerController26.getAttribute("data-insertion-position")};a.prototype.getDataFt=function(){"use strict";return this.$VideoPlayerController26&&this.$VideoPlayerController26.getAttribute("data-ft")};a.prototype.play=function(a){"use strict";__p&&__p();var c=null;a instanceof b("VideoPlayerReasonTransitionHelper")?c=a.getReason():c=a;a=this.getVideoNodeNullable();if(a&&a.scrollIntoView&&c===b("VideoPlayerReason").USER&&!this.$VideoPlayerController21&&this.$VideoPlayerController14.getBool("enable_autoscroll_into_view",!1)){var d=this.getDOMPosition(),e=d.y>=0;d=d.y+d.height<=b("getViewportDimensions")().height;!e?a.scrollIntoView(!0):d||a.scrollIntoView(!1)}this.$VideoPlayerController136();this.$VideoPlayerController53||(this.$VideoPlayerController53=c);this.$VideoPlayerController108=this.getOption("VideoWithCommercialBreak","controller");if(this.$VideoPlayerController108&&this.$VideoPlayerController108.shouldPlayPreRollAds(c)){this.$VideoPlayerController108.schedulePreRollAds();return}if(!this.$VideoPlayerController54){this.$VideoPlayerController52=this.$VideoPlayerController137();var f=this.$VideoPlayerController138({debug_reason:c});e=this.$VideoPlayerController70;b("VideoPlayerExperiments").delayFormatChangeEvent&&e&&this.$VideoPlayerController94&&this.$VideoPlayerController45&&b("VideoPlayerFormatsMap")[e]!==this.$VideoPlayerController45&&!this.$VideoPlayerController38&&(this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED),this.$VideoPlayerController45=b("VideoPlayerFormatsMap")[e]);b("VideoPlayerExperiments").logRequestedPlayingAsync?k(function(){this.logEvent(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,f)}.bind(this),[b("VideoPlayerLoggerEvent").STARTED_PLAYING,b("VideoPlayerLoggerEvent").UNPAUSED],this.$VideoPlayerController117):this.logEvent(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,f);this.$VideoPlayerController94=!0}this.$VideoPlayerController139(c);this.emit("playRequested",c);this.sendPlayRequest(c);c===b("VideoPlayerReason").LOOP&&(this.$VideoPlayerController51++,this.$VideoPlayerController51>10&&this.$VideoPlayerController14.getBool("disable_logging_for_long_loops",!1)&&(this.$VideoPlayerController95=!0))};a.prototype.sendPlayRequest=function(a){"use strict";if(this.isState("fallback")){this.emit("fallbackPlay");b("VideoPlayerExperiments").endBufferingOnFallbackPlay&&this.$VideoPlayerController48.endBuffering();return}this.$VideoPlayerController124(!0);this.isState("loading")?this.$VideoPlayerController62={reason:a}:(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController50&&(b("VideoPlayerExperiments").logUnmutedAsync?k(function(){this.logEvent(b("VideoPlayerLoggerEvent").UNMUTED)}.bind(this),[b("VideoPlayerLoggerEvent").STARTED_PLAYING,b("VideoPlayerLoggerEvent").UNPAUSED],this.$VideoPlayerController117):this.logEvent(b("VideoPlayerLoggerEvent").UNMUTED)),this.$VideoPlayerController50=!1,this.$VideoPlayerController140(),this.getVideoAPI().play(a))};a.prototype.getOriginalPlayReason=function(){"use strict";return this.$VideoPlayerController53};a.prototype.reset=function(){"use strict";if(this.isState("loading")||this.isState("fallback")&&!this.isFallbackRecoverable())return;this.resetPositions();this.$VideoPlayerController141();this.$VideoPlayerController85&&this.$VideoPlayerController85.destroy&&this.$VideoPlayerController85.destroy();this.$VideoPlayerController85=null;this.setState("loading");this.$VideoPlayerController127()};a.prototype.detachRootNode=function(){"use strict";if(!this.$VideoPlayerController67)return;b("DOM").remove(this.$VideoPlayerController67);if(this.isState("fallback")||this.isState("loading"))return;this.setState("loading");this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.$VideoPlayerController142()}.bind(this))};a.prototype.getVideoAPI=function(){"use strict";this.$VideoPlayerController85||i(0,3695);return this.$VideoPlayerController85};a.prototype.getVideoNodeNullable=function(){"use strict";return this.$VideoPlayerController89};a.prototype.getVideoNode=function(){"use strict";var a=this.getVideoNodeNullable();return a};a.prototype.getRootNodeNullable=function(){"use strict";return this.$VideoPlayerController67};a.prototype.getRootNode=function(){"use strict";var a=this.getRootNodeNullable();return a};a.prototype.getContainerNodeNullable=function(){"use strict";return this.$VideoPlayerController15};a.prototype.getContainerNode=function(){"use strict";var a=this.getContainerNodeNullable();return a};a.prototype.getVideoResolution=function(){"use strict";var a=this.getVideoNode();return{height:a.videoHeight,width:a.videoWidth}};a.prototype.$VideoPlayerController142=function(){"use strict";this.setState("ready"),this.$VideoPlayerController50=!this.getVideoAPI().isMuted(),this.$VideoPlayerController81=!this.$VideoPlayerController3,this.getVideoAPI().setSubtitlesStyle&&this.getVideoAPI().setSubtitlesStyle(this.$VideoPlayerController72,this.$VideoPlayerController73,this.$VideoPlayerController74,this.$VideoPlayerController75),this.$VideoPlayerController62&&(this.sendPlayRequest(this.$VideoPlayerController62.reason),this.$VideoPlayerController62=null),this.$VideoPlayerController61&&(this.setDimensions(this.$VideoPlayerController61.width,this.$VideoPlayerController61.height),this.$VideoPlayerController61=null),this.$VideoPlayerController63&&(this.getVideoAPI().unmute(),this.$VideoPlayerController63=null)};a.prototype.onApiReady=function(){"use strict";__p&&__p();this.$VideoPlayerController4&&(this.$VideoPlayerController4.id=this.$VideoPlayerController30,this.$VideoPlayerController79&&(this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController79),this.$VideoPlayerController4.playerOrigin=this.$VideoPlayerController55,this.$VideoPlayerController4.playerSuborigin=this.$VideoPlayerController56,this.$VideoPlayerController4.getSource=function(){return this.getSource()}.bind(this),this.$VideoPlayerController4.shakaConfig=this.$VideoPlayerController14,this.$VideoPlayerController4.playerInstanceKey=this.$VideoPlayerController113,this.$VideoPlayerController115&&(this.$VideoPlayerController4.videoLiveTrace=this.$VideoPlayerController115));this.$VideoPlayerController85=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.$VideoPlayerController143();this.getVideoAPI().setup();this.$VideoPlayerController142();var a={is_auto_played:this.isAutoplayable()};this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_LOADED,a);this.$VideoPlayerController85&&this.$VideoPlayerController48.setABRQualityTracker(new(b("VideoPlayerABRQualityTracker"))(this.$VideoPlayerController85.getLocalEstimator()));a=this.getVideoProjection();a&&(this.$VideoPlayerController58=a);this.emit("apiReady")};a.prototype.getLocalEstimator=function(){"use strict";if(this.$VideoPlayerController85)return this.$VideoPlayerController85.getLocalEstimator();else return null};a.prototype.runOnApiReady=function(a){a===void 0&&(a=function(){}),!this.isState("loading")?a():this.once("apiReady",a)};a.prototype.resetPositions=function(){"use strict";this.$VideoPlayerController19=0};a.prototype.getCurrentTimePosition=function(){"use strict";if(this.isState("playing")){var a=this.getVideoAPI().getCurrentTimePosition();a!=null&&a!==undefined&&(this.$VideoPlayerController19=a)}return this.$VideoPlayerController19};a.prototype.getBufferEndPosition=function(){"use strict";if(this.isState("loading"))return 0;var a=this.getVideoAPI().getBufferEndPosition();return a!==null&&a!==undefined?a:this.getCurrentTimePosition()};a.prototype.$VideoPlayerController136=function(){"use strict";__p&&__p();if(!this.$VideoPlayerController9){b("VideoChannelViewChainLengthManager").registerChainingInfos(this.getVideoID(),this.$VideoPlayerController11);var a=this.getVideoID();if(this.$VideoPlayerController11){var c=this.$VideoPlayerController11.decode();a=c.root_id}this.$VideoPlayerController9=b("VideoChannelViewChainLengthManager").getLoggingData(a)}};a.prototype.$VideoPlayerController144=function(a){"use strict";this.$VideoPlayerController124(!1);a=a.position;a!==undefined&&(this.$VideoPlayerController19=a);this.setState("playing");this.areHLSActive()?this.$VideoPlayerController145():this.isRTMP_DEPRECATED()&&this.$VideoPlayerController146();this.startHeartbeat()};a.prototype.$VideoPlayerController147=function(a){"use strict";a=a.position;a!==undefined&&(this.$VideoPlayerController19=a);this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingStreamInfoID()};a.prototype.$VideoPlayerController148=function(event){"use strict";return this.$VideoPlayerController96.has(event)};a.prototype.runOnceOnApiEventLogged=function(event,a){"use strict";if(this.$VideoPlayerController148(event))a();else var b=this.addListener("apiEventLogged",function(c){c===event&&(a(),b.remove())})};a.prototype.$VideoPlayerController149=function(a){"use strict";var event=a.event;this.$VideoPlayerController96.add(event);delete a.event;this.logEvent(event,a);this.emit("apiEventLogged",event)};a.prototype.$VideoPlayerController150=function(){"use strict";this.isState("finished")||this.setState("paused"),this.stopHeartbeat()};a.prototype.$VideoPlayerController151=function(a){"use strict";a=a.position;a!==undefined&&(this.$VideoPlayerController19=a)};a.prototype.$VideoPlayerController152=function(){"use strict";this.setState("finished"),this.$VideoPlayerController66=!1,this.stopHeartbeat()};a.prototype.getVolume=function(){"use strict";return this.getVideoAPI().getVolume()};a.prototype.$VideoPlayerController153=function(){"use strict";__p&&__p();this.$VideoPlayerController39=!1;var a=this.getContainerNode(),c=this.isFullscreen();b("CSS").conditionClass(a,"_1hwh",c);c?a.style.paddingBottom="0":(a.removeAttribute("data-fullscreen"),a.style.paddingBottom=this.$VideoPlayerController101);!c&&this.$VideoPlayerController27&&(this.$VideoPlayerController27.unsubscribe(),this.$VideoPlayerController27=null);if(this.$VideoPlayerController38!=c){this.logFullscreenChanged(c);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController122(c,this.$VideoPlayerController70)||"unknown");a=b("DOMDimensions").getElementDimensions(a);this.isPlayerVersion("silvercity")||this.setVideoPlayerAPIDimensions(a.width,a.height);this.emit("toggleFullscreen");!c?(this.addOffsetStylings(),b("Arbiter").inform("video_fullscreen_change",{})):this.removeOffsetStylings()}this.$VideoPlayerController38=c};a.prototype.$VideoPlayerController122=function(a,c){"use strict";return a?b("VideoPlayerFormats").FULL_SCREEN:c?b("VideoPlayerFormatsMap")[c]:b("VideoPlayerFormats").INLINE};a.prototype.logFullscreenChanged=function(a){"use strict";var c={player_format:this.$VideoPlayerController122(a,this.$VideoPlayerController70)};b("VideoPlayerHTML5Experiments").enteredExitedFsLoggingFix?this.logEvent(a?b("VideoPlayerLoggerEvent").ENTERED_FS:b("VideoPlayerLoggerEvent").EXITED_FS,c):this.logEvent(a?b("VideoPlayerLoggerEvent").ENTERED_FS:b("VideoPlayerLoggerEvent").EXITED_FS)};a.prototype.setVideoPlayerAPIDimensions=function(a,b){"use strict";this.getVideoAPI().setDimensions&&this.getVideoAPI().setDimensions(a,b)};a.prototype.removeOffsetStylings=function(){"use strict";var a=this.$VideoPlayerController103;if(a===null||a===undefined)return;this.$VideoPlayerController102===b("CoverVideoOffsetType").HORIZONTAL?(this.getVideoNode().style.setProperty("left","0"),b("CSS").removeClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController102===b("CoverVideoOffsetType").VERTICAL&&(this.getVideoNode().style.setProperty("top","0"),b("CSS").removeClass(this.getVideoNode(),"_bli"))};a.prototype.addOffsetStylings=function(){"use strict";var a=this.$VideoPlayerController103;if(a===null||a===undefined)return;this.$VideoPlayerController102===b("CoverVideoOffsetType").HORIZONTAL?(this.getVideoNode().style.setProperty("left",a+"px"),b("CSS").addClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController102===b("CoverVideoOffsetType").VERTICAL&&(this.getVideoNode().style.setProperty("top",a+"px"),b("CSS").addClass(this.getVideoNode(),"_bli"))};a.prototype.isFullscreen=function(){"use strict";return this.$VideoPlayerController39||b("FullScreen").isFullScreen()&&this.$VideoPlayerController15===b("getFullScreenElement")()};a.prototype.toggleFullscreen=function(){"use strict";var a=this.isFullscreen(),c=this.getContainerNode();b("FullScreen").toggleFullScreen(c)&&(a||(this.$VideoPlayerController39=!0,c.setAttribute("data-fullscreen","true")),b("CSS").addClass(c,"_1hwh"),this.$VideoPlayerController27=b("FullScreen").subscribe("changed",this.$VideoPlayerController153.bind(this)))};a.prototype.instreamVideoStart=function(){"use strict";b("CSS").addClass(this.getContainerNode(),"_24pm")};a.prototype.instreamVideoEnd=function(){"use strict";b("CSS").removeClass(this.getContainerNode(),"_24pm")};a.prototype.unmute=function(){"use strict";if(!this.$VideoPlayerController33&&this.$VideoPlayerController31)return;!this.isState("loading")?(this.getVideoAPI().unmute(),b("VideoPlayerVolumeSettings").saveVolume(b("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()),this.$VideoPlayerController81&&this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController154()):this.$VideoPlayerController63=!0};a.prototype.isAudioBlocked=function(){"use strict";return this.$VideoPlayerController31};a.prototype.isMuted=function(){"use strict";return this.$VideoPlayerController85?this.getVideoAPI().isMuted():this.$VideoPlayerController76};a.prototype.mute=function(){"use strict";this.$VideoPlayerController81&&!this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController154(),this.getVideoAPI().mute(),b("VideoPlayerVolumeSettings").saveVolume(0)};a.prototype.getMediaID=function(){"use strict";return this.getVideoID()};a.prototype.getPlaybackDuration=function(){"use strict";return this.getVideoAPI().getPlaybackDuration()};a.prototype.getPlayerFormat=function(){"use strict";return this.$VideoPlayerController122(this.isFullscreen(),this.$VideoPlayerController70)};a.prototype.getVideoID=function(){"use strict";return this.$VideoPlayerController88};a.prototype.getVideoChannelID=function(){"use strict";return this.$VideoPlayerController86};a.prototype.getVideoURL=function(){"use strict";return this.$VideoPlayerController91};a.prototype.$VideoPlayerController143=function(){"use strict";__p&&__p();var a=this.getVideoAPI(),c=new(b("SubscriptionsHandler"))();this.$VideoPlayerController6=c;var d={buffered:function(){return this.setBuffering(!1)}.bind(this),buffering:function(){return this.setBuffering(!0)}.bind(this),bufferingProgress:function(a){return this.$VideoPlayerController155(a)}.bind(this),streamInterrupted:function(){return this.$VideoPlayerController48.startInterrupt()}.bind(this),streamResumed:function(){return this.$VideoPlayerController48.endInterrupt()}.bind(this),beginPlayback:function(a){return this.$VideoPlayerController144(a)}.bind(this),updateStatus:function(a){return this.$VideoPlayerController147(a)}.bind(this),logEvent:function(a){return this.$VideoPlayerController149(a.logData)}.bind(this),pausePlayback:function(){return this.$VideoPlayerController150()}.bind(this),seekEnd:function(a){return this.$VideoPlayerController151(a)}.bind(this),clickForTracking:function(){return b("logVideosClickTracking")(this.getVideoNode())}.bind(this),error:function(a){return this.logError(a)}.bind(this),finishPlayback:function(){return this.$VideoPlayerController152()}.bind(this),networkInterrupted:function(){return this.$VideoPlayerController156()}.bind(this),networkResumed:function(){return this.$VideoPlayerController157()}.bind(this)};c.addSubscriptions.apply(c,Object.keys(d).map(function(b){return a.addListener(b,d[b])}));c.addSubscriptions.apply(c,b("VideoPlayerApiEvents").map(function(c){return b("forwardEvent")(a,this,c)}.bind(this)))};a.prototype.$VideoPlayerController141=function(){"use strict";this.$VideoPlayerController6&&this.$VideoPlayerController6.release()};a.prototype.seek=function(a){"use strict";this.emit("seekRequested",a),this.getVideoAPI().seek(a)};a.prototype.pause=function(a){"use strict";this.isState("loading")?this.$VideoPlayerController62=null:this.isState("playing")?this.getVideoAPI().pause(a):this.$VideoPlayerController54&&this.getVideoAPI().pause(a),this.$VideoPlayerController124(!1),this.$VideoPlayerController66=!1,this.$VideoPlayerController158(a),this.emit("pauseRequested",a)};a.prototype.stopHeartbeat=function(){"use strict";b("clearInterval")(this.$VideoPlayerController29),this.$VideoPlayerController29=null};a.prototype.startHeartbeat=function(){"use strict";if(this.$VideoPlayerController29||!b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)return;this.$VideoPlayerController29=b("setInterval")(this.emitHeartbeat,b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)};a.prototype.isPlayerVersion=function(a){"use strict";return this.getPlayerVersion()===a||this.$VideoPlayerController100&&this.$VideoPlayerController159(a)===this.getPlayerVersion()};a.prototype.isHtml5Player=function(){"use strict";return this.isPlayerVersion(b("VideoPlayerVersions").PLEASANTVILLE)||this.isPlayerVersion(b("VideoPlayerVersions").OZ)};a.prototype.isAutoplayable=function(){"use strict";return this.$VideoPlayerController68};a.prototype.$VideoPlayerController160=function(){"use strict";return b("ViewportTrackingHelper").isVisible(this.getVideoNode(),0)};a.prototype.$VideoPlayerController128=function(){"use strict";if(b("Visibility").isHidden()){var a=b("Visibility").once(b("Visibility").VISIBLE,function(){return this.$VideoPlayerController128()}.bind(this));b("VideoPlayerExperiments").unsubscribeImmediateplay&&this.$VideoPlayerController7.addSubscriptions(a)}else!this.$VideoPlayerController160()&&this.$VideoPlayerController69!==b("VideoPlayerImmediatePlayReason").WATCH_TIME_NOT_LOGGED&&b("FBLogger")("video").warn("immediateplay on a hidden video player: %s %s %s %s",this.getPlayerOrigin(),this.getPlayerSuborigin(),this.getSource(),b("ScriptPath").getScriptPath()),this.play(b("VideoPlayerReason").AUTOPLAY)};a.prototype.isBuffering=function(){"use strict";return this.$VideoPlayerController34};a.prototype.$VideoPlayerController161=function(){"use strict";__p&&__p();var a=Math.floor(Date.now()/1e3);this.$VideoPlayerController109=this.$VideoPlayerController109.filter(function(b){return b.time+3>a});this.$VideoPlayerController109.some(function(b){if(b.time===a){b.count+=1;return!0}return!1})||this.$VideoPlayerController109.push({time:a,count:1})};a.prototype.$VideoPlayerController162=function(){"use strict";var a=Math.floor(Date.now()/1e3);return this.$VideoPlayerController109.reduce(function(b,c){return(c.time+3>a?c.count:0)+b},0)};a.prototype.$VideoPlayerController155=function(a){"use strict";this.emit("bufferingProgress",a)};a.prototype.setBuffering=function(a){"use strict";__p&&__p();if(a!==this.$VideoPlayerController34){this.$VideoPlayerController34=a;if(this.$VideoPlayerController34){a=this.$VideoPlayerController14.getNumber("buffering_count_threshold",0);if(a){this.$VideoPlayerController161();if(this.$VideoPlayerController162()>=a){this.logError({error:"EXCEED_BUFFER_FREQUENCY_THRESHOLD",message:"video has entered buffering state "+a+" times in the last 3 seconds.",isPlayback:this.isPlayRequestPending()});return this.emit("error","EXCEED_BUFFER_FREQUENCY_THRESHOLD")}}this.$VideoPlayerController48.startBuffering(this.getCurrentTimePosition());this.$VideoPlayerController104&&(this.$VideoPlayerController163(),this.$VideoPlayerController98=setTimeout(this.$VideoPlayerController164,this.$VideoPlayerController104));this.$VideoPlayerController165()}else this.$VideoPlayerController48.endBuffering(),this.$VideoPlayerController163(),this.isState("paused")&&this.$VideoPlayerController166();this.emit("bufferingChanged")}};a.prototype.setSmartBufferAdjustmentEnabled=function(a){"use strict";var b=this.getVideoAPI();"setSmartBufferAdjustmentEnabled"in b&&b.setSmartBufferAdjustmentEnabled(a)};a.prototype.setVideoStreamOffset=function(a){"use strict";var b=this.getVideoAPI();typeof b.setVideoStreamOffset==="function"&&b.setVideoStreamOffset(a)};a.prototype.$VideoPlayerController163=function(){"use strict";this.$VideoPlayerController98&&(clearTimeout(this.$VideoPlayerController98),this.$VideoPlayerController98=null)};a.prototype.$VideoPlayerController166=function(){"use strict";this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController14.getBool("allow_autoplay_on_resume_from_sleep",!0)&&this.$VideoPlayerController106&&this.play(b("VideoPlayerReason").NETWORK_RESUMED)};a.prototype.$VideoPlayerController165=function(){"use strict";this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController34&&this.$VideoPlayerController105&&this.isState("playing")&&this.pause(b("VideoPlayerReason").NETWORK_INTERRUPTED)};a.prototype.$VideoPlayerController139=function(a){"use strict";this.$VideoPlayerController106=!1};a.prototype.$VideoPlayerController158=function(a){"use strict";a===b("VideoPlayerReason").NETWORK_INTERRUPTED?this.$VideoPlayerController106=!0:this.$VideoPlayerController106=!1};a.prototype.$VideoPlayerController156=function(){"use strict";this.$VideoPlayerController105=!0,this.$VideoPlayerController165()};a.prototype.$VideoPlayerController157=function(){"use strict";this.$VideoPlayerController105=!1,this.$VideoPlayerController166()};a.prototype.isLiveVideo=function(){"use strict";return this.$VideoPlayerController41};a.prototype.isVideo=function(){"use strict";return!0};a.prototype.isBroadcast=function(){"use strict";return!!this.$VideoPlayerController32};a.prototype.isInline=function(){"use strict";return!!this.$VideoPlayerController70&&b("VideoPlayerFormatsMap")[this.$VideoPlayerController70]===b("VideoPlayerFormats").INLINE&&!this.isFullscreen()};a.prototype.isFacecastAudio=function(){"use strict";return this.$VideoPlayerController36};a.prototype.isStreamInterrupted=function(){"use strict";var a=this.$VideoPlayerController85;return!!(a&&a.isStreamInterrupted&&a.isStreamInterrupted())};a.prototype.setVolume=function(a){"use strict";if(!this.$VideoPlayerController33&&this.$VideoPlayerController31)return;b("VideoPlayerVolumeSettings").saveVolume(a);this.getVideoAPI().setVolume(a)};a.prototype.getDOMPosition=function(){"use strict";var a=this.getRootNodeNullable();return a?b("getElementPosition")(a):{x:0,y:0,width:0,height:0}};a.prototype.clickVideo=function(){"use strict";this.emit("clickVideo"),this.$VideoPlayerController28=!0};a.prototype.mouseMove=function(a){"use strict";this.emit("mouseMove",a)};a.prototype.mouseUp=function(a){"use strict";this.emit("mouseUp",a)};a.prototype.mouseLeave=function(a){"use strict";this.emit("mouseLeave",a)};a.prototype.hasSeenClick=function(){"use strict";return!!this.$VideoPlayerController28};a.prototype.isAd=function(){"use strict";return!!this.$VideoPlayerController2};a.prototype.shouldCalculateViewability=function(){"use strict";if(this.isAd())return!0;var a=this.$VideoPlayerController48.getFTdata();if(a==null)return!1;a=a.ft;return a==null?!1:!!a.ei};a.prototype.isInstreamAd=function(){"use strict";return!!this.$VideoPlayerController40};a.prototype.getAdClientToken=function(){"use strict";return this.$VideoPlayerController2};a.prototype.getLastScrollDirection=function(){"use strict";return this.getOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection")||null};a.prototype.$VideoPlayerController167=function(){"use strict";__p&&__p();var a=null,c=null,d=!1,e=null,f=null,g=null,h=null;if(!this.isState("loading")&&!this.isState("fallback")){this.$VideoPlayerController17===null&&(this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingStreamInfoID());a=this.getVideoAPI().getEstimatedBandwidth();c=this.getVideoAPI().getAvailableVideoQualities().length;d=this.getVideoAPI().getIsAbrEnabled();e=this.getPlaybackDuration();if(this.$VideoPlayerController14.getBool("log_player_dimensions",!1)){var i=this.getVideoAPI().getDimensionsForDevice();g=i&&i.height;f=i&&i.width}this.$VideoPlayerController14.getBool("log_connection_quality",!1)&&(h=b("VideoPlayerConnectionQuality").evaluate(function(){return this.getVideoAPI().getEstimatedBandwidth()}.bind(this)))}var j=babelHelpers["extends"]({},this.$VideoPlayerController80);this.$VideoPlayerController24.forEach(function(a,b){j[b]=a(b,this)}.bind(this));i={};this.getOption("SphericalVideoSpatialAudioController","hasSpatialAudio")&&(i.audio_ch_conf=this.getOption("SphericalVideoSpatialAudioController","getSpatialAudioChannelLayout"));var k=this.isLiveVideo()&&b("LiveVideoPlayerStore").getIsRewound(this.getVideoPlayerID());return babelHelpers["extends"]({ad_client_token:this.$VideoPlayerController2,available_qualities:c,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,broadcaster_origin:this.$VideoPlayerController97,projection:this.$VideoPlayerController58,player_version:this.getPlayerVersion(),flash_version:b("ifRequired")("Flash",function(a){return a.getVersionString()}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController71,player_origin:this.$VideoPlayerController55,player_suborigin:this.$VideoPlayerController56,playback_is_broadcast:this.$VideoPlayerController32,player_instance_key:this.$VideoPlayerController113,playback_duration:e,referrer:document.referrer,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),video_buffer_end_position:b("gkx")("678893")?this.$VideoPlayerController85?this.getBufferEndPosition():0:this.getBufferEndPosition(),is_servable_via_fbms:this.$VideoPlayerController42,playback_is_live_streaming:this.$VideoPlayerController41,is_templated_manifest:this.isFBIsLiveTemplated()||this.isFBWasLive(),is_fbms:this.isFBMS(),is_live_video_rewound:k,last_scroll_direction:this.getLastScrollDirection(),video_channel_id:this.$VideoPlayerController86,reaction_video_channel_type:this.$VideoPlayerController64,reaction_video_channel_subtype:this.$VideoPlayerController65,fbcdn_pop:this.$VideoPlayerController52,representation_id:this.$VideoPlayerController17,video_bandwidth:a,video_player_height:g,video_player_width:f,data_connection_quality:h,is_abr_enabled:d,feed_position:this.getDataInsertionPosition(),upstream_player_source:this.$VideoPlayerController83,should_log_video_viewability:this.$VideoPlayerController111,living_room_session_id:this.$VideoPlayerController112,detectionID:this.$VideoPlayerController114,is_ads_preview:this.$VideoPlayerController118,is_injected_ads:this.$VideoPlayerController119,is_chained_living_room:this.$VideoPlayerController121},this.$VideoPlayerController87,this.$VideoPlayerController9,j,i)};a.prototype.$VideoPlayerController137=function(){"use strict";var a=this.getVideoInfo_DEPRECATED();if(!a)return null;a=a.resourceUrl;a=/scontent-([a-z]+)\./.exec(a);return!a?null:a[1]};a.prototype.getVideoInfo_DEPRECATED=function(){"use strict";return this.isState("loading")||this.isState("fallback")?null:this.getVideoAPI().getVideoInfo()};a.prototype.getDebugInfo=function(){"use strict";var a=this.getVideoInfo_DEPRECATED(),c={initializationTime:this.$VideoPlayerController59,initializationTimestamp:this.$VideoPlayerController60,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController48.getCumulativeStallCount(),stallTime:this.$VideoPlayerController48.getCumulativeStallTime(),inPlayStallCount:this.$VideoPlayerController48.getCumulativeInPlayStallCount(),inPlayStallTime:this.$VideoPlayerController48.getCumulativeInPlayStallTime(),interruptCount:this.$VideoPlayerController48.getCumulativeInterruptCount(),interruptTime:this.$VideoPlayerController48.getCumulativeInterruptTime(),state:this.$VideoPlayerController71,canPlayType:b("mapObject")(b("VideoMimeTypes"),b("canVideoPlayType")),loggedError:this.$VideoPlayerController47,lastError:this.$VideoPlayerController44,droppedFrames:!!this.$VideoPlayerController85&&this.$VideoPlayerController85.getDroppedFrames(),totalFrames:!!this.$VideoPlayerController85&&this.$VideoPlayerController85.getTotalFrames(),videoSource:!!this.$VideoPlayerController85&&this.$VideoPlayerController85.getVideoNodeSource(),viewabilityPercentage:!!this.$VideoPlayerController93&&this.$VideoPlayerController93.getViewability(),stack:undefined},d={videoID:this.getVideoID(),isDrm:this.$VideoPlayerController85&&this.$VideoPlayerController85.isDrm()};if(!a)return{player:c,currentVideo:d};var e=this.getVideoAPI().getDimensionsForDevice();return{currentVideo:babelHelpers["extends"]({},d,{streamType:a.streamType,isLiveStream:a.isLiveStream,liveManifestUrl:a.liveManifestUrl,isHD:a.isHD,hasHD:a.hasHD,resourceUrl:a.resourceUrl,hasSubtitles:a.hasSubtitles,hasRateLimit:!!a.hasUnlimitedSrc,isRateLimited:a.hasUnlimitedSrc&&!a.useUnlimitedSrc,tagHD:a.tagHD,tagSD:a.tagSD,projection:this.$VideoPlayerController58,streamId:this.$VideoPlayerController17,audioStreamId:this.getVideoAPI().getAudioStreamInfoIDDebug(),dashAudioFormat:this.getVideoAPI().getDashAudioConfiguration()}),player:babelHelpers["extends"]({},c,{dimensions:e})}};a.prototype.getLastError=function(){"use strict";return this.$VideoPlayerController44};a.prototype.isAkamai=function(){"use strict";var a=this.getVideoInfo_DEPRECATED();return a?a.liveManifestUrl&&a.liveManifestUrl.includes("akamaihd"):!1};a.prototype.getLoggedError=function(){"use strict";return this.$VideoPlayerController47};a.prototype.getTotalFrames=function(){"use strict";return this.$VideoPlayerController85?this.$VideoPlayerController85.getTotalFrames():0};a.prototype.getDroppedFrames=function(){"use strict";return this.$VideoPlayerController85?this.$VideoPlayerController85.getDroppedFrames():0};a.prototype.getInterruptCount=function(){"use strict";return this.$VideoPlayerController48.getCumulativeInterruptCount()};a.prototype.getInterruptTime=function(){"use strict";return this.$VideoPlayerController48.getCumulativeInterruptTime()};a.prototype.getStreamId=function(){"use strict";return this.getVideoAPI().getCurrentlyPlayingStreamInfoID()};a.prototype.getAudioStreamId=function(){"use strict";return this.getVideoAPI().getAudioStreamInfoIDDebug()};a.prototype.getVideoTracks=function(){"use strict";return this.getVideoAPI().getVideoTracksDebug()};a.prototype.getAudioDashFormat=function(){"use strict";return this.getVideoAPI().getDashAudioConfigurationDebug()};a.prototype.getCumulativeStallCount=function(){"use strict";return this.$VideoPlayerController48.getCumulativeStallCount()};a.prototype.getCumulativeStallTime=function(){"use strict";return this.$VideoPlayerController48.getCumulativeStallTime()};a.prototype.getStallCount=function(){"use strict";return this.$VideoPlayerController48.getStallCount()};a.prototype.getStreamType=function(){"use strict";var a=this.getVideoInfo_DEPRECATED();return a?a.streamType:"n/a"};a.prototype.hasSubtitles=function(){"use strict";return this.getVideoAPI().hasSubtitles()};a.prototype.getVideoState=function(){"use strict";return this.$VideoPlayerController71};a.prototype.areSubtitlesActive=function(){"use strict";return this.getVideoAPI().areSubtitlesActive()};a.prototype.areSubtitlesAutogenerated=function(){"use strict";return this.getVideoAPI().areSubtitlesAutogenerated()};a.prototype.areHLSActive=function(){"use strict";return this.getVideoAPI().areHLSActive()};a.prototype.isRTMP_DEPRECATED=function(){"use strict";return this.getVideoAPI().isRTMP()};a.prototype.toggleSubtitles=function(){"use strict";this.$VideoPlayerController154(),this.logEvent(b("VideoPlayerLoggerEvent").CAPTION_CHANGE),this.$VideoPlayerController81=!1};a.prototype.$VideoPlayerController154=function(){"use strict";this.getVideoAPI().toggleSubtitles(),this.$VideoPlayerController140()};a.prototype.$VideoPlayerController140=function(){"use strict";this.hasSubtitles()&&this.areSubtitlesActive()?this.$VideoPlayerController10="on":this.$VideoPlayerController10="off"};a.prototype.isHD=function(){"use strict";return this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop()};a.prototype.hasHD=function(){"use strict";return this.getAvailableVideoQualities().length>1};a.prototype.toggleHD=function(){"use strict";this.isHD()?this.setPreferredVideoQuality(this.getAvailableVideoQualities()[0]):this.setPreferredVideoQuality(this.getAvailableVideoQualities().pop())};a.prototype.setPreferredVideoQuality=function(a){"use strict";this.getVideoAPI().setPreferredVideoQuality(a)};a.prototype.unsetPreferredVideoQuality=function(){"use strict";this.getVideoAPI().unsetPreferredVideoQuality()};a.prototype.getPreferredVideoQuality=function(){"use strict";return this.getVideoAPI().getPreferredVideoQuality()};a.prototype.getSelectedVideoQuality=function(){"use strict";return this.getVideoAPI().getSelectedVideoQuality()};a.prototype.getAvailableVideoQualities=function(){"use strict";return this.getVideoAPI().getAvailableVideoQualities()};a.prototype.getVideoProjection=function(){"use strict";return this.getVideoAPI().getVideoProjection()};a.prototype.canAutoSelectVideoQuality=function(){"use strict";return this.getVideoAPI().canAutoSelectVideoQuality()};a.prototype.switchToStreamType=function(a){"use strict";this.getVideoAPI().switchToStreamType(a)};a.prototype.$VideoPlayerController146=function(){"use strict";this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",n).setString("source",this.$VideoPlayerController70).getURI().toString())};a.prototype.$VideoPlayerController145=function(){"use strict";this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",o).setString("source",this.$VideoPlayerController70).getURI().toString())};a.prototype.$VideoPlayerController138=function(a){"use strict";var b=this.getVideoInfo_DEPRECATED();return b!=null?Object.assign({resource_url:b.resourceUrl,liveStream:b.isLiveStream,hd:b.isHD},a):a};a.prototype.$VideoPlayerController168=function(){"use strict";var a=this.getDOMPosition(),c=b("getViewportDimensions")().height,d;a.y<=0?d=a.y:a.y+a.height<c?d=0:d=a.y+a.height-c;return d};a.prototype.logEvent=function(event,a){"use strict";__p&&__p();this.$VideoPlayerController46++;if(this.$VideoPlayerController95)return undefined;this.$VideoPlayerController117.emit(event);var c=this.$VideoPlayerController14.getNumber("logging_log_event_limit",0);c&&this.$VideoPlayerController46>c&&(this.$VideoPlayerController95=!0);c=++this.$VideoPlayerController25;a=Object.assign(this.$VideoPlayerController167(),a);var d=this.getOriginalPlayReason();d&&event!==b("VideoPlayerLoggerEvent").DISPLAYED&&(a.video_play_reason=d);event===b("VideoPlayerLoggerEvent").FINISHED_PLAYING&&(a.viewport_distance=this.$VideoPlayerController168());(event===b("VideoPlayerLoggerEvent").MUTED||event===b("VideoPlayerLoggerEvent").UNMUTED||event===b("VideoPlayerLoggerEvent").STARTED_PLAYING||event===b("VideoPlayerLoggerEvent").CAPTION_CHANGE||event===b("VideoPlayerLoggerEvent").UNPAUSED)&&(a.caption_state=this.$VideoPlayerController10);this.$VideoPlayerController92&&b("VideoViewabilityKeyEvents").Events.includes(event)&&(a.current_viewability_percentage=this.$VideoPlayerController93.getViewability(),this.$VideoPlayerController93.setLastLoggedViewability(a.current_viewability_percentage));a.event_seq_num=c;b("VideoPlayerExperiments").correctedSBLEventSequence?this.$VideoPlayerController77.has(event)&&(a.seq_num=++this.$VideoPlayerController78):a.seq_num=c;event===b("VideoPlayerLoggerEvent").PLAYED_FOR_THREE_SECONDS&&(a.detection_id=this.$VideoPlayerController114,this.emit("videoView/runFraudDetector"));d=this.$VideoPlayerController48.logEvent(event,a);this.emit("debug/vpcLogEvent",d);return d};a.prototype.getState=function(){"use strict";return this.$VideoPlayerController71};a.prototype.getStreamingFormat=function(){"use strict";var a=this.getVideoInfo_DEPRECATED()||{};return a.streamType||this.$VideoPlayerController43};a.prototype.setPlaybackRate=function(a){"use strict";this.getVideoAPI().setPlaybackRate&&this.getVideoAPI().setPlaybackRate(a)};a.prototype.getPlaybackRate=function(){"use strict";return this.getVideoAPI().getPlaybackRate?this.getVideoAPI().getPlaybackRate():1};a.prototype.setState=function(a){"use strict";if(this.isState(b("VideoPlayerStates").DESTROYED)||this.isState(b("VideoPlayerStates").FALLBACK)&&!this.isFallbackRecoverable())return;this.$VideoPlayerController71=a;this.$VideoPlayerController71==="fallback"&&(b("CSS").addClass(this.getRootNode(),"_3-n5"),this.$VideoPlayerController141());this.emit("stateChange")};a.prototype.isState=function(a){"use strict";return this.$VideoPlayerController71===a};a.prototype.isIntentionallyViewing=function(){"use strict";return this.isState("playing")&&!this.isMuted()};a.prototype.abortLoading=function(a){"use strict";if(this.isState("loading")||this.isState("fallback"))return;b("VideoPlayerExperiments").seekZeroWhenAbortLoadingFinishedVideos&&!(b("VideoPlayerExperiments").seekZeroOnlyVodVideo&&this.$VideoPlayerController41)&&this.isState("finished")&&this.seek(0);this.getVideoAPI().abortLoading(a||{});this.stopHeartbeat()};a.prototype.preload=function(){"use strict";if(this.isState("loading")||this.isState("fallback"))return;this.getVideoAPI().preload()};a.prototype.getPlayerVersion=function(){"use strict";var a;this.$VideoPlayerController85&&(a=this.getVideoAPI());var b=a&&a.getUpdatedPlayerVersion?a.getUpdatedPlayerVersion.bind(a):this.$VideoPlayerController5.getPlayerVersion;b=b?b():this.$VideoPlayerController57;return this.$VideoPlayerController100?this.$VideoPlayerController159(b):b};a.prototype.$VideoPlayerController159=function(a){"use strict";switch(a){case b("VideoPlayerVersions").SILVERCITY:return b("VideoPlayerVersions").REACT_SILVERCITY;case b("VideoPlayerVersions").PLEASANTVILLE:return b("VideoPlayerVersions").REACT_PLEASANTVILLE;case b("VideoPlayerVersions").OZ:return b("VideoPlayerVersions").REACT_OZ;default:return b("VideoPlayerVersions").REACT}};a.prototype.registerOption=function(a,b,c,d){"use strict";var e=this.$VideoPlayerController13.get(a);e||(e=new Map(),this.$VideoPlayerController13.set(a,e));if(e.has(b))throw new Error("An option can only be registered once for each component");e.set(b,{getter:c,setter:d});this.emit("optionsChange")};a.prototype.unregisterOption=function(a,b){"use strict";var c=this.$VideoPlayerController13.get(a);if(!c)throw new Error('The component "'+a+'" has no options registered');if(!c.has(b))throw new Error('The component "'+a+'" has no option "'+b+'" registered');c["delete"](b);c.size||this.$VideoPlayerController13["delete"](a);this.emit("optionsChange")};a.prototype.getComponents=function(){"use strict";return this.$VideoPlayerController13.keys()};a.prototype.getOptions=function(a){"use strict";a=this.$VideoPlayerController13.get(a);return a?a.keys():b("enumerate")([])};a.prototype.hasOption=function(a,b){"use strict";a=this.$VideoPlayerController13.get(a);return!!a&&a.has(b)};a.prototype.getOption=function(a,b){"use strict";a=this.$VideoPlayerController13.get(a);if(!a)return undefined;a=a.get(b);return!a?undefined:a.getter()};a.prototype.setOption=function(a,b,c){"use strict";__p&&__p();a=this.$VideoPlayerController13.get(a);if(!a)throw new Error("Component not registered");a=a.get(b);if(!a)throw new Error("Option not registered");b=a.setter;if(b)return b(c);throw new Error("Read-only option")};a.prototype.showDebugOverlayView=function(a){"use strict";this.emit("showDebugOverlay",a)};a.prototype.$VideoPlayerController129=function(){"use strict";var a=b("DOMQuery").scry(this.$VideoPlayerController67,"^._5pat");return a.length?a[0]:null};a.prototype.registerDrawer=function(a,b){"use strict";return this.$VideoPlayerController23.register(a,b)};a.prototype.getVideoPath=function(){"use strict";return this.$VideoPlayerController90};a.prototype.setAllowCrossPageTransition=function(a){"use strict";this.$VideoPlayerController99=a};a.prototype.cleanOnLeave=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED),this.destroy()};a.prototype.switchToFullVideo=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED),this.getVideoAPI().reloadDashManifest().done(function(){this.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER)),this.emit("switchedToFullVideo"),this.emit("playLiveVODHighlights/showUFI")}.bind(this))};a.prototype.switchToLiveVODHighlights=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED),this.getVideoAPI().reloadLiveVODHighlightsManifest().done(function(){this.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER)),this.emit("switchedToLiveVODHighlights"),this.emit("playLiveVODHighlights/hideUFI")}.bind(this))};a.prototype.isPlayingVODHighlights=function(){"use strict";return this.isState("loading")||this.isState("fallback")||this.isState("destroyed")?!1:this.getVideoAPI().isPlayingVODHighlights()};a.prototype.isLiveVODHighlightsAvailable=function(){"use strict";return this.isState("loading")||this.isState("fallback")||this.isState("destroyed")?!1:this.getVideoAPI().isLiveVODHighlightsAvailable()};a.prototype.$VideoPlayerController130=function(){"use strict";return this.getIsInChannel()||this.$VideoPlayerController70===b("VideoPlayerLoggerSource").LIVING_ROOM||this.$VideoPlayerController70===b("VideoPlayerLoggerSource").TOPIC_CHANNEL_LIVING_ROOM||this.$VideoPlayerController55===b("VideoPlayerOrigins").INTERN_CURATION||this.$VideoPlayerController55===b("VideoPlayerOrigins").GAMES_VIDEO_HUB};a.prototype.getDashAudioConfiguration=function(){"use strict";return this.getVideoAPI().getDashAudioConfiguration()};a.prototype.setEnableLiveheadCatchup=function(a){"use strict";var b=this.getVideoAPI();b&&b.setEnableLiveheadCatchup(a)};a.prototype.isFBWasLive=function(){"use strict";var a=this.$VideoPlayerController85&&this.getVideoAPI();return!!(a&&a.isFBWasLive())};a.prototype.isFBIsLiveTemplated=function(){"use strict";var a=this.$VideoPlayerController85&&this.getVideoAPI();return!!(a&&a.isFBIsLiveTemplated())};a.prototype.isFBMS=function(){"use strict";var a=this.$VideoPlayerController85&&this.getVideoAPI();return!!(a&&a.isFBMS())};a.prototype.isLiveheadCatchupEnabled=function(){"use strict";var a=this.getVideoAPI();return a?a.isLiveheadCatchupEnabled():!1};a.prototype.getSeekableRanges=function(){"use strict";var a=this.getVideoAPI();return a?a.getSeekableRanges():null};a.prototype.isBroadcaster=function(){"use strict";return this.$VideoPlayerController33||!1};a.prototype.$VideoPlayerController132=function(a,c){"use strict";var d=b("CurrentUser").getAccountID();d=d+"_0_"+this.$VideoPlayerController88+"_"+c+"_"+a+"_secret_www";d=b("SparkMD5").hash(d);c={input:{video_id:this.$VideoPlayerController88,timestamp:c,live_copyright_action:a,signature:d}};a=b("WebGraphQL").exec(new(b("LiveVideoCopyrightActionQueryWebGraphQLQuery"))(c));b("promiseDone")(a,function(a){},function(a){})};e.exports=a}),null);
__d("VideoCover",["invariant","Bootloader","CSS","EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,c,d,e){__p&&__p();e===void 0&&(e=null),this.$7=new(b("SubscriptionsHandler"))(),this.$13=function(){this.$5&&b("CSS").show(this.$1)}.bind(this),this.$14=function(){this.$5&&b("CSS").hide(this.$1)}.bind(this),this.$9=function(){this.$3!=null&&this.$3.length>0?b("Bootloader").loadModules(["PhotoSnowlift"],function(a){return a.bootstrap(this.$3)}.bind(this),"VideoCover"):this.$8&&this.$8.clickVideo()}.bind(this),this.$10=function(){b("CSS").hide(this.$1)}.bind(this),this.$12=function(){if(this.$8){var a=this.$8.getOption("Looping","isLooping");if(this.$4||a)return;b("CSS").show(this.$1)}}.bind(this),this.$11=function(){this.$8&&this.$8.isState("fallback")&&this.$6&&b("CSS").show(this.$1)}.bind(this),a instanceof Element||g(0,4829),this.$1=a,c[0]instanceof Element||g(0,4830),this.$2=c[0],this.$3=d,e&&(this.$4=e.hiddenAfterFinish,this.$5=e.showWhileBuffering,this.$6=e.showAfterFallback),b("EventListener").listen(this.$1,"click",this.$9)}a.prototype.disable=function(){"use strict";this.$7.release(),this.$8&&this.$8.unregisterOption("VideoCover","coverElement"),this.$8=null};a.prototype.enable=function(a){"use strict";this.$8=a,a.getState()==="playing"&&this.$10(),this.$7.addSubscriptions(a.addListener("stateChange",this.$11),a.addListener("beginPlayback",this.$10),a.addListener("finishPlayback",this.$12),a.addListener("buffering",this.$13),a.addListener("buffered",this.$14)),a.registerOption("VideoCover","coverElement",function(){return this.$1}.bind(this))};a.prototype.getCurrentCover=function(){"use strict";return this.$2};a.prototype.setSnowLiftURI=function(a){"use strict";this.$3=a};e.exports=a}),null);
__d("VideoNodeStaledScreen",["CSS","EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$3=new(b("SubscriptionsHandler"))(),this.$5=function(){b("CSS").show(this.$1)}.bind(this),this.$4=function(){b("CSS").hide(this.$1)}.bind(this),this.$1=a,this.$2=null,b("EventListener").listen(this.$1,"click",this.$4)}a.prototype.enable=function(a){"use strict";this.$2=a,this.$3.addSubscriptions(this.$2.addListener("videoNodeStaled",this.$5))};a.prototype.disable=function(){"use strict";this.$3.release(),this.$2=null};e.exports=a}),null);
__d("VideoUpdateStateDirectory",["VideoStateDirectory"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$2=function(){var a=this.$1,c=a.getVideoID(),d=a.getCurrentTimePosition();a=a.getPlaybackDuration();b("VideoStateDirectory").setPlaybackState(c,d,a)}.bind(this)}a.prototype.enable=function(a){this.$1=a,a.addListener("finishPlayback",this.$2),a.addListener("pausePlayback",this.$2)};a.prototype.disable=function(){};e.exports=a}),null);
__d("CEA608ExtractorWebWorker",["CEA608ExtractorWorkerResource","WebWorker","WebWorkerTransferPromise"],(function(a,b,c,d,e,f){__p&&__p();var g=null;function h(){g||(g=new(b("WebWorker"))(b("CEA608ExtractorWorkerResource")).setAllowCrossPageTransition(!0).execute());return g}a={isSupported:function(){return b("WebWorker").isMessageChannelSupported()},extract:function(a,c){var d=h().createMessageChannel({timescale:c,data:a});return b("WebWorkerTransferPromise").expectPromise(d)["finally"](function(){return d.close()})},prepare:function(){h()}};e.exports=a}),null);
__d("VideoPlayerMainThreadAvailability",["VideoPlayerShakaGlobalConfig","Visibility","nativeRequestAnimationFrame","performanceNow","requestAnimationFrame","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.__fbNativeSetTimeout,h=a.__fbNativeClearTimeout,i=window.requestIdleCallback,j=window.cancelIdleCallback,k=function(a){var b=function b(){a(b)};return b},l=function(a,b){var c=function c(){a(c,b)};return c},m=function(a,b){var c=function c(){a(c,b)};return c};function c(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null,this.$5=null}c.prototype.enable=function(){if(this.$1||!this.$6())return;this.$7();this.$8();this.$1=!0};c.prototype.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?b("performanceNow")()-Number(this.$2):null};c.prototype.$9=function(){this.$2=b("Visibility").isHidden()?null:b("performanceNow")()};c.prototype.$10=function(){this.$2=null,typeof this.$5==="number"&&(j(this.$5),this.$5=null),typeof this.$4==="number"&&(h(this.$4),this.$4=null)};c.prototype.$8=function(){b("VideoPlayerShakaGlobalConfig").getBool("use_settimeout_for_main_thread_available",!1)?this.$11():this.$12()};c.prototype.$7=function(){b("Visibility").addListener(b("Visibility").VISIBLE,function(){this.$10(),this.$8()}.bind(this)),b("Visibility").addListener(b("Visibility").HIDDEN,function(){this.$10()}.bind(this))};c.prototype.$11=function(){var a=b("VideoPlayerShakaGlobalConfig").getNumber("settimeout_polling_delay",-1);if(a>-1){var c=function(){this.$9(),this.$4=g(c,a)}.bind(this);g(c,a)}};c.prototype.$12=function(){var a=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1),c;a>-1&&(c={timeout:a});var d=function(a){this.$9(),this.$5=b("requestIdleCallback")(d,c)}.bind(this);b("requestIdleCallback")(d,c)};c.prototype.$6=function(){return b("Visibility").isSupported()&&typeof i==="function"&&typeof j==="function"&&typeof g==="function"&&typeof h==="function"};c.prototype.maybeEnablePerformanceTest=function(){var a,c,d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1);d>-1&&(c={timeout:d});b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_raf",!1)&&(a=k(b("requestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_ric",!1)&&(a=l(b("requestIdleCallback"),c));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_raf",!1)&&typeof b("nativeRequestAnimationFrame")==="function"&&(a=k(b("nativeRequestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_ric",!1)&&typeof i==="function"&&(a=l(i,c));d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_native_settimeout_delay",-1);d>-1&&typeof g==="function"&&(a=m(g,d));a&&a()};e.exports=new c()}),null);
__d("VideoPlayerPlayLogger",["EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){"use strict";this.$3=new(b("SubscriptionsHandler"))(),this.$1=a,this.$2=c,this.$3.addSubscriptions(b("EventListener").listen(this.$1,"playing",function(){return this.$5()}.bind(this)),b("EventListener").listen(this.$1,"pause",function(){return this.$6()}.bind(this)))}a.prototype.playStarted=function(){"use strict";(this.$1.paused||this.$1.ended)&&(this.$4=this.$2.getOperationLogger("play").setState("pending_play").start())};a.prototype.$6=function(){"use strict";this.$4&&(this.$4.setResult("aborted").log(),this.$4=null)};a.prototype.$5=function(){"use strict";this.$4&&(this.$4.log(),this.$4=null)};a.prototype.unload=function(){"use strict";this.$3.release()};e.exports=a}),null);
__d("concatArrayBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){var c=new Uint8Array(a.byteLength+b.byteLength);c.set(new Uint8Array(a),0);c.set(new Uint8Array(b),a.byteLength);return c.buffer};e.exports=a}),null);
__d("extractCEA608",["CEA608ExtractorWebWorker","JSResource","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=b("gkx")("678908");function a(a,c){if(h&&b("CEA608ExtractorWebWorker").isSupported())return b("CEA608ExtractorWebWorker").extract(a,c);g||(g=b("JSResource")("CEA608Extractor").__setRef("extractCEA608").load().then(function(a){return new a(c)}));return g.then(function(b){return b.extract(a)})}a.prepare=function(){if(!h||!b("CEA608ExtractorWebWorker").isSupported())return;b("CEA608ExtractorWebWorker").prepare()};e.exports=a}),null);
__d("BufferReplacementHelper",["TaggedTimeRanges"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b,c,d){return a.startTime>b-c&&a.endTime<b+d}function h(a,b,c,d){d=d.get(a.startTime);return!!d&&c(b,d.id)>0}function i(a,b,c,d,e,f,i){__p&&__p();var j=i.thresholdBefore,k=i.thresholdAfter;i=i.wrapReplacementPastEnd;var l=[],m=!1;for(var c=c;c<a.length;c++){g(a[c],b,j,k)&&h(a[c],d,e,f)&&l.push(a[c]);if(a[c].endTime>b+k){m=!0;break}}if(!m&&i){c=b+k-a[a.length-1].endTime;for(var j=0;j<a.length;j++){c-=a[j].endTime-a[j].startTime;c>=0&&h(a[j],d,e,f)&&l.push(a[j]);if(a[j].endTime>b+k)break}}return l}function j(a,b,c,d,e,f,i){var j=i.thresholdBefore,k=i.thresholdAfter;i.wrapReplacementPastEnd;i=[];for(var c=c-1;c>=0;c--){g(a[c],b,j,k)&&h(a[c],d,e,f)&&i.push(a[c]);if(a[c].startTime<b-j)break}return i}function a(a,b,c,d,e,f,g){a=[a,b,c,d,e,f,g];return i.apply(undefined,a).concat(j.apply(undefined,a))}e.exports={getSegmentsToReplaceLowerQuality:a}}),null);
__d("BufferVelocity",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=[],this.$2=a*1e3}a.prototype.recordBufferAhead=function(a){this.$1.push({bufferAhead:a,timestamp:Date.now()})};a.prototype.getVelocity=function(){if(this.$1.length<2)return null;var a=this.$1[this.$1.length-1],b=this.$3(),c=b.oldestValidEntry;b=b.oldestValidEntryIndex;b!=null&&b>0&&this.$1.splice(0,b);return c!=null?(a.bufferAhead-c.bufferAhead)/((a.timestamp-c.timestamp)/1e3):null};a.prototype.$3=function(){var a=null,b=null;for(var c=0;c<this.$1.length-1;c++){a=this.$1[c];if(this.$1[c].timestamp>=Date.now()-this.$2)break;b=c}return{oldestValidEntry:a,oldestValidEntryIndex:b}};a.prototype.reset=function(){this.$1=[]};e.exports=a}),null);
__d("FixedSizeTransform",["invariant","Deferred","DeferredBuffer","MaybeNativePromise","ProducerInterruptedError","ReadableStream","WritableStream","pipeErrorTo"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();a===void 0&&(a={});this.$1=0;this.$4=0;this.$5=b("MaybeNativePromise").resolve();this.$8=[];a=a;var c=a.disableDeferredBufferArrayShift,d=a.useNativePromiseInDeferredBuffer;a=a.fixFixedSizeTransformOnNullEndByte;this.$12=a||!1;this.$3=new(b("DeferredBuffer"))({disableArrayShift:!!c,useNativePromise:!!d})}a.prototype.cancel=function(a){this.$13(a),this.$7&&b("pipeErrorTo")(this.$7,a)};a.prototype.cancelAfterBytes=function(a,b){a<=this.$1?this.cancel(b):(this.$10=a,this.$11=b)};a.prototype.$13=function(a){this.$9=a,this.$6&&this.$6.reject(this.$9)};a.prototype.getSink=function(){this.$2||(this.$2=new(b("WritableStream"))({start:function(a){this.$7=a}.bind(this),write:function(a){a instanceof Uint8Array||g(0,3834),this.$3.produce(a),this.$1+=a.length,this.$10!=null&&this.$10<=this.$1&&this.cancel(this.$11)}.bind(this),close:function(){this.$3.signalProducerInterruption(),this.$2=null}.bind(this),abort:function(a){this.$3.produce(a)}.bind(this)}));return this.$2};a.prototype.getNextFixedSizeStream=function(a){__p&&__p();var c=a===undefined,d=0;if(this.$9)return b("MaybeNativePromise").reject(this.$9);this.$6=new(b("Deferred"))(b("MaybeNativePromise"));var e=this.$6.getPromise(),f=this.$5;this.$5=e;return f.then(function(){__p&&__p();return new(b("ReadableStream"))({start:function(a){this.$8.push(a)}.bind(this),pull:function(e){__p&&__p();if(!c&&this.$4===a)return this.$14(e);var f=c?undefined:(a||0)-this.$4;return this.$3.consume(f).then(function(a){e.enqueue(a),this.$4+=a.length}.bind(this))["catch"](function(a){if(a instanceof b("ProducerInterruptedError"))if(this.$12)return c&&(this.$4>0||d>0)?this.$14(e):d++;else return c?this.$14(e):b("MaybeNativePromise").resolve();this.$13(a);this.$8.forEach(function(c){b("pipeErrorTo")(c,a)})}.bind(this))}.bind(this),cancel:function(a){this.$13(a),b("pipeErrorTo")(this.$7,a)}.bind(this)})}.bind(this))};a.prototype.$14=function(a){a.close();this.$4=0;this.$6.resolve();return b("MaybeNativePromise").resolve()};e.exports=a}),null);
__d("ChunkableContinuousRangeStream",["ByteRange","Deferred","FixedSizeTransform","MaybeNativePromise","PausableRangeStream","ReadableStream"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ByteRange").disjoinAfter,h=b("ByteRange").getLength,i=b("ByteRange").startsAtSame,j=b("ByteRange").startsDuring,k=b("ByteRange").startsImmediateAfter,l=b("ByteRange").union;function a(a,c){__p&&__p();this.$1=b("MaybeNativePromise").resolve(null);this.$2=null;this.$3=null;this.$5=[];this.$7=null;this.$9=!1;this.$10=!1;this.$12=!1;this.$13=!1;this.$14=!1;this.$15=!1;this.$16=!1;this.$17=!1;this.$18=!1;this.$19=!1;this.$20=!1;this.$4=a;c=c||{};a=c;c=a.disableStreamAutoStart;var d=a.enableStreamRangeConcat,e=a.disableDeferredBufferArrayShift,f=a.useNativePromiseInDeferredBuffer,g=a.fixFixedSizeTransformOnNullEndByte,h=a.fixStreamingUndefinedEndByte,i=a.enablePausableStreamResumeFromStart,j=a.fixPausePreReadableStream;a=a.enableFactoryDestroy;this.$12=!!c;this.$13=!!d;this.$14=!!e;this.$16=!!g;this.$15=!!f;this.$8=new(b("FixedSizeTransform"))({disableDeferredBufferArrayShift:this.$14,useNativePromiseInDeferredBuffer:this.$15,fixFixedSizeTransformOnNullEndByte:this.$16});this.$17=!!h;this.$18=!!i;this.$19=!!j;this.$20=!!a}a.prototype.$21=function(){__p&&__p();this.$6&&(this.$6.resolve(null),this.$6=null);this.$3=null;this.$9=!0;if(this.$20){var a=[];this.$5.map(function(b){var c=this.$7;if(!c)return;i(b.getByteRange(),c)&&a.push(b)}.bind(this));this.$5=a}};a.prototype.isClosed=function(){return this.$9};a.prototype.getReservedChunkStream=function(a){__p&&__p();if(this.isClosed())return b("MaybeNativePromise").reject();this.updateRangeStream(a);if(this.$7&&!k(a,this.$7)){this.destroy();return b("MaybeNativePromise").reject(new Error("Bad Range Request"))}this.$7=a;a=h(a);return this.$8.getNextFixedSizeStream(a===null?undefined:a)};a.prototype.$22=function(){var a="close stream";this.$7!=null&&this.$7.endByte!=null&&this.$11!=null?this.$8.cancelAfterBytes(this.$7.endByte-this.$11+1,a):this.$7||this.$8.cancel(a)};a.prototype.updateRangeStream=function(a){__p&&__p();if(this.isClosed())return"closed";if(!this.$23(a)){this.$1.then(function(){this.$22()}.bind(this));this.$21();return"closed"}if(!this.$2)this.$24(a);else{this.$3=this.$25(a);a=this.$5[this.$5.length-1];this.$13&&this.$3!=null&&a&&a.tryConcatByteRange(this.$3)?this.$3=null:!this.$10&&this.$3!=null&&this.$24(this.$3)}return"streaming"};a.prototype.getCurrentStreamRange=function(){return this.$2};a.prototype.removeQueuedRange=function(){this.$3=null};a.prototype.$24=function(a){this.$10=!0,this.$26(a).then(function(){this.$10=!1;if(this.$3){var a=this.$3;this.$3=null;this.$24(a)}}.bind(this))["catch"](function(a){this.$10=!1}.bind(this))};a.prototype.getPausableStreamFactory=function(){return function(){if(this.$5.length)return b("MaybeNativePromise").resolve(this.$5[0]);return this.$6?this.$6.getPromise():b("MaybeNativePromise").resolve(null)}.bind(this)};a.prototype.$26=function(a){__p&&__p();this.$2=a;this.$11==null&&(this.$11=a.startByte);var c=new(b("Deferred"))(b("MaybeNativePromise"));this.$1=c.getPromise();a=new(b("PausableRangeStream"))(a,this.$4,{disableDeferredBufferArrayShift:this.$14,useNativePromiseInDeferredBuffer:this.$15,fixStreamingUndefinedEndByte:this.$17,enablePausableStreamResumeFromStartDangerously:this.$18,fixPausePreReadableStream:this.$19});this.$12?(a=this.$27(a,c),this.$5.push(a)):a.startStream().then(function(){c.resolve()});a=a.getStream();return a.pipeTo(this.$8.getSink())["catch"](function(a){this.$21();throw a}.bind(this))};a.prototype.$27=function(a,c){__p&&__p();var d=a.startStream;a.startStream=function(){__p&&__p();return d.call(a).then(function(d){__p&&__p();d=d.statusPromise;c.resolve();d=d.then(function(c){if(c!=="stream_paused"){var d=this.$5.indexOf(a);d>-1&&this.$5.splice(d,1)}this.$3&&(this.$6=new(b("Deferred"))(b("MaybeNativePromise")));return c}.bind(this));return{statusPromise:d}}.bind(this))}.bind(this);this.$6&&(this.$6.resolve(a),this.$6=null);return a};a.prototype.destroy=function(){this.$22(),this.$21()};a.prototype.$25=function(a){a=a;this.$3&&(a=l(this.$3,a));a!=null&&this.$2&&(a=g(a,this.$2));return a};a.prototype.$23=function(a){if(!this.$2)return!0;return!this.$7?i(a,this.$2):j(a,this.$7)||k(a,this.$7)};e.exports=a}),null);
__d("ContinuousPausableStreamTask",["VideoPriorityCalculator","clearInterval","setInterval"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d,e){__p&&__p();c===void 0&&(c=0);d===void 0&&(d=null);e===void 0&&(e={});this.$3=!1;this.$9=!1;this.$10=!1;this.$11=!1;this.$12=!1;this.$13=0;this.$14=0;this.$15=1;this.$1=a;this.$4=b;this.$7=c;this.$5=d;a=e;b=a.uncancellablePriority;c=a.disableAudioStreamPause;d=a.yieldOnLowPriStream;e=a.lowPriTaskYieldCheckInterval;var f=a.lowPriTaskMinBytesToYield;a=a.lowPriTaskYieldsPerTask;this.$8=b==null?Infinity:b;this.$11=!!c;this.$12=!!d;this.$13=e||0;this.$14=f||0;this.$15=a||1}a.prototype.run=function(){__p&&__p();if(this.$5){var a=this.$5.getOperationLogger("streaming_task").start();a.setType(this.$4);this.$6=a}var c=function(){__p&&__p();this.$2=null;return this.$1().then(function(a){__p&&__p();this.$2=a;this.$3&&this.$16();if(!a){this.$6&&this.$6.setResult("done").log();return}var d=a.getBytesStreamed(),e=a.getByteRange(),f=e.endByte?(e.endByte-e.startByte)/this.$15:0;return a.startStream().then(function(e){__p&&__p();e=e.statusPromise;var g,h=a;this.$13&&h&&(g=b("setInterval")(function(){var a=h.getBytesStreamed()-d;this.$7<b("VideoPriorityCalculator").getMaxPriority()&&a>this.$14&&a>f&&(h.pauseStream(),b("clearInterval")(g))}.bind(this),this.$13));return e.then(function(a){b("clearInterval")(g);if(a==="stream_paused")this.$16();else if(a==="stream_aborted"){this.$6&&this.$6.setResult("failed").log();throw new Error("failed")}(this.$12&&this.$7<b("VideoPriorityCalculator").getMaxPriority()||this.$10)&&(this.$10=!1,this.$16());return c()}.bind(this))["catch"](function(a){b("clearInterval")(g);throw a})}.bind(this))}.bind(this))}.bind(this);return c()};a.prototype.updatePriority=function(a){this.$7=a,this.$9&&this.cancel()};a.prototype.cancel=function(){if(this.$11&&this.$4==="audio")return;if(this.$7>=this.$8){this.$9=!0;return}this.$2&&this.$2.pauseStream();this.$3=!0};a.prototype.cancelOnCurrentStreamDone=function(){this.$10=!0};a.prototype.$16=function(){this.$6&&this.$6.setResult("cancelled").log();throw new Error("cancelled")};e.exports=a}),null);
__d("FirstLoadedVideoPriorityAdjuster",["EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;function a(a){this.$1=function(){},this.$2=new(b("SubscriptionsHandler"))(),this.$3=!1,this.$5=!1,g===null&&(g=a,this.$5=!0,this.$2.addSubscriptions(b("EventListener").listen(a,"playing",function(){this.$3=!0,this.$1&&this.$1(this.getPriorityAdjustment()),this.cleanup()}.bind(this))))}a.prototype.setOnPriorityChanged=function(a){this.$1=a};a.prototype.getPriorityAdjustment=function(){return this.$5&&!this.$3?.5:0};a.prototype.cleanup=function(){this.$2.release(),this.$1=function(){}};e.exports=a}),null);
__d("LocalBitrateHelper",["UnitConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("UnitConstants").BITS_IN_BYTE;function a(a,b,c){__p&&__p();if(!a[b])return null;if(a[b].startTime>c)return b;while(b<a.length){if(a[b].startTime>c)return b;b++}return null}function c(a,b,c){if(b>=a.length||b<0)return null;c=b+c>=a.length?a.length-b-1:c;var d=a[b];a=a[b+c];b=d.url.startByte;c=a.url.endByte;return b===undefined||c===undefined?null:Math.round((c-b)/(a.endTime-d.startTime)*g)}e.exports={getBufferEndSegmentIndex:a,getLocalBitrate:c}}),null);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerShakaPerformanceLoggerConfig","VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;function i(a){typeof a==="number"&&(a=Math.floor(a));return a}var j=!1;g=babelHelpers.inherits(k,b("VideoPlayerShakaPerformanceTypedLogger"));h=g&&g.prototype;k.isEnabled=function(){return k.$ExtendableVideoPlayerShakaPerformanceTypedLogger4()||k.$ExtendableVideoPlayerShakaPerformanceTypedLogger5()};k.enable=function(){j=!0};k.$ExtendableVideoPlayerShakaPerformanceTypedLogger4=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled};k.$ExtendableVideoPlayerShakaPerformanceTypedLogger5=function(){return j};k.prototype.log=function(){k.isEnabled()&&h.log.call(this)};k.prototype.setState=function(a){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=a;return h.setState.call(this,a)};k.prototype.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};k.prototype.setSequentialID=function(a){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=a;h.setSequentialID.call(this,a);return this};k.prototype.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};k.prototype.setSegmentEndTime=function(a){h.setSegmentEndTime.call(this,i(a));return this};k.prototype.setSegmentTimeGap=function(a){h.setSegmentTimeGap.call(this,i(a));return this};k.prototype.setSegmentStartTime=function(a){h.setSegmentStartTime.call(this,i(a));return this};function k(){g.apply(this,arguments)}e.exports=k}),null);
__d("FetchStreamStateTracker",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a.prototype.setNextRequestInfo=function(a){this.$1=this.$2,this.$2=a};a.prototype.setFetchRange=function(a){this.$3=a};a.prototype.isNextRequestContinuous=function(){this.$2||g(0,3883);if(!this.$1)return!1;return this.$1.baseUrl!==this.$2.baseUrl||(this.$1.endByte||0)+1!==(this.$2.startByte||0)?!1:!0};a.prototype.isNextRequestInRange=function(){this.$2||g(0,3883);if(!this.$3)return!1;var a=Infinity,b=this.$3.endByte;b!==null&&b!==undefined&&(a=b);return(this.$2.endByte||0)<=a};function a(){}e.exports=a}),null);
__d("CustomAbrManager",["invariant","regeneratorRuntime","AbrEvaluationSignal","MosUtils","RlAbrModel","RlAbrUtils","Shaka","SubscriptionsHandler","VideoClientEdgeCooperation","VideoDashPrefetchCache","VideoPlaybackQuality","VideoPlayerConnectionQuality","VideoPlayerLocalBandwidthEstimator","VideoPlayerLoggerSource","VideoPlayerStreamSwitchReasons","VideoPlayerUtils","VideoQualityClasses","getBandwidthUpgradeTargetFactor","getVideoTracksWithoutSmoothPlayback"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("Shaka").player.VideoTrack,i=b("VideoPlaybackQuality").getDroppedFrames,j=b("VideoPlaybackQuality").getTotalFrames,k=window.devicePixelRatio||1;function l(a){"use strict";this.$39=!1,this.$2=null,this.$3=null,this.$4=a.shakaConfig,this.$5=a.performanceLogger,this.$7=new(b("SubscriptionsHandler"))(),this.$8=!0,this.$9=!1,this.$6=a.isSpherical,this.$10=a.width,this.$11=a.height,this.$13=a.resolutionConstraintMaxWidth,this.$12=a.resolutionConstraintMaxHeight,this.$14=a.minPlayQuality&&!this.$4.getBool("disable_min_quality",!1)?a.minPlayQuality:null,this.$15=a.maxPlayQuality?a.maxPlayQuality:null,this.$16=a.initiallyForcedRepresentations||b("VideoDashPrefetchCache").getCachedRepresentations(a.videoID),this.$17=a.video,this.$18=a.videoID,this.$30=null,this.$27=null,this.$29=null,this.$28=a.abrLogger,this.$41=!1,this.$31=a.getSource,this.$37=typeof a.useStrictTrackDimensionsExclusionLogic==="boolean"?a.useStrictTrackDimensionsExclusionLogic:this.$4.getBool("use_strict_track_dimensions_exclusion_logic",!1),a.enableAdaptation&&(this.$19=a.bandwidthModel,this.$20=a.bandwidthDowngradeTarget,this.$21=a.bandwidthUpgradeTarget,this.$22=a.useNewBandwidthBandLogic,this.$23=a.hvqUpgradeAggressiveness,this.$24=a.hvqInlineUpgradeAggressiveness,this.$25=a.preHvqUpgradeAggressiveness,this.$26=a.preHvqInlineUpgradeAggressiveness,this.$32=a.enableReinforcementLearning,this.$34=a.rlModelId,this.$33=a.rlUseShortFeatures,this.$40=a.videoWatchTimeTracker,this.$42=new(b("RlAbrModel"))(this.$4))}l.prototype.destroy=function(){"use strict";this.$1&&(this.$1.destroy(),this.$1=null),this.$7.release(),this.$7.engage(),this.$2=null,this.$3=null,this.$8=!1};l.prototype.setDimensions=function(a,b){"use strict";this.$10=a;this.$11=b;this.$2&&this.$2.setResolutionConstraint(this.$43(),this.$44());a=this.$17.paused?this.$4.getNumber("clear_buffer_on_constraint_change_paused_offset",5):this.$4.getNumber("clear_buffer_on_constraint_change_offset",5);this.$45({clearBufferIfUpgrading:this.$4.getBool("clear_buffer_on_constraint_change",!1),clearBufferOffset:a})};l.prototype.initialize=function(a,b){"use strict";if(this.$2||this.$3)return;this.$2=a;this.$3=b;a.setResolutionConstraint(this.$43(),this.$44())};l.prototype.start=function(){"use strict";if(!this.$2||!this.$3||this.$9)return;this.$2&&(this.$1=new(b("AbrEvaluationSignal"))(this.$17,this.$2,this.$3,{minEvalInterval:this.$4.getNumber("min_eval_interval",1e3),minSwitchInterval:this.$4.getNumber("min_switch_interval",5e3),ignoreTimeLimitForInitialSample:!0,useLowBufferVelocityInterval:this.$4.getBool("use_low_buffer_velocity_abr_interval",!1),lowBufferVelocityIntervalBufferThreshold:this.$4.getNumber("low_buffer_velocity_abr_interval_buffer_threshold",10),lowBufferVelocityAbrInterval:this.$4.getNumber("low_buffer_velocity_abr_interval",500),evaluateAbrOnFetchEnd:this.$4.getBool("evaluate_abr_on_fetch_end",!1),ignoreRecentBandwidthEvalOnFetchEnd:this.$4.getBool("ignore_recent_bandwidth_eval_on_fetch_end",!1)}),this.$1.addListener("evaluate",this.$46.bind(this)));this.$9=!0;this.$4.getBool("make_early_track_selection",!1)&&this.$29===b("VideoPlayerStreamSwitchReasons").FORCED&&this.$45()};l.prototype.$47=function(){"use strict";this.$16||(this.$16=b("VideoDashPrefetchCache").getCachedRepresentations(this.$18));return this.$16};l.prototype.$46=function(){"use strict";this.$45()};l.prototype.$48=function(){"use strict";var a=this.$4.getNumber("resolution_constraint_factor",2);return a*k};l.prototype.$43=function(){"use strict";return this.$6||!this.$4.getBool("use_resolution_constraints",!0)?Infinity:Math.min(this.$10*this.$48(),this.$13)};l.prototype.$44=function(){"use strict";return this.$6||!this.$4.getBool("use_resolution_constraints",!0)?Infinity:Math.min(this.$11*this.$48(),this.$12)};l.prototype.setPreferredVideoTrack=function(a){"use strict";this.$30=a,this.$45({clearBufferIfUpgrading:!0,clearBufferOffset:0})};l.prototype.unsetPreferredVideoTrack=function(){"use strict";this.$30=null,this.$45()};l.prototype.enable=function(a){"use strict";this.$8=a};l.prototype.getInitialVideoTrackId=function(){"use strict";if(!this.$2||!this.$3)return null;var a=this.$49();return a?a.id:null};l.prototype.getInitialSwitchReason=function(){"use strict";return this.$29};l.prototype.getInitialAudioTrackId=function(){"use strict";if(!this.$2||!this.$3)return null;var a=this.$50();return a?a.id:null};l.prototype.selectVideoTrack=function(a,c,d,e){"use strict";__p&&__p();if(!this.$9)return;var f=this.$4.getBool("abr_switch_after_stream_completes",!1),g=this.$4.getNumber("abr_abort_when_fetch_estimate_exceeds_buffer_factor",0),i=this.$4.getNumber("abr_abort_when_fetch_estimate_exceeds_time",0),j=this.$4.getNumber("abr_abort_on_zero_stream_progress_below_threshold",-1),k=this.$3.getVideoStreamProgressTracker(),m=l.$51(this.$3.getVideoTracks());m=m&&h.compare(m,a)<0?this.$4.getBool("abr_abort_only_on_downgrade",!1):!0;if(k&&k.canTrackProgress()&&k.hasStarted()){var n=b("VideoPlayerUtils").getBufferedAheadOf(this.$17),o=k.getEstimatedTimeRemainingOfStream();n=g>0&&o>n*g;g=i>0&&o>i;o=j>-1?k.getProgress()<=j:!1;if(m&&(n||g||o)){this.$3.selectVideoTrack(a.id,c,d,e,!0);return}else if(f){this.$3.stopUntilVideoStreamSwitch();k.setOnStreamConsumed(function(){this.$3.selectVideoTrack(a.id,c,d,e)}.bind(this));return}}this.$3.selectVideoTrack(a.id,c,d,e,this.$4.getBool("abr_abort_without_stream_progress",!1))};l.$51=function(a){"use strict";for(var b=0;b<a.length;++b)if(a[b].active)return a[b];return null};l.prototype.$45=function(a){"use strict";__p&&__p();var c,d,e,f,g,i,j;return b("regeneratorRuntime").async(function(k){__p&&__p();while(1)switch(k.prev=k.next){case 0:a===void 0&&(a={clearBufferIfUpgrading:!1,clearBufferOffset:0});if(this.$8){k.next=3;break}return k.abrupt("return");case 3:c=a,d=c.clearBufferIfUpgrading,e=c.clearBufferOffset;f=[];if(!this.$4.getBool("exclude_tracks_without_smooth_playback",!1)){k.next=9;break}k.next=8;return b("regeneratorRuntime").awrap(b("getVideoTracksWithoutSmoothPlayback")(this.$52(),this.$53()));case 8:f=k.sent;case 9:g=null;if(!(this.$32&&(!this.$17.paused||!this.$4.getBool("rl_use_fallback_evaluation_when_paused",!1)))){k.next=28;break}if(!(!this.$41&&this.$4.getBool("rl_use_fallback_for_first_evaluation",!1))){k.next=15;break}g=this.$49(f);k.next=26;break;case 15:if(!this.$4.getBool("rl_block_fetching",!1)){k.next=23;break}this.$3.stopUntilVideoStreamSwitch();k.next=19;return b("regeneratorRuntime").awrap(this.$54());case 19:g=k.sent;this.$3.resumeVideoFetching();k.next=26;break;case 23:k.next=25;return b("regeneratorRuntime").awrap(this.$54());case 25:g=k.sent;case 26:k.next=29;break;case 28:g=this.$49(f);case 29:if(!g){k.next=36;break}if(!g.active){k.next=32;break}return k.abrupt("return");case 32:i=!1,d&&(j=l.$51(this.$3.getVideoTracks()),i=j?h.compare(j,g)<0:!1),this.$1&&this.$1.notifySwitch(),this.selectVideoTrack(g,i,e,this.$27);case 36:case"end":return k.stop()}},null,this)};l.prototype.$55=function(){"use strict";this.$39=this.$39||b("VideoPlayerConnectionQuality").evaluate(function(){return this.$56()}.bind(this))==="POOR";return this.$39};l.prototype.$57=function(){"use strict";if(!this.$3)return!1;var a=this.$3.getBufferVelocity();return a!==null&&a<this.$4.getNumber("low_buffer_velocity_threshold",0)};l.prototype.$58=function(a,b,c){"use strict";__p&&__p();if(!this.$28)return;var d=this.$35||l.$51(c);this.$5&&this.$5.getEventLogger("abr_evaluation").setDynamicBitrate(b.bandwidth).setStreamSwitchReason(a).setInitiator(d?d.streamInfoID:null).setConcluder(b.streamInfoID).setResult(b.active?"paused":"success").log();if(this.$28){var e=new Map();if(c)for(var f=0;f<c.length;f++)e.set(c[f].fbQualityLabel,c[f].bandwidth);this.$28.setEvent("track_selection").setReason(a).setRepresentationID(b.streamInfoID).setFbQualityLabel(b.fbQualityLabel).setIsHvq(b.isInlineHVQ||b.isHVQ).setActiveRepresentationID(d?d.streamInfoID:null).setActiveIsHvq(d?d.isInlineHVQ||d.isHVQ:null).setAvailableTracks(e).log()}};l.prototype.$53=function(){"use strict";return this.$3.getAudioTracks().find(function(a){return a.active})};l.prototype.$52=function(){"use strict";return this.$3.getVideoTracks({useLocalBitrate:this.$4.getBool("use_local_bitrate",!1)})};l.prototype.$59=function(a){"use strict";this.$35=l.$51(a),this.$36=this.$35?a.indexOf(this.$35):-1};l.prototype.$60=function(a){"use strict";__p&&__p();if(a.length==0)return[];a=a.filter(function(a){return!(a.avoidOnPoorConnection&&this.$55())}.bind(this));var c=this.$47();if(!this.$9)for(var d=0;d<a.length;d++)if(c&&c.includes(a[d].streamInfoID)){this.$27=b("VideoPlayerStreamSwitchReasons").FORCED;this.$29=b("VideoPlayerStreamSwitchReasons").FORCED;this.$58(this.$27,a[d],[a[d]]);return[a[d]]}if(this.$30){var e=this.$30.id;d=a.find(function(a){return a.id===e});if(d){this.$27=b("VideoPlayerStreamSwitchReasons").USER;this.$58(this.$27,d,[d]);return[d]}}a.sort(h.compare);if(this.$14!==null||this.$15!==null){var f=this.$14!==null?b("VideoQualityClasses").indexOf(this.$14):0,g=this.$15!==null?b("VideoQualityClasses").indexOf(this.$15):b("VideoQualityClasses").length-1;if(f<=g){c=a.filter(function(a){return b("VideoQualityClasses").indexOf(a.fbQualityClass)>=f&&b("VideoQualityClasses").indexOf(a.fbQualityClass)<=g});this.$27=b("VideoPlayerStreamSwitchReasons").PREFER_QUALITY_CLASS;if(!c.length){this.$58(this.$27,a[a.length-1],[a[a.length-1]]);return[a[a.length-1]]}d=b("VideoQualityClasses").indexOf("sd");if(a.length==2&&c.length==2&&g<=d){this.$58(this.$27,a[0],[a[0]]);return[a[0]]}a=c}}return a};l.prototype.$61=function(a){"use strict";var b=this.$44(),c=this.$43();a=a.filter(function(a){return this.$37?(a.width||0)<=c&&(a.height||0)<=b:(a.width||0)<=c||(a.height||0)<=b}.bind(this));return a};l.prototype.$62=function(a,b){"use strict";return b.length===0?a:a.filter(function(a){return!b.find(function(b){return a.id===b.id})})};l.prototype.$63=function(){"use strict";if(this.$3===null)return!1;var a=this.$4.getBool("use_buffer_target_only_after_buffering_goal_is_hit",!1);if(a&&!this.$3.hasHitBufferingGoal())return!0;a=this.$4.getNumber("buffer_velocity_time_in_past_to_consider",0)>0;return a&&!this.$57()?!0:!1};l.prototype.$49=function(a){__p&&__p();a===void 0&&(a=[]);var c=this.$52();this.$59(c);c=this.$60(c);var d=this.$56();this.$4.getBool("exclude_tracks_with_expensive_mos",!1)&&(c=b("MosUtils").filterTracksWithExpensiveMos(c,this.$10*k,this.$11*k,d,this.$4.getNumber("maximum_mos_to_decrease",3),this.$4.getNumber("maximum_bandwidth_bitrate_ratio",1.5)));if(c.length==0)return null;else if(c.length==1)return c[0];this.$41=!0;var e=c[0];c=this.$62(c,a);a=c.reduce(function(a,b){return a>(b.bandwidth||0)?a:b.bandwidth||0},0);d=b("VideoClientEdgeCooperation").applyBandwidthLimit(d,a);c=this.$61(c);a=l.$51(this.$3.getAudioTracks());a=a?a.bandwidth:0;var f=b("VideoPlayerUtils").getBufferedAheadOf(this.$17);if(f<this.$4.getNumber("force_lowest_representation_threshold",0)&&!this.$63()){var g=0;this.$36>-1&&(g=Math.floor(this.$36*this.$4.getNumber("force_lower_representation_step_ratio",0)));g>=c.length&&(g=c.length-1);this.$27=b("VideoPlayerStreamSwitchReasons").LOW_BUFFER_AVAILABILITY;e=c[g]||e;this.$58(this.$27,e,c);return e}else{g=0;for(var h=0;h<c.length;h++){var i=c[h],j=h+1<c.length?c[h+1]:{bandwidth:Number.POSITIVE_INFINITY};if(!i.bandwidth)continue;var m=this.$64(i,j,f,this.$31&&this.$31()),n=this.$22?g:(i.bandwidth+a)/this.$20;j=(j.bandwidth+a)/m;g=j;m=this.$4.getBool("use_buffer_downgrade_threshold",!1);var o=this.$4.getNumber("buffer_downgrade_threshold",10);if(m&&f>o&&h<=this.$36){e=this.$35?this.$35:i;continue}if(d>=n&&d<=j){e=i;if(e.active)break}}this.$27=b("VideoPlayerStreamSwitchReasons").BANDWIDTH}this.$58(this.$27,e,c);return e};l.prototype.$65=function(){"use strict";return!this.$2||!this.$2 instanceof b("VideoPlayerLocalBandwidthEstimator")?[]:this.$2.getRecentSamples()};l.prototype.$56=function(){"use strict";this.$2 instanceof b("VideoPlayerLocalBandwidthEstimator")||g(0,2969);return this.$2.getBandwidth(this.$19)};l.prototype.$64=function(a,c,d,e){"use strict";__p&&__p();var f=1;!a.isInlineHVQ&&c.isInlineHVQ?f=this.$26:a.isInlineHVQ&&e===b("VideoPlayerLoggerSource").INLINE?f=this.$24:a.isHVQ&&(f=this.$23);c=this.$4.getNumber("buffer_target",-1);e=!this.$4.getBool("use_buffer_target_only_after_buffering_goal_is_hit",!1)||this.$3&&this.$3.hasHitBufferingGoal();a=c>-1&&e;if(a){e=d>c;a=e?this.$4.getNumber("buffer_target_overflow_upgrade_aggressiveness",1):this.$4.getNumber("buffer_target_underflow_upgrade_aggressiveness",1);f*=a}d=this.$4.getNumber("frame_drop_penalty_minimum_frame_count",0);d>0&&(f*=b("getBandwidthUpgradeTargetFactor")(i(this.$17),j(this.$17),d,this.$4.getNumber("frame_drop_penalty_factor",0)));return this.$21*f};l.prototype.$50=function(){"use strict";__p&&__p();var a=this.$3.getAudioTracks();if(a.length==0)return null;var b=this.$47();if(!this.$9)for(var c=0;c<a.length;c++)if(b&&b.includes(a[c].streamInfoID))return a[c];return null};l.prototype.$54=function(){__p&&__p();var a=this,c,d,e,f,g,h,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:c=this.$52();this.$59(c);c=this.$60(c);if(!(c.length==0)){o.next=7;break}return o.abrupt("return",null);case 7:if(!(c.length==1)){o.next=9;break}return o.abrupt("return",c[0]);case 9:c=this.$61(c);if(!(c.length==0)){o.next=14;break}return o.abrupt("return",null);case 14:if(!(c.length==1)){o.next=16;break}return o.abrupt("return",c[0]);case 16:this.$27=b("VideoPlayerStreamSwitchReasons").FORCED;d=c[0];e=b("VideoPlayerUtils").getBufferedAheadOf(this.$17);this.$65();f=this.$56();g=this.$33?b("RlAbrUtils").getRlAbrShortFeatures(this.$17,c,e,f):b("RlAbrUtils").getRlAbrFeatures(this.$17,c,e,f,this.$40);if(g){o.next=24;break}return o.abrupt("return",this.$49());case 24:h=this.$43();i=this.$44();o.prev=26;if(!this.$33){o.next=32;break}o.next=30;return b("regeneratorRuntime").awrap(function(){__p&&__p();var e,f,j,k;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:l.next=2;return b("regeneratorRuntime").awrap(b("RlAbrUtils").genRlAbrShortFeaturesRecommendation(g,a.$4.getNumber("min_eval_interval",1e3),a.$34));case 2:e=l.sent;if(!(!e||e.length==0)){l.next=5;break}throw new Error("RL service not available.");case 5:f=function(f){var g=c.find(function(a){var c=b("RlAbrUtils").getQualityLabelBracket(a.fbQualityLabel,this.$33);return c===e[f]&&(a.width<=h||a.height<=i)});if(g){d=g;a.$27=b("VideoPlayerStreamSwitchReasons").RL_DECISION;return"break"}},j=0;case 7:if(!(j<e.length)){l.next=14;break}k=f(j);if(!(k==="break")){l.next=11;break}return l.abrupt("break",14);case 11:j++;l.next=7;break;case 14:case"end":return l.stop()}},null,this)}());case 30:o.next=52;break;case 32:j=this.$40?this.$40.getGuid():null;if(!(j===null)){o.next=35;break}return o.abrupt("return",this.$49());case 35:k=b("RlAbrUtils").getRlAbrAvailableBitrates(c);if(!(k.length>this.$4.getNumber("rl_max_number_of_bitrates",10))){o.next=38;break}return o.abrupt("return",this.$49());case 38:l=this.$4.getNumber("rl_request_timeout",1e3);if(!this.$4.getBool("rl_buffer_timeout",!0)){o.next=43;break}l=Math.min(l,(e-1)*1e3);if(!(l<0)){o.next=43;break}return o.abrupt("return",this.$49());case 43:m=this.$4.getString("rl_smc_tier","repomen_1");if(this.$42.modelFetched()){o.next=49;break}this.$42.fetchIfNotExist(j,m,l);return o.abrupt("return",this.$49());case 49:n=this.$42.getPolicyReportExperience(j,m,g,k,c,l),d=c[n],this.$27=b("VideoPlayerStreamSwitchReasons").RL_DECISION;case 52:o.next=57;break;case 54:o.prev=54;o.t0=o["catch"](26);return o.abrupt("return",this.$49());case 57:this.$38=g;this.$58(this.$27,d,c);return o.abrupt("return",d);case 60:case"end":return o.stop()}},null,this,[[26,54]])};e.exports=l}),null);