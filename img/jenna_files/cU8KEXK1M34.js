if (self.CavalryLogger) { CavalryLogger.start_js(["6aZMG"]); }

__d("CameraPostMediaCaptionComponent.react",["cx","CameraPostLongTextComponent.react","React","FBStoriesTextWithEntities.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("CameraPostLongTextComponent.react"),{lines:2,minLineHeight:20,maxLineHeight:20,expandHandler:this.props.expandHandler,truncateHandler:this.props.truncateHandler,openWithSidePanel:this.props.openWithSidePanel,onLinkClick:this.props.onLinkClick,storyMetadata:this.props.currentThreadData,currentThreadData:this.props.currentThreadData,rootClassName:"_6r7j",boxClassName:"_6r7l",textClassName:"_6r7m",expandedRootClassName:"_6taa",buttonClassName:"_6r88",mediaCaption:!0},b("React").createElement(b("FBStoriesTextWithEntities.react"),{linkClassName:"_76_l",text:this.props.message.text,ranges:this.props.message.ranges,onLinkClick:this.props.onLinkClick,openWithSidePanel:this.props.openWithSidePanel}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CameraPostNFXToast.react",["ix","cx","Image.react","React","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a;return b("React").createElement("div",{className:"_618_",key:"toast"},b("React").createElement("div",{className:"_j71"},b("React").createElement(b("Image.react"),{src:g("415984")})),b("React").createElement(b("XUIText.react"),{className:"_4b4i"},(a=this.props.nfxPayload)!=null?(a=a.completed_title)!=null?a.text:a:a))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("CameraPostSendReplyContentButtons.react",["cx","fbt","ChatComposerFlyoutButtonBootLoader.react","ClickableArea.react","FBStoriesGatingConfig","JSResource","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=b("FBStoriesGatingConfig").replyButtonsEnabled;return!a?null:b("React").createElement("div",{className:"_2jcv"},this.$1(),this.$2(),this.$3())};a.prototype.$1=function(){var a={onSelect:this.props.onEmojiSelect,getInput:function(){return this.props.input}.bind(this)};return b("React").createElement(b("ClickableArea.react"),{onClick:this.props.onFocusInput},b("React").createElement("div",null,b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"emoji",interactionClassName:"_4ikx",flyoutAlignment:"left",iconClassName:"_3cgx _3cgy",flyoutLoader:b("JSResource")("ChatEmojiFlyout.react").__setRef("CameraPostSendReplyContentButtons.react"),dialogProps:{offsetY:10},flyoutProps:a,title:h._("Choose an emoji"),buttonName:"emoji"})))};a.prototype.$3=function(){var a={threadID:this.props.threadID,onStickerSelect:this.props.onStickerSelect},c={className:"_5e-r",position:"above"};return b("React").createElement(b("ClickableArea.react"),{onClick:this.props.onFocusInput},b("React").createElement("div",null,b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{flyoutProps:a,dialogProps:c,flyoutAlignment:"left",key:"sticker",interactionClassName:"_4ikx",iconClassName:"_3cgx _2jcw",flyoutLoader:b("JSResource")("StickersFlyoutWrapper.react").__setRef("CameraPostSendReplyContentButtons.react"),title:h._("Choose a sticker"),buttonName:"sticker"})))};a.prototype.$2=function(){var a={getQuery:function(){return null},onSelect:this.props.onGifSelect};return b("React").createElement(b("ClickableArea.react"),{onClick:this.props.onFocusInput},b("React").createElement("div",null,b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"gif",interactionClassName:"_4ikx",flyoutProps:a,flyoutAlignment:"left",iconClassName:"_3cgx _4iky",flyoutLoader:b("JSResource")("ChatContentSearchFlyoutWrapper.react").__setRef("CameraPostSendReplyContentButtons.react"),title:h._("Choose a gif"),buttonName:"gif"})))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("CameraPostSendReplyDraftEditor.react",["cx","fbt","BusinessConversationEvent","BusinessConversationEventTarget","BusinessConversationLogger","CameraPostSendReplyContentButtons.react","CameraPostTypes","DraftEditor.react","EditorState","Image.react","React","addEmojiInput","addEmojiToEditorState","emptyFunction","getVisibleValueForContentStateWithMessengerEmoji"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("addEmojiInput")(b("DraftEditor.react"));c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={editorState:b("EditorState").createEmpty()},this.$2=function(a){this.setState({editorState:a})}.bind(this),this.$3=function(event,a){a=b("getVisibleValueForContentStateWithMessengerEmoji")(this.state.editorState.getCurrentContent());a.trim().length>0&&(this.props.onReplyEntered(a),this.resetState());return"handled"}.bind(this),this.$4=function(a){return this.$1=a}.bind(this),this.$5=function(a){var c=this.state.editorState;a=b("addEmojiToEditorState")(a,c);a!==this.state.editorState&&this.$2(a)}.bind(this),c}a.prototype.componentDidMount=function(){this.props.cameraPostType===b("CameraPostTypes").PAGE_STORY&&this.props.ownerID!==null&&this.props.ownerID!==undefined&&b("BusinessConversationLogger").log(this.props.ownerID,b("BusinessConversationEvent").IMPRESSION,b("BusinessConversationEventTarget").PAGE_STORY_REPLY_BAR,"page_stories_www",{}),this.$1!=null&&(this.props.focused===!0?this.$1.focus():this.$1.blur())};a.prototype.componentDidUpdate=function(a,b){this.$1!=null&&a.focused!==this.props.focused&&(this.props.focused===!0?this.$1.focus():this.$1.blur())};a.prototype.resetState=function(){var a=b("EditorState").createEmpty();this.setState({editorState:b("EditorState").moveFocusToEnd(a)})};a.prototype.render=function(){return b("React").createElement("div",{className:"_2dvt"},b("React").createElement("div",{className:"_2dv-"},b("React").createElement(b("Image.react"),{src:this.props.replyProfilePic,className:"_2dv_"})),b("React").createElement("div",{className:"_2dw0"},b("React").createElement("div",{className:"_3r4m draftEditor"},b("React").createElement(j,{editorState:this.state.editorState,handleReturn:this.$3,onChange:this.$2,onFocus:this.props.onFocusInput,placeholder:b("React").createElement("span",{className:"_2pid"},h._("Write a reply...")),ref:this.$4,spellCheck:!0,textAlignment:"left"})),b("React").createElement(b("CameraPostSendReplyContentButtons.react"),{input:this.$1,onEmojiSelect:this.$5,onFocusInput:this.props.onFocusInput,onGifSelect:this.props.onGifSelect,onReplyEntered:this.props.onReplyEntered,onStickerSelect:this.props.onStickerSelect,threadID:this.props.threadID})))};a.defaultProps={onFocusInput:b("emptyFunction")};e.exports=a}),null);
__d("CameraPostSendingToast.react",["ix","cx","fbt","Image.react","React","XUIText.react","asset","fbglyph","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(){var a=b("gkx")("678253")?g("415984"):g("114797");return b("React").createElement("div",{className:"_618_",key:"toast"},b("React").createElement("div",{className:"_j71"},b("React").createElement(b("Image.react"),{src:a})),b("React").createElement(b("XUIText.react"),{className:"_4b4i"},i._("Reply Sent")))};e.exports=a}),null);
__d("XLiveVideoStoriesUIController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live_video/stories/ui/",{video_id:{type:"FBID",required:!0}})}),null);
__d("FBStoriesLiveVideoAPI",["AsyncRequest","XLiveVideoStoriesUIController"],(function(a,b,c,d,e,f){"use strict";a={loadUIComponents:function(a){a=b("XLiveVideoStoriesUIController").getURIBuilder().setFBID("video_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()}};e.exports=a}),null);
__d("FBStoriesLiveVideoUIStore",["FBStoriesDispatcher","FBStoriesLiveVideoActionTypes","FBStoriesLiveVideoAPI","FBStoriesStore","FluxLoadObjectStore","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.reduce=function(a,c){switch(c.type){case b("FBStoriesLiveVideoActionTypes").SET_UI_COMPONENTS:b("FBStoriesDispatcher").waitFor([b("FBStoriesStore").getDispatchToken()]);return b("FBStoriesStore").getCurrentThreadMediaIDForSelectedBucket()===c.videoID?this.__handleOne(a,c.videoID,c.uiComponents):a;case b("FBStoriesLiveVideoActionTypes").REMOVE_UI_COMPONENTS:return this.__setEmpty(a,this.getState().keys());case b("FBStoriesLiveVideoActionTypes").LOAD_UI_COMPONENTS_FAILED:return this.__handleOne(a,c.videoID,new Error("Failed to load UI components"));default:return a}};a.prototype.__load=function(a){b("FBStoriesLiveVideoAPI").loadUIComponents(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("FBStoriesDispatcher"))}),null);
__d("FBStoriesMuteConfirmationDialog.react",["cx","fbt","CameraPostTypes","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=500;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.$1=function(){switch(this.props.cameraPostType){case b("CameraPostTypes").PAGE_STORY:return h._("You'll stop seeing their story but can still see posts from this Page.");case b("CameraPostTypes").EVENT_STORY:return h._("You'll stop seeing this story but can still see event updates.");case b("CameraPostTypes").GROUP_STORY:return h._("You'll stop seeing this story but will stay in the group.")}return h._("You'll stop seeing their story but will remain friends.")};a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{width:j,shown:this.props.shown,isStrictlyControlled:!0,onHide:this.props.hideAction},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Mute {bucket_owner_name}?",[h._param("bucket_owner_name",this.props.bucketOwnerName)])),b("React").createElement(b("XUIDialogBody.react"),null,this.$1()),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.props.hideAction}),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",className:"_4jy1",label:h._("Mute"),onClick:this.props.confirmAction}))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesNFXConfirmationDialog.react",["React","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=500;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a;return b("React").createElement(b("XUIDialog.react"),{width:h,isStrictlyControlled:!0,onHide:this.props.hideAction,shown:this.props.shown},b("React").createElement(b("XUIDialogTitle.react"),null,(a=this.props.nfxPayload)!=null?(a=a.confirmation_header)!=null?a.text:a:a),b("React").createElement(b("XUIDialogBody.react"),null,(a=this.props.nfxPayload)!=null?(a=a.confirmation_message)!=null?a.text:a:a),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.props.hideAction}),b("React").createElement(b("XUIDialogOkayButton.react"),{action:"confirm",use:"confirm",onClick:this.props.confirmAction}))))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesReportToAdminConfirmationDialog.react",["cx","fbt","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=500;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{width:j,shown:this.props.shown,isStrictlyControlled:!0,onHide:this.props.hideAction},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Report to Group Admins")),b("React").createElement(b("XUIDialogBody.react"),null,this.$1(this.props.mediaType)),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.props.hideAction}),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",className:"_4jy1",label:h._("Report to Admin"),onClick:this.props.confirmAction}))))};a.prototype.$1=function(a){a=a||"";switch(a.toUpperCase()){case"PHOTO":return h._("Are you sure you want to report this photo to the group admins?");case"VIDEO":return h._("Are you sure you want to report this video to the group admins?");default:return h._("Are you sure you want to report this to the group admins?")}};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesCurrentThreadDataHelper",[],(function(a,b,c,d,e,f){"use strict";a={getCameraPostType:function(a){return(a=a)!=null?a.cameraPostType:a},getCameraPostMedia:function(a){return(a=a)!=null?a.media:a}};e.exports=a}),null);
__d("FBStoriesNuxHelper",["AsyncRequest","XBasicFBNuxGenShouldShowController","XBasicFBNuxViewController"],(function(a,b,c,d,e,f){"use strict";a={checkIfNuxShouldBeShown:function(a,c){a=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();a.should_show_nux&&c()}).send()},markNuxAsShown:function(a){a=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()}};e.exports=a}),null);
__d("FBStoriesSingleBucketStoryDataHelper",["CameraPostGraphQLAPI","CurrentUser","FBStoriesActionTypes","FBStoriesBucketHelper","FBStoriesDispatcher","FBStoriesThreadHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBStoriesDispatcher").dispatch,h={getBucketDataFromLoadedObject:function(a,c){__p&&__p();var d,e,f,g;g=(g=a)!=null?g.node:g;if(!g)return null;f=(f=a)!=null?(f=f.node)!=null?f.camera_post_bucket_owner:f:f;if(!f)return null;e=b("CurrentUser").getID()===((e=a)!=null?(e=e.node)!=null?(e=e.camera_post_bucket_owner)!=null?e.id:e:e:e);d=(d=a)!=null?(d=d.node)!=null?(d=d.threads)!=null?d.nodes:d:d:d;if(!d)return null;c=h.getCurrentThreadIndex(a,c);var i=h.shouldDisableReply(a,d[c]);a=b("FBStoriesBucketHelper").isLive((a=a)!=null?a.node:a);var j=d.length,k=b("FBStoriesBucketHelper").isViewerGroupModerator(g)||b("FBStoriesBucketHelper").isViewerGroupAdmin(g),l=b("FBStoriesBucketHelper").isViewerPageContentAdmin(g),m=b("FBStoriesThreadHelper").getStoryOverlays(d[c]),n=a&&b("FBStoriesBucketHelper").hasLiveVideoEnded(g),o=b("FBStoriesThreadHelper").isReviewStatusPending(d[c]);return{bucket:g,bucketOwner:f,currentThreadIndex:c,isBucketLive:a,isThreadReviewStatusPending:o,isGroupAdminBucket:k,isPageAdminBucket:l,isOwnThread:e,isSelectedBucketLiveAndEnded:n,shouldDisableReply:i,threads:d,threadsCount:j,threadOverlays:m}},getCurrentThreadIndex:function(a,b){if(!b)return 0;a=(a=a)!=null?(a=a.node)!=null?(a=a.threads)!=null?a.nodes:a:a:a;if(!a)return 0;b=b.toString();return a.findIndex(function(a){return a.id===b})},shouldDisableReply:function(a,c){__p&&__p();var d;d=(d=a)!=null?d.node:d;var e=b("FBStoriesBucketHelper").shouldEnablePageStoryReply(d);if(e===!0)return!1;a=(e=a)!=null?(e=e.node)!=null?(e=e.camera_post_bucket_owner)!=null?e.id:e:e:e;e=b("CurrentUser").getID()===a;a=b("FBStoriesBucketHelper").isViewerFriendOfOwner(d);c=b("FBStoriesThreadHelper").isViewerFriendOfOwner(c);return e||!a&&!c||b("FBStoriesBucketHelper").isLive(d)},getCurrentThreadData:function(a,c){return{activityDescription:b("FBStoriesThreadHelper").getActivityDescription(a),backdropImage:b("FBStoriesThreadHelper").getBackdropImage(a),bucketOwner:c,cameraPostSource:b("FBStoriesThreadHelper").getCameraPostSource(a),cameraPostType:b("FBStoriesThreadHelper").getCameraPostType(a),defaultBackground:b("FBStoriesThreadHelper").getDefaultBackground(a),explicitLocation:b("FBStoriesThreadHelper").getExplicitLocation(a),inlineActivities:b("FBStoriesThreadHelper").getInlineActivities(a),instagramProfileURL:b("FBStoriesThreadHelper").getInstagramProfileURL(a),isLive:!1,isPlainText:b("FBStoriesThreadHelper").getIsPlainText(a),isSeen:b("FBStoriesThreadHelper").isSeenByViewer(a),latestMessageID:b("FBStoriesThreadHelper").getLatestMessageID(a),linkAttachment:b("FBStoriesThreadHelper").getLinkAttachment(a),media:b("FBStoriesThreadHelper").getMedia(a),mediaBackground:b("FBStoriesThreadHelper").getMediaBackground(a),messageText:b("FBStoriesThreadHelper").getMessageText(a),messageRanges:b("FBStoriesThreadHelper").getMessageRanges(a),participants:[],textFormatMetadata:b("FBStoriesThreadHelper").getTextFormatMetadata(a),threadOwner:b("FBStoriesThreadHelper").getOwner(a)||{name:null,id:null,is_viewer_friend:!1,profile_picture:null},time:b("FBStoriesThreadHelper").getTime(a),threadID:b("FBStoriesThreadHelper").getId(a),originalPostStoryAttribution:b("FBStoriesThreadHelper").getOriginalPostStoryAttribution(a),withTags:b("FBStoriesThreadHelper").getWithTags(a),wwwTextFormatMetadata:b("FBStoriesThreadHelper").getWWWTextFormatMetadata(a),negativeFeedbackActions:b("FBStoriesThreadHelper").getNegativeFeedbackActions(a),delightRanges:b("FBStoriesThreadHelper").getDelightRanges(a),sponsorPageName:null,threadOverlays:b("FBStoriesThreadHelper").getStoryOverlays(a)}},getCurrentThreadViewers:function(a,c){__p&&__p();var d={hasNewViewers:!1,hasNewFriendViewers:!1,hasNewConnectionsViewers:!1,friends:[],connections:[],totalCount:0,totalNew:0,nonFriendsCount:0};if(!c)return d;c=b("FBStoriesThreadHelper").getViewers(a);var e=b("CurrentUser").getID(),f=b("FBStoriesThreadHelper").getReactionStickersReactors(a);d=c.reduce(function(c,d){__p&&__p();var g=b("FBStoriesThreadHelper").getStoryViewerId(d);if(!g)return c;if(g!==e){var h;h=((h=d)!=null?(h=h.node)!=null?h.is_viewer_friend:h:h)||!1;var i=h?"friends":"connections",j=b("FBStoriesThreadHelper").getStoryViewerSeenTime(d),k=b("FBStoriesThreadHelper").getStoryViewerReactions(d),l=j>=b("FBStoriesThreadHelper").getSeenReceiptsLastSeenTime(a);c[i].push(babelHelpers["extends"]({},d.node,{seenTime:j,isNewViewer:l,reactions:k,reactionStickers:f[g]}));c.totalNew+=l?1:0;c.hasNewViewers=c.hasNewViewers||l;c.hasNewFriendViewers=c.hasNewFriendViewers||l&&h;c.hasNewConnectionsViewers=c.hasNewViewers||l&&!h}return c},d);var g=b("FBStoriesThreadHelper").getNonFriendsSeenCount(a);return Object.assign(d,{totalCount:g+c.length,nonFriendsCount:g})},isUserManagedBucket:function(a,c){return c||b("FBStoriesBucketHelper").isViewerEventHost(a)||b("FBStoriesBucketHelper").isViewerPageContentAdmin(a)||b("FBStoriesBucketHelper").isViewerGroupModerator(a)||b("FBStoriesBucketHelper").isViewerGroupAdmin(a)},getAllowedNavigationType:function(a,b){var c=a===0;a=a===b-1;if(c)return"NEXT_ONLY";return a?"PREV_ONLY":"BOTH"},markCurrentThreadAsSeen:function(a,c){if(!c||c.isLive||!a)return;var d=c.latestMessageID,e=c.cameraPostType;c=c.threadID;g({type:b("FBStoriesActionTypes").UPDATE_THREAD_SEEN_OPTIMISTIC,bucketID:a,threadID:c});b("CameraPostGraphQLAPI").markThreadSeen(b("CurrentUser").getID(),c,d,e)}};e.exports=h}),null);
__d("FBStoriesLightweightReactions.react",["cx","FBKeyframesProject","FBStoriesReactionAnimationConfig","FeedbackReactionType","Keyframes.react","React","UFIReactionsMenuImpl.react","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=[b("FeedbackReactionType").LIKE,b("FeedbackReactionType").LOVE,b("FeedbackReactionType").HAHA,b("FeedbackReactionType").WOW,b("FeedbackReactionType").SORRY,b("FeedbackReactionType").ANGER],j=(c={},c[b("FeedbackReactionType").LIKE]="\ud83d\udc4d",c[b("FeedbackReactionType").LOVE]="\u2764\ufe0f",c[b("FeedbackReactionType").HAHA]="\ud83d\ude06",c[b("FeedbackReactionType").WOW]="\ud83d\ude2e",c[b("FeedbackReactionType").SORRY]="\ud83d\ude22",c[b("FeedbackReactionType").ANGER]="\ud83d\ude21",c),k=150,l=150,m=1500;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={selectedReactionType:b("FeedbackReactionType").NONE},this.$3=function(){if(this.props.isAnimating)return;this.props.onMouseEnter()}.bind(this),this.$4=function(){if(this.props.isAnimating)return;this.props.onMouseLeave()}.bind(this),this.$2=function(a){this.setState({selectedReactionType:a}),this.props.onReactionClick(j[a]),clearTimeout(this.$1),this.$1=setTimeout(function(){this.setState({selectedReactionType:b("FeedbackReactionType").NONE},function(){return this.props.onReactionEndAnimation()}.bind(this))}.bind(this),m)}.bind(this),c}a.prototype.render=function(){var a=b("FBStoriesReactionAnimationConfig").uris[this.state.selectedReactionType];return b("React").createElement("div",{className:"_6jcz"},b("React").createElement("div",{className:"_6jc- uiContextualLayerParent"},b("React").createElement(b("UFIReactionsMenuImpl.react"),{allowKeyboardFocus:!1,semiTransparentBackground:!0,allowAnimationPlayback:!0,initialReaction:0,onMouseEnter:b("emptyFunction"),onMouseLeave:b("emptyFunction"),onReactionClick:this.$2,shown:!this.props.isAnimating,supportedReactions:i,instanceId:"",isLongPressing:!0,isScreenReader:!0,onBlur:b("emptyFunction"),onFocus:b("emptyFunction"),onReactionMouseEnter:this.$3,onReactionMouseLeave:this.$4})),this.state.selectedReactionType!==b("FeedbackReactionType").NONE?b("React").createElement(b("Keyframes.react"),{repeatCount:1,className:"_6jc_",source:a,projectName:b("FBKeyframesProject").FACEBOOK_STORIES,assetName:"reaction_type_"+this.state.selectedReactionType,height:k,width:l}):null)};a.prototype.componentWillUnmount=function(){clearTimeout(this.$1)};e.exports=a}),null);
__d("FBStoriesOptimisticUploadLabel.react",["cx","fbt","React","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){return b("React").createElement("div",{className:"_2m8x"},b("React").createElement(b("XUISpinner.react"),{className:"_2m8y",size:"large"})," ",b("React").createElement(b("XUIText.react"),{color:"primary",palette:"dark",size:"header4",weight:"normal"},h._("Uploading...")))};e.exports=a}),null);
__d("FBStoriesSponsorRenderer.react",["cx","fbt","React","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props.currentThreadData;return!b("gkx")("678357")||!a||a.isLive||a.sponsorPageName==null?null:b("React").createElement("div",{className:"_72rc"},h._("sponsored by {sponsor_page_name}",[h._param("sponsor_page_name",a.sponsorPageName)]))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBStoryLiveSidePane.react",["ix","cx","fbt","Arbiter","AsyncRequest","DOMContainer.react","Image.react","Link.react","NFXStoryLocation","PopoverMenu.react","React","ReactDOM","ReactXUIMenu","Style","SubscriptionsHandler","UFIUIEvents","XRapidReportingDialogController","XUINotice.react","XUISpinner.react","fbglyph","queryThenMutateDOM"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactXUIMenu").Item,l=50,m=function(a){if(a.isOwnBucket)return null;var c=a.isLiveAudio?i._("Report live audio"):i._("Report live video");a=b("React").createElement(b("ReactXUIMenu"),null,b("React").createElement(k,{onclick:a.reportLiveVideo},c));return b("React").createElement(b("PopoverMenu.react"),{alignh:"right",className:"_1q41",menu:a},b("React").createElement(b("Link.react"),{href:"#","aria-label":i._("More")},b("React").createElement(b("Image.react"),{src:g("125399")})))};c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){j.constructor.call(this,a),this.$7=function(a){this.$3=a}.bind(this),this.$8=function(){var a=this.props.liveVideoData;a=a&&a.media.id;a=JSON.stringify({reportable_ent_token:a,story_location:b("NFXStoryLocation").DIRECT_MESSAGING});a=b("XRapidReportingDialogController").getURIBuilder().setString("context",a).getURI();new(b("AsyncRequest"))().setURI(a).send()}.bind(this),this.$1=!1,this.$3=null,this.$4=0}a.prototype.componentDidMount=function(){this.$2=new(b("SubscriptionsHandler"))(),this.$2.addSubscriptions(b("Arbiter").subscribe(b("UFIUIEvents").Changed,function(a,b){a=this.props.uiComponents.getValue();a&&a.ufi===b.form&&this.$5()}.bind(this)),b("Arbiter").subscribe("pre_page_transition",function(){this.props.onDone()}.bind(this))),this.$1=!1,this.$5()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){if((a.isSelectedBucketLiveAndEnded||!a.liveVideoData)&&this.$3){a=this.$3.getDOMChild();this.$6(a)}};a.prototype.componentWillUnmount=function(){this.$2&&this.$2.release(),this.$1=!1};a.prototype.$6=function(a){for(var c=0;c<a.children.length;c++)this.$6(a.children[c]);b("ReactDOM").unmountComponentAtNode(a)};a.prototype.$5=function(){var a=this.props.uiComponents.getValue(),c=a?a.ufiScrollableArea:null;if(!c)return;var d=0;b("queryThenMutateDOM")(function(){d=parseFloat(b("Style").get(c,"height"))},function(){var a=this.$4-(c.scrollTop+d);(!this.$1||a<l)&&(c.scrollTop=c.scrollHeight,this.$1=!0);this.$4=c.scrollHeight}.bind(this))};a.prototype.render=function(){__p&&__p();var a=this.props.liveVideoData;if(!a||this.props.isSelectedBucketLiveAndEnded)return null;var c,d=this.props.uiComponents,e=d.getValue();d.getError()?c=b("React").createElement(b("XUINotice.react"),{className:"_3-8i",use:"recommend"},i._("Something went wrong, please try again.")):e?c=b("React").createElement(b("DOMContainer.react"),null,e.topSection):c=b("React").createElement("div",{className:"_2n_f"},b("React").createElement(b("XUISpinner.react"),{size:"large"}));var f=e?b("React").createElement(b("DOMContainer.react"),{className:"_4b4k _39yn",display:"block",ref:this.$7},e.ufi):null;e=e?b("React").createElement(b("DOMContainer.react"),null,e.reactionsMenu):null;a=a.media;var g=a.height<a.width;return b("React").createElement("div",null,b("React").createElement("div",{className:this.props.isCommercialBreakRunning?"_4dlh":""}),b("React").createElement("div",{className:"_3g-3"+(g?" _6291":"")+(this.props.isCommercialBreakRunning?" _4dlk":"")},b("React").createElement("div",{className:"_4b4l"},d.getError()?null:b("React").createElement(m,{isLiveAudio:a.is_live_audio_format,isOwnBucket:this.props.isOwnBucket,reportLiveVideo:this.$8}),c,f),b("React").createElement("div",{className:"_1dbt"},b("React").createElement("div",{className:"_1dbu"},e))))};e.exports=a}),null);
__d("FBStoryLiveSidePaneContainer.react",["FBStoriesDispatcher","FBStoriesLiveVideoUIStore","FBStoriesStore","FBStoryLiveSidePane.react","FluxContainer","LoadObject","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={isCommercialBreakRunning:!1,isOwnBucket:!1,isSelectedBucketLiveAndEnded:!1,liveVideoData:null,uiComponents:b("LoadObject").empty()};c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){g.constructor.call(this),b("FBStoriesDispatcher").explicitlyRegisterStores([b("FBStoriesLiveVideoUIStore")])}a.getStores=function(){return[b("FBStoriesStore"),b("FBStoriesLiveVideoUIStore")]};a.calculateState=function(a){a=b("FBStoriesStore").getThreadDataForSelectedLiveBucket();if(!a)return h;var c=b("FBStoriesStore").isOwnBucket(),d=b("FBStoriesStore").isSelectedBucketLiveAndEnded(),e=a.media.id,f=b("FBStoriesLiveVideoUIStore").get(e);e=b("FBStoriesStore").getIsCommercialBreakRunning(e);return{isOwnBucket:c,isSelectedBucketLiveAndEnded:d,liveVideoData:a,uiComponents:f,isCommercialBreakRunning:e}};a.prototype.render=function(){return b("React").createElement(b("FBStoryLiveSidePane.react"),babelHelpers["extends"]({},this.props,this.state))};e.exports=b("FluxContainer").create(a)}),null);
__d("FBStoryThreadGroupAdminNux.react",["ix","cx","fbt","FBStoriesNuxHelper","GroupView","Image.react","LayerFadeOnShow","PageTransitions","React","XGroupsController","XUICloseButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=400,l=5659;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("FBStoriesNuxHelper").markNuxAsShown(l),this.props.onClose()}.bind(this),this.$2=function(){this.$1();this.props.onNavigateToGroupSettings();var a=b("XGroupsController").getURIBuilder().setString("idorvanity",this.props.groupID).setEnum("view",b("GroupView").EDIT).setExists("stories",!0).getURI();b("PageTransitions").go(a)}.bind(this),c}a.nuxID=function(){return l};a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnShow:b("LayerFadeOnShow")},width:k,shown:this.props.shown,isStrictlyControlled:!0,onHide:this.$1,titleID:"group-nux-header"},b("React").createElement("div",null,b("React").createElement(b("Image.react"),{id:"group-nux-header",height:k*.4,width:k,src:g("477001")}),b("React").createElement(b("XUICloseButton.react"),{className:"layerCancel _51-t _43we"})),b("React").createElement(b("XUIDialogBody.react"),null,b("React").createElement("div",{className:"_43wf"},i._("Welcome to Your Group's Story")),b("React").createElement("p",null,i._("Now group members can contribute to a single shared story.")),b("React").createElement("p",null,i._("Photos and videos disappear from your group after 24 hours, and admins can always control what gets added."))),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement("div",null,b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",label:i._("View Settings"),onClick:this.$2}),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",className:"_4jy1",label:i._("OK"),onClick:this.$1}))))};e.exports=a}),null);
__d("FBStoryThreadTagsSidePane.react",["ix","cx","fbt","FBStorySidePaneUserList.react","FBStorySidePaneSectionHeader.react","FBStorySidePaneSectionPadding.react","Image.react","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_434n"},b("React").createElement(b("FBStorySidePaneSectionHeader.react"),null,b("React").createElement("span",{className:"_2qy7"},b("React").createElement(b("Image.react"),{className:"_2qy8",src:g("512616")}),b("React").createElement("span",{className:"_2qy9"},i._("With"))),b("React").createElement(b("ShimButton.react"),{onClick:this.props.closeWithTagPane},b("React").createElement(b("Image.react"),{className:"_2qya",src:g("489953")}))),b("React").createElement(b("FBStorySidePaneSectionPadding.react"),null),b("React").createElement("div",{className:"_434o"},b("React").createElement(b("FBStorySidePaneUserList.react"),{data:this.props.tags.map(function(a){return a.node}),poll:null})))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("FBStoryWarningScreenButton.react",["ix","cx","Button.react","Image.react","React","WarningScreenEventName","WarningScreenEventsTypedLogger","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.componentDidMount=function(){var a,c=this.props.media.id;new(b("WarningScreenEventsTypedLogger"))().setName(b("WarningScreenEventName").WARNING_SCREEN_LOADED).setContentID((a=c)!=null?a:"0").setContentLocation("story").setIsThumbnail(0).log();new(b("WarningScreenEventsTypedLogger"))().setName(b("WarningScreenEventName").WARNING_SCREEN_VISIBLE).setContentID((a=c)!=null?a:"0").setContentLocation("story").setIsThumbnail(0).log()};a.prototype.render=function(){__p&&__p();var a=this.props.media,c=a.id;a=a.objectionable_content_info?a.objectionable_content_info:null;a=a?a.strings:null;var d=a==null?void 0:a.uncover_media_link;a=a==null?void 0:a.blur_title;var e=function(a){a.stopPropagation();a.preventDefault();new(b("WarningScreenEventsTypedLogger"))().setName(b("WarningScreenEventName").WARNING_SCREEN_UNCOVER_TAPPED).setContentID((a=c)!=null?a:"0").setContentLocation("story").setIsThumbnail(0).log();this.props.onClick&&this.props.onClick()}.bind(this);return d==null?null:b("React").createElement("div",{className:"_6wlv"},a!=null?b("React").createElement("div",{className:"_3-8o"},b("React").createElement(b("XUIText.react"),{size:"header4",color:"white",display:"block",weight:"bold"},a)):null,b("React").createElement(b("Button.react"),{className:"_6wlw",image:b("React").createElement(b("Image.react"),{className:"_6wlx",src:g("532618")}),label:d,onClick:e}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBStoryWarningScreenMediaDescription.react",["cx","Link.react","React","XUIText.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){a=a.media.objectionable_content_info?a.media.objectionable_content_info:null;var c=a&&a.categories;a=a?a.strings:null;var d=a==null?void 0:a.show_media_desc;if(b("gkx")("721298")||!c||d==null||c.indexOf("CHILD_ABUSE_NON_SEXUAL")===-1)return null;c=a==null?void 0:a.learn_more_desc;a=a==null?void 0:a.learn_more_uri;return b("React").createElement("div",{className:"_6wm2"},b("React").createElement(b("XUIText.react"),{size:"body1",color:"white",display:"block"},d),a!=null&&c!=null?b("React").createElement(b("XUIText.react"),{size:"header4",color:"white",display:"block",weight:"bold"},b("React").createElement(b("Link.react"),{href:a,target:"_blank",className:"_6wm3"},c)):null)}e.exports=a}),null);
__d("GroupAdminActivityRemoveUserWithOtherOptionsMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"GroupRemoveUserWithOtherOptionsInputData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"group_remove_user_with_other_options",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"GroupRemoveUserWithOtherOptionsInputData!"}],concreteType:"GroupRemoveUserWithOtherOptionsResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"content_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_success",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"group",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"GroupAdminActivityRemoveUserWithOtherOptionsMutation",id:"2313390192009772",text:null,metadata:{},fragment:{kind:"Fragment",name:"GroupAdminActivityRemoveUserWithOtherOptionsMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"GroupAdminActivityRemoveUserWithOtherOptionsMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("GroupAdminActivityRemoveUserWithOtherOptionsMutation",["RelayModern","GroupAdminActivityRemoveUserWithOtherOptionsMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("GroupAdminActivityRemoveUserWithOtherOptionsMutation.graphql")};function a(a,b,c,d){return g(a,{mutation:h,variables:{input:{group_id:b.groupID,content_id:b.contentID,content_owner_id:b.contentOwnerID,actor_id:b.actorID,client_mutation_id:b.clientMutationID,should_apply_to_other_groups:b.shouldApplyToOtherGroups,should_block_user:b.shouldBlockUser,should_delete_recent_comments:b.shouldDeleteRecentComments,should_delete_recent_pending_invites:b.shouldDeleteRecentPendingInvites,should_delete_recent_polls:b.shouldDeleteRecentPolls,should_delete_recent_posts:b.shouldDeleteRecentPosts,should_delete_recent_story_threads:b.shouldDeleteRecentStoryThreads}},onCompleted:c,onError:d})}e.exports={commit:a}}),null);
__d("GroupsSpamSniperDialogLinkedGroupsDataQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"userID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"canViewerModerate",type:"Boolean",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"userID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"groups",storageKey:null,args:[{kind:"Variable",name:"can_viewer_moderate",variableName:"canViewerModerate",type:"Boolean"}],concreteType:"GroupsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"GroupsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]}]}]};return{kind:"Request",operationKind:"query",name:"GroupsSpamSniperDialogLinkedGroupsDataQuery",id:"1815487968536527",text:null,metadata:{},fragment:{kind:"Fragment",name:"GroupsSpamSniperDialogLinkedGroupsDataQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:b,concreteType:"User",plural:!1,selections:[d]}]},operation:{kind:"Operation",name:"GroupsSpamSniperDialogLinkedGroupsDataQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:b,concreteType:"User",plural:!1,selections:[d,c]}]}}}();e.exports=a}),null);
__d("GroupsSpamSniperDialogType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMMENT:"comment",POST:"post",STORY:"story"})}),null);
__d("GroupsSpamSniperDialog.react",["cx","fbt","FDSCheckboxInput.react","GroupsSpamSniperDialogType","React","RelayFBEnvironment","RelayModern","Tooltip.react","XUIText.react","joinClasses","GroupsSpamSniperDialogLinkedGroupsDataQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var k=function(){return b("GroupsSpamSniperDialogLinkedGroupsDataQuery.graphql")},l=20;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={isApplyToOtherGroupsSelected:!1,isDeclinePendingInviteSelected:!1,isDeleteCommentSelected:!1,isDeletePollSelected:!1,isDeletePostSelected:!1,isDeleteStorySelected:!1},this.updateApplyToOtherGroupsStatus=function(){this.props.updateApplyToOtherGroupsStatus(),this.setState(function(a){return{isApplyToOtherGroupsSelected:!a.isApplyToOtherGroupsSelected}})}.bind(this),this.updateDeclinePendingInviteStatus=function(){this.props.updateDeclinePendingInviteStatus(),this.setState(function(a){return{isDeclinePendingInviteSelected:!a.isDeclinePendingInviteSelected}})}.bind(this),this.updateDeleteCommentStatus=function(){this.props.updateDeleteCommentStatus(),this.setState(function(a){return{isDeleteCommentSelected:!a.isDeleteCommentSelected}})}.bind(this),this.updateDeletePollStatus=function(){this.props.updateDeletePollStatus(),this.setState(function(a){return{isDeletePollSelected:!a.isDeletePollSelected}})}.bind(this),this.updateDeletePostStatus=function(){this.props.updateDeletePostStatus(),this.setState(function(a){return{isDeletePostSelected:!a.isDeletePostSelected}})}.bind(this),this.updateDeleteStoryStatus=function(){this.props.updateDeleteStoryStatus(),this.setState(function(a){return{isDeleteStorySelected:!a.isDeleteStorySelected}})}.bind(this),b}a.prototype.getDeletePostContext=function(){return b("React").createElement(b("XUIText.react"),{size:"header4",className:"_6tdh"},h._("Delete {Story thread owner name}'s posts from the last 7 days",[h._param("Story thread owner name",this.props.contentOwnerName)]))};a.prototype.getDeleteCommentContext=function(){return b("React").createElement(b("XUIText.react"),{size:"header4",className:"_6tdh"},h._("Delete {Story thread owner name}'s comments from the last 7 days",[h._param("Story thread owner name",this.props.contentOwnerName)]))};a.prototype.getDeleteStoryContext=function(){return b("React").createElement(b("XUIText.react"),{size:"header4",className:"_6tdh"},h._("Delete {Story thread owner name}'s stories from the last 24 hours",[h._param("Story thread owner name",this.props.contentOwnerName)]))};a.prototype.getDeletePollContext=function(){return b("React").createElement(b("XUIText.react"),{size:"header4",className:"_6tdh"},h._("Delete {Story thread owner name}'s poll options from the last 7 days",[h._param("Story thread owner name",this.props.contentOwnerName)]))};a.prototype.getDeclinePendingInviteContext=function(){return b("React").createElement(b("XUIText.react"),{size:"header4",className:"_6tdh"},h._("Decline any pending members invited by {Story thread owner name} in the last 7 days.",[h._param("Story thread owner name",this.props.contentOwnerName)]))};a.prototype.getApplyToOtherGroupsContext=function(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIText.react"),{size:"header4",display:"block",headingLevel:3,weight:"normal",className:"_6tdh"},h._("Apply these changes to other groups you manage or moderate.")),b("React").createElement(b("XUIText.react"),{className:"_6tdi _6tdh",size:"meta1",display:"block",weight:"normal",headingLevel:3},h._("{comment author name} will be removed from {group names}.",[h._param("comment author name",this.props.contentOwnerName),h._param("group names",a)])))};a.prototype.getLinkedGroupsData=function(a){__p&&__p();a=((a=a)!=null?(a=a.groups)!=null?a.edges:a:a)||[];a=a.filter(function(a){return a.node.id!==this.props.groupID}.bind(this));var b=a.length,c="";a=a.filter(function(a){return a.node.id!==this.props.groupID}.bind(this)).map(function(a){return a.node.name});if(b){if(b>l){var d=b-l;a=a.slice(0,l);a.push(h._({"*":"and {truncated group names number} more..."},[h._param("truncated group names number",d,[0])]))}c=a.join("\n")}return{otherGroupsCount:b,otherGroupsText:c}};a.prototype.renderApplyToOtherGroupsElement=function(a){a=this.getLinkedGroupsData(a);var c=a.otherGroupsCount;a=a.otherGroupsText;if(!c)return null;c>1?c=b("React").createElement("span",{className:"_6tdj"},b("React").createElement(b("Tooltip.react"),{tooltip:a},c," other groups")):c=b("React").createElement(b("XUIText.react"),{weight:"bold"},a);return b("React").createElement("div",{className:"_6tdk"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getApplyToOtherGroupsContext(c),onChange:this.updateApplyToOtherGroupsStatus,value:this.state.isApplyToOtherGroupsSelected}))};a.prototype.getApplyToOtherGroupsElement=function(){return!this.props.shouldShowApplyToOtherGroups?null:b("React").createElement(j,{environment:b("RelayFBEnvironment"),query:k,variables:{userID:this.props.contentOwnerID,canViewerModerate:!0},render:function(a){var b=a.error;a=a.props;return b||!a?null:this.renderApplyToOtherGroupsElement(a.user)}.bind(this)})};a.prototype.render=function(){var a=this.props.shouldShowDeleteStory?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getDeleteStoryContext(),onChange:this.updateDeleteStoryStatus,value:this.state.isDeleteStorySelected})):null,c=this.props.shouldShowDeletePost?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getDeletePostContext(),onChange:this.updateDeletePostStatus,value:this.state.isDeletePostSelected})):null,d=this.props.shouldShowDeleteComment?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getDeleteCommentContext(),onChange:this.updateDeleteCommentStatus,value:this.state.isDeleteCommentSelected})):null,e=this.props.shouldShowDeletePoll?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getDeletePollContext(),onChange:this.updateDeletePollStatus,value:this.state.isDeletePollSelected})):null,f=this.props.shouldShowDeclinePendingInvite?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getDeclinePendingInviteContext(),onChange:this.updateDeclinePendingInviteStatus,value:this.state.isDeclinePendingInviteSelected})):null,g=this.getApplyToOtherGroupsElement(),h=this.props.spamSniperDialogType;switch(h){case b("GroupsSpamSniperDialogType").POST:return b("React").createElement("div",{className:b("joinClasses")(this.props.className)},c,d,a,e,f,g);case b("GroupsSpamSniperDialogType").COMMENT:return b("React").createElement("div",{className:b("joinClasses")(this.props.className)},d,c,a,e,f,g);case b("GroupsSpamSniperDialogType").STORY:return b("React").createElement("div",{className:b("joinClasses")(this.props.className)},a,c,d,e,f,g);default:return b("React").createElement(b("React").Fragment,null)}};e.exports=a}),null);
__d("GroupsRemoveUserWithOtherOptionsDialog.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSCheckboxInput.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","GroupAdminActivityRemoveUserWithOtherOptionsMutation","GroupsSpamSniperDialog.react","GroupsSpamSniperDialogType","LayerFadeOnHide","React","RelayFBEnvironment","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={isApplyToOtherGroupsSelected:!1,isBlockMemberSelected:!1,isDeclinePendingInviteSelected:!1,isDeleteCommentSelected:!1,isDeletePollSelected:!1,isDeletePostSelected:!1,isDeleteStorySelected:!1,isErrorDialogShown:!1},this.updateDeclinePendingInviteStatus=function(){this.setState(function(a){return{isDeclinePendingInviteSelected:!a.isDeclinePendingInviteSelected}})}.bind(this),this.updateDeleteCommentStatus=function(){this.setState(function(a){return{isDeleteCommentSelected:!a.isDeleteCommentSelected}})}.bind(this),this.updateDeletePollStatus=function(){this.setState(function(a){return{isDeletePollSelected:!a.isDeletePollSelected}})}.bind(this),this.updateDeletePostStatus=function(){this.setState(function(a){return{isDeletePostSelected:!a.isDeletePostSelected}})}.bind(this),this.updateDeleteStoryStatus=function(){this.setState(function(a){return{isDeleteStorySelected:!a.isDeleteStorySelected}})}.bind(this),this.updateBlockMemberStatus=function(){this.setState(function(a){return{isBlockMemberSelected:!a.isBlockMemberSelected}})}.bind(this),this.updateApplyToOtherGroupsStatus=function(){this.setState(function(a){return{isApplyToOtherGroupsSelected:!a.isApplyToOtherGroupsSelected}})}.bind(this),this.onConfirm=function(){this.removeUserAndContent(),this.props.onConfirm()}.bind(this),this.onHide=function(){this.props.onHide()}.bind(this),this.onHideErrorDialog=function(){this.setState({isErrorDialogShown:!1})}.bind(this),b}a.prototype.removeUserAndContent=function(){b("GroupAdminActivityRemoveUserWithOtherOptionsMutation").commit(b("RelayFBEnvironment"),{groupID:this.props.groupID,contentID:this.props.contentID,contentOwnerID:this.props.contentOwnerID,actorID:this.props.actorID,clientMutationID:this.props.clientMutationID,shouldApplyToOtherGroups:this.state.isApplyToOtherGroupsSelected,shouldBlockUser:this.state.isBlockMemberSelected,shouldDeleteRecentComments:this.state.isDeleteCommentSelected,shouldDeleteRecentPendingInvites:this.state.isDeclinePendingInviteSelected,shouldDeleteRecentPolls:this.state.isDeletePollSelected,shouldDeleteRecentPosts:this.state.isDeletePostSelected,shouldDeleteRecentStoryThreads:this.state.isDeleteStorySelected},function(){},function(){this.setState({isErrorDialogShown:!0})}.bind(this))};a.prototype.getBlockMemberContext=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIText.react"),{size:"header4",display:"block",headingLevel:3,weight:"normal",className:"_6tdh"},h._("Block Member")),b("React").createElement(b("XUIText.react"),{className:"_6tdi _6tdh",size:"meta1",display:"block",weight:"normal",headingLevel:3},h._("{comment author name} won't be able to find, see or join this group.",[h._param("comment author name",this.props.contentOwnerName)])))};a.prototype.getDialogTitle=function(){var a=this.props.spamSniperDialogType;switch(a){case b("GroupsSpamSniperDialogType").COMMENT:return h._("Delete Comment and Block Member?");case b("GroupsSpamSniperDialogType").POST:return h._("Delete Post and Block Member?");case b("GroupsSpamSniperDialogType").STORY:return h._("Delete Story and Block Member?");default:return""}};a.prototype.render=function(){var a=this.props.shouldShowBlockMember?b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getBlockMemberContext(),onChange:this.updateBlockMemberStatus,value:this.state.isBlockMemberSelected}):null,c=this.getDialogTitle();return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},label:"Delete Story and Block Member?",header:b("React").createElement(b("FDSModalHeader.react"),{title:c}),footer:b("React").createElement(b("FDSModalFooter.react"),{leftContent:a,primaryButton:b("React").createElement(b("FDSButton.react"),{label:"Confirm",use:"primary",onClick:this.onConfirm}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),null)}),isShown:this.props.shouldShowDialog,onHide:this.onHide},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("GroupsSpamSniperDialog.react"),{contentID:this.props.contentID,contentOwnerID:this.props.contentOwnerID,contentOwnerName:this.props.contentOwnerName,groupID:this.props.groupID,updateApplyToOtherGroupsStatus:this.updateApplyToOtherGroupsStatus,updateDeclinePendingInviteStatus:this.updateDeclinePendingInviteStatus,updateDeleteCommentStatus:this.updateDeleteCommentStatus,updateDeletePollStatus:this.updateDeletePollStatus,updateDeletePostStatus:this.updateDeletePostStatus,updateDeleteStoryStatus:this.updateDeleteStoryStatus,shouldShowApplyToOtherGroups:this.props.shouldShowApplyToOtherGroups,shouldShowDeclinePendingInvite:this.props.shouldShowDeclinePendingInvite,shouldShowDeleteComment:this.props.shouldShowDeleteComment,shouldShowDeletePoll:this.props.shouldShowDeletePoll,shouldShowDeletePost:this.props.shouldShowDeletePost,shouldShowDeleteStory:this.props.shouldShowDeleteStory,spamSniperDialogType:this.props.spamSniperDialogType}))),b("React").createElement(b("FDSModal.react"),{label:"Error Dialog",header:b("React").createElement(b("FDSModalHeader.react"),{title:h._("Delete Failed")}),footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:"OK",use:"primary",onClick:this.onHideErrorDialog})}),isShown:this.state.isErrorDialogShown,onHide:this.onHideErrorDialog},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("FDSText.react"),{size:"header4"},h._("Something went wrong, please try again.")))))};e.exports=a}),null);
__d("FBStoryThread.react",["ix","cx","fbt","CameraPostBucketOwnerHelper","CameraPostDeletedToast.react","CameraPostGraphQLAPI","CameraPostMedia.react","CameraPostMediaCaptionComponent.react","CameraPostMediaHelper","CameraPostNFXToast.react","CameraPostOwnerView.react","CameraPostReportButton.react","CameraPostSendingToast.react","CameraPostSendReplyDraftEditor.react","CameraPostTypesHelper","Event","FBStoriesActions","FBStoriesDeleteConfirmationDialog.react","FBStoriesFooterMetadataRenderer.react","FBStoriesGatingConfig","FBStoriesInteractiveFeedbackOverlay.react","FBStoriesLightweightReactions.react","FBStoriesLinkRenderer.react","FBStoriesLoggingConstants","FBStoriesLoggingHelper","FBStoriesMuteConfirmationDialog.react","FBStoriesNFXConfirmationDialog.react","FBStoriesNuxHelper","FBStoriesOptimisticUploadLabel.react","FBStoriesReportToAdminConfirmationDialog.react","FBStoriesSponsorRenderer.react","FBStoriesViewerEntrypoint","FBStoriesViewersAnchor.react","FBStoryLiveSidePaneContainer.react","FBStoryThreadGroupAdminNux.react","FBStoryThreadTagsSidePane.react","FBStoryThreadViewers.react","FBStoryWarningScreenButton.react","FBStoryWarningScreenMediaDescription.react","Focus","GroupFBStoriesGatingConfig","GroupsRemoveUserWithOtherOptionsDialog.react","GroupsSpamSniperDialogType","GroupsStoriesAdminConfig","GroupView","Image.react","ImagePositioner.react","Keys","LineClamp.react","Locale","PageTransitions","React","ReactCSSTransitionGroup","ReactMenu","ShimButton.react","Visibility","XGroupsController","XUIButton.react","asset","createCancelableFunction","emptyFunction","fbglyph","getActiveElement","gkx","promiseDone","SegmentedProgressBar.react","clearTimeout","setTimeout","XUISpinner.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactMenu").Item,l={enter:"_1gs8",enterActive:"_1gs9",leave:"_1gsa",leaveActive:"_1gsc"},m=Object.freeze({PREV:"prev",NEXT:"next",STAY_HERE:"stay_here"}),n=.3,o=1e3,p=200,q=1e3,r=200,s=200,t=200,u=500,v=500,w=1e3,x={enter:"_3dep",enterActive:"_3deq",leave:"_3der",leaveActive:"_3deu"};c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){__p&&__p();j.constructor.call(this,a),this.$2=[],this.state={isPaused:!1,isPausedByDev:!1,isReplyFocused:!1,navDirectionOnClick:m.STAY_HERE,isShowingSendingToast:!1,isShowingDeletedToast:!1,isShowingNFXToast:!1,isTextInMediaComponentOverflow:!1,showPausedOverlay:!1,showDarkWashOverlay:!1,showStoryUI:!0,isViewersPanelShown:!1,isDeleteConfirmationDialogShown:!1,isMuteConfirmationDialogShown:!1,isGroupAdminNuxShown:!1,isReactionSendInProgress:!1,isReportToAdminConfirmationDialogShown:!1,isWithPanelShown:!1,isNFXConfirmationDialogShown:!1,selectedNFX:null,isDeleteStoryAndRemoveUserDialogShown:!1,showWarningScreen:!!this.props.currentThreadData&&b("CameraPostMediaHelper").hasObjectionableContent(this.props.currentThreadData.media)},this.$13=!1,this.$23=function(a){a!==this.$5&&(a&&(b("Event").listen(a,"keydown",function(event){return this.$77(event)}.bind(this),b("Event").Priority.URGENT),b("Event").listen(a,"keyup",function(event){return this.$78(event)}.bind(this),b("Event").Priority.URGENT),a.focus())),this.$5=a}.bind(this),this.$43=function(){this.$14(!1,!0),this.$9=!0}.bind(this),this.$44=function(){!this.$8&&!this.state.isReplyFocused&&!this.state.isViewersPanelShown&&this.$15(),this.$8=!1,this.$9=!1}.bind(this),this.$45=function(){this.setState({isPausedByDev:!0}),this.$14()}.bind(this),this.$79=function(){if(!this.props.canOpenCurrentThreadViewerSheet)return;var a=!this.state.isViewersPanelShown;this.setState({isViewersPanelShown:a,isWithPanelShown:!1});a&&this.$22();this.$9||(a?this.$14(!1,!0):this.$15())}.bind(this),this.$54=function(){this.setState({isWithPanelShown:!0,isViewersPanelShown:!1}),this.$9||this.$14(!1,!0)}.bind(this),this.$55=function(a){this.$9||this.$14(!1,!0),a.stopPropagation()}.bind(this),this.$58=function(a){this.$9||this.$14(!1,!1),a.stopPropagation()}.bind(this),this.$80=function(a){this.$9||(this.$14(!1,!1),this.setState({showDarkWashOverlay:!0})),a.stopPropagation()}.bind(this),this.$59=function(a){this.$9||this.$15(),a.stopPropagation()}.bind(this),this.$72=function(){this.setState({isWithPanelShown:!1}),this.$9||this.$15()}.bind(this),this.$46=function(){this.$8=!0,this.$14(!1,!0)}.bind(this),this.$47=function(){if(this.state.isPaused)return;this.$14(!1,!0)}.bind(this),this.$29=function(){this.setState({isDeleteConfirmationDialogShown:!0})}.bind(this),this.$66=function(){this.setState({isDeleteConfirmationDialogShown:!1})}.bind(this),this.$65=function(){this.setState({isDeleteConfirmationDialogShown:!1}),this.$81()}.bind(this),this.$32=function(){this.setState({isDeleteStoryAndRemoveUserDialogShown:!0})}.bind(this),this.$49=function(){this.setState({isDeleteStoryAndRemoveUserDialogShown:!1})}.bind(this),this.$48=function(){this.setState({isDeleteStoryAndRemoveUserDialogShown:!1}),this.$81()}.bind(this),this.$35=function(){this.setState({isMuteConfirmationDialogShown:!0})}.bind(this),this.$67=function(){this.setState({isMuteConfirmationDialogShown:!1})}.bind(this),this.$68=function(){this.setState({isMuteConfirmationDialogShown:!1}),this.props.onMuteBucketOwner()}.bind(this),this.$38=function(){this.setState({isReportToAdminConfirmationDialogShown:!0})}.bind(this),this.$71=function(){this.setState({isReportToAdminConfirmationDialogShown:!1})}.bind(this),this.$70=function(){this.setState({isReportToAdminConfirmationDialogShown:!1}),this.props.onReportCurrentThreadToAdmin()}.bind(this),this.$83=function(){this.setState({isNFXConfirmationDialogShown:!1,selectedNFX:null})}.bind(this),this.$84=function(){var a;a=(a=this.state.selectedNFX)!=null?a.id:a;a&&(this.props.onTakeNegativeFeedbackAction(a),this.$85(w));this.setState({isNFXConfirmationDialogShown:!1});this.$15()}.bind(this),this.$26=function(){if(!this.props.currentThreadData)return;var a=this.props.currentThreadData.bucketOwner;a=b("CameraPostBucketOwnerHelper").getId(a);if(!a)return;this.props.onCloseRequested();a=b("XGroupsController").getURIBuilder().setString("idorvanity",a).setEnum("view",b("GroupView").PENDING_STORIES).getURI();b("PageTransitions").go(a)}.bind(this),this.$57=function(){this.$86("auto_jump")}.bind(this),this.$90=b("createCancelableFunction")(function(){this.setState({isShowingSendingToast:!1})}.bind(this)),this.$89=b("createCancelableFunction")(function(a){this.setState({isShowingSendingToast:!0},function(){this.$10=b("setTimeout")(function(){this.$10=undefined,this.$90()}.bind(this),a)}.bind(this))}.bind(this)),this.$73=function(a){__p&&__p();if(a==="")return;var c=this.props.currentThreadData;if(!c||c.isLive)return;var d=c.threadID;c=c.cameraPostType;var e=this.props.userInfo.userID;this.$88();this.$15();this.setState({isReplyFocused:!1});b("Focus").set(this.$5);b("promiseDone")(b("CameraPostGraphQLAPI").sendDirectMessageReply(e,d,a,c,!0))}.bind(this),this.$75=function(a){__p&&__p();if(a==="")return;var c=this.props.currentThreadData;if(!c||c.isLive)return;var d=c.threadID;c=c.cameraPostType;var e=this.props.userInfo.userID;this.$88();this.$15();this.setState({isReplyFocused:!1});b("Focus").set(this.$5);b("promiseDone")(b("CameraPostGraphQLAPI").sendDirectStickerReply(e,d,c,a))}.bind(this),this.$76=function(a){__p&&__p();if(a){var c=this.props.currentThreadData;if(!c||c.isLive)return;var d=c.threadID;c=c.cameraPostType;var e=this.props.userInfo.userID;a=a.source.url;this.$88();this.$15();this.setState({isReplyFocused:!1});b("Focus").set(this.$5);b("promiseDone")(b("CameraPostGraphQLAPI").sendDirectGifReply(e,d,c,a))}}.bind(this),this.$93=b("createCancelableFunction")(function(a,c){this.setState({isShowingDeletedToast:!1}),c&&(this.$12=b("setTimeout")(function(){this.$12=undefined,c&&c()}.bind(this),a))}.bind(this)),this.$92=b("createCancelableFunction")(function(a,c,d){this.setState({isShowingDeletedToast:!0},function(){this.$11=b("setTimeout")(function(){this.$93(c,d)}.bind(this),a)}.bind(this))}.bind(this)),this.$94=b("createCancelableFunction")(function(){this.setState({isShowingNFXToast:!1,selectedNFX:null})}.bind(this)),this.$85=b("createCancelableFunction")(function(a){this.setState({isShowingNFXToast:!0},function(){this.$10=b("setTimeout")(function(){this.$94()}.bind(this),a)}.bind(this))}.bind(this)),this.$74=function(a){this.$14(!1,!0),this.setState({isReplyFocused:!0})}.bind(this),this.$56=function(a){this.state.isPaused?(this.$15(),this.state.isReplyFocused&&this.setState({isReplyFocused:!1})):this.$14(!1,!0)}.bind(this),this.$50=function(a){b("clearTimeout")(this.$4),this.$4=b("setTimeout")(function(){if(this.state.isPaused)return;this.$14(!0,!1)}.bind(this),u)}.bind(this),this.$51=function(a){__p&&__p();b("clearTimeout")(this.$4);if(a.target.tagName==="INPUT")return;if(this.state.showDarkWashOverlay)return;if(this.state.isPaused)this.$15(),this.state.isReplyFocused&&this.setState({isReplyFocused:!1});else{if(!this.props.enableNavigation)return;if(a.target.className!=="_ide")return;this.state.navDirectionOnClick===m.PREV?this.$87("tap_backward"):this.state.navDirectionOnClick===m.NEXT&&!this.state.isLastThread&&this.$86("tap_forward")}}.bind(this),this.$52=function(event){this.$1=event.target}.bind(this),this.$53=function(a){var c=a.currentTarget.offsetWidth;a=a.nativeEvent.offsetX;var d=n*c;b("Locale").isRTL()&&(a=c-a);a>=0&&a<=d?this.setState({navDirectionOnClick:m.PREV}):a>=c-d&&a<=c?this.setState({navDirectionOnClick:m.NEXT}):this.setState({navDirectionOnClick:m.STAY_HERE})}.bind(this),this.$62=function(a){this.setState({isReactionSendInProgress:!0}),this.$91(a),this.$14(!1,!1)}.bind(this),this.$63=function(){this.setState({isReactionSendInProgress:!1}),this.$15()}.bind(this),this.$15=function(){if(this.state.isPausedByDev)return;b("clearTimeout")(this.$4);b("clearTimeout")(this.$3);this.setState({isPaused:!1,showPausedOverlay:!1,showDarkWashOverlay:!1,showStoryUI:!0,isViewersPanelShown:!1,isWithPanelShown:!1})}.bind(this),a.autoOpenViewersheet&&(this.state=Object.assign({},this.state,{isViewersPanelShown:!0,isWithPanelShown:!1,isPaused:!0,showStoryUI:!0,showPausedOverlay:!1}))}a.prototype.componentDidMount=function(){this.$2=[b("Visibility").addListener(b("Visibility").HIDDEN,function(){if(this.state.isPaused){this.$13=!1;return}this.$13=!0;this.$14(!1,!0)}.bind(this)),b("Visibility").addListener(b("Visibility").VISIBLE,function(){this.$13&&this.$15()}.bind(this))],this.$5&&b("Focus").set(this.$5),(this.props.currentThreadData||this.props.isBucketLive)&&this.$16(),this.$17(this.props)};a.prototype.UNSAFE_componentWillUpdate=function(a,b){!this.props.allBucketsViewed&&a.allBucketsViewed&&a.onDone(),this.props.bucketID!==a.bucketID?(this.setState(this.$18(a)),this.$17(a)):this.props.currentThreadIndex!==a.currentThreadIndex&&this.$19(a)};a.prototype.componentDidUpdate=function(a,c){(this.props.currentThreadData||this.props.isBucketLive)&&this.props.currentThreadID!==a.currentThreadID&&this.$16();a=b("getActiveElement")();!this.state.isReplyFocused&&this.$5&&!this.props.isBucketLive&&(!this.$1||this.$1===a&&a.tagName!=="A"&&a.tagName!=="BUTTON")&&b("Focus").set(this.$5);c.isViewersPanelShown===!0&&this.state.isViewersPanelShown===!1&&this.$20()};a.prototype.$20=function(){this.props.currentThreadID&&b("FBStoriesActions").markThreadViewersSeen(this.props.currentThreadID)};a.prototype.$19=function(a){a=a.currentThreadData;if(!a)return;a=b("CameraPostMediaHelper").hasObjectionableContent(a.media);this.setState({isPaused:!1,showDarkWashOverlay:!1,showStoryUI:!0,showPausedOverlay:!1,showWarningScreen:a})};a.prototype.$17=function(a){a.isGroupAdminBucket&&b("FBStoriesNuxHelper").checkIfNuxShouldBeShown(b("FBStoryThreadGroupAdminNux.react").nuxID(),function(){this.$14(!1,!1),this.setState({isGroupAdminNuxShown:!0})}.bind(this))};a.prototype.$16=function(){var a=this.props,c=a.storyActionLoggingData;a=a.storyActionSource;b("FBStoriesLoggingHelper").openMediaLog(a,c)};a.prototype.$21=function(){b("FBStoriesLoggingHelper").mediaLog(b("FBStoriesLoggingConstants").ACTION_DELETE_MEDIA)};a.prototype.$22=function(){b("FBStoriesLoggingHelper").mediaLog(b("FBStoriesLoggingConstants").ACTION_OPEN_SEEN_SUMMARY)};a.prototype.render=function(){__p&&__p();var a="_4tkv"+(this.props.isLandscape&&this.props.isBucketLive?" _fxh":"")+" _24o3"+(this.props.isBucketLive?" _2dnb":""),c=this.props.userInfo.userID,d=this.props.currentThreadData;if(!d)return b("React").createElement("div",{id:"fbStoryContainer",role:"tabpanel",tabIndex:-1,ref:this.$23,className:a});var e=d.media,f=d.cameraPostType,h=b("CameraPostMediaHelper").getType(e),j=b("CameraPostMediaHelper").getWidth(e),n=b("CameraPostMediaHelper").getHeight(e),o=b("CameraPostMediaHelper").isSphericalPhoto(e),q,u,v,y,z,A,B="",C,D,E,F,G={},H,I,J=[],K,L=!this.props.shouldDisableReply&&!this.state.showWarningScreen,M=(L||b("CameraPostTypesHelper").isGroupStory(f)&&b("GroupFBStoriesGatingConfig").isWWWLightweightReactionsEnabled&&b("GroupFBStoriesGatingConfig").isGroupLightweightReactionEnabled&&!this.props.isOwnThread)&&b("FBStoriesGatingConfig").isLightweightReactionEnabled;if(!d.isLive){var N=d.time,O=d.participants,P=d.bucketOwner,Q=d.threadOwner,R=d.cameraPostSource,S=d.wwwTextFormatMetadata,T=d.textFormatMetadata,U=d.instagramProfileURL,V=d.originalPostStoryAttribution,W=d.withTags,X=d.inlineActivities,Y=d.explicitLocation,Z=d.activityDescription;A=d.threadID;B=d.messageText;C=d.messageRanges;D=d.isPlainText;E=d.backdropImage;F=d.defaultBackground;H=d.linkAttachment;I=d.mediaBackground;J=d.delightRanges;u=b("CameraPostBucketOwnerHelper").getName(P);q=b("CameraPostBucketOwnerHelper").getId(P);var $=b("CameraPostBucketOwnerHelper").isBuySellGroup(P);$&&!L&&(M=!1);y={rootMessageText:B,wwwTextFormatMetadata:S,textFormatMetadata:T};G={withTags:W,inlineActivities:X,explicitLocation:Y,activityDescription:Z,threadID:A};$=[];if(b("CameraPostTypesHelper").isGroupStory(f)&&b("CameraPostBucketOwnerHelper").isViewerGroupAdmin(P)){S=b("XGroupsController").getURIBuilder().setString("idorvanity",q).setEnum("view",b("GroupView").EDIT).getURI();$.push(b("React").createElement(k,{href:S,key:"edit_group_settings",rel:"post"},b("React").createElement(b("Image.react"),{src:g("372468")}),this.$24()))}this.$25()&&$.push(b("React").createElement(k,{onClick:this.$26,key:"group_pending_stories"},b("React").createElement(b("Image.react"),{src:g("366764")}),this.$27()));this.$28()&&$.push(b("React").createElement(k,{disabled:this.props.isStoryUploading,onClick:this.$29,key:"delete_own_thread"},this.props.isStoryUploading&&b("React").createElement(b("XUISpinner.react"),{size:"small"}),b("React").createElement(b("Image.react"),{src:g("114073")}),this.$30(h)));this.$31()&&$.push(b("React").createElement(k,{onClick:this.$32,key:"delete_story_and_remove_user"},b("React").createElement(b("Image.react"),{src:g("114008")}),this.$33()));if(this.$34()){T=b("CameraPostTypesHelper").isGroupStory(f);$.push(b("React").createElement(k,{onClick:this.$35,key:"mute_bucket_owner"},b("React").createElement(b("Image.react"),{src:g("113496")}),b("React").createElement("span",null,b("React").createElement(b("LineClamp.react"),{className:T?"":"_65ki",lines:1},this.$36(T,u)))))}this.$37()&&$.push(b("React").createElement(k,{onClick:this.$38,key:"report_thread"},b("React").createElement(b("Image.react"),{src:g("372467")}),this.$39()));if(this.props.currentThreadData&&!this.props.currentThreadData.isLive&&this.props.currentThreadData.negativeFeedbackActions){W=this.props.currentThreadData.negativeFeedbackActions;for(var X=0;X<W.length;X++){Y=W[X];$.push(b("React").createElement(k,{onClick:this.$40.bind(this,Y),key:(Z=Y)!=null?Z.negative_feedback_action_type:Z},b("React").createElement(b("Image.react"),{src:(S=Y)!=null?(S=S.negative_feedback_action_icon)!=null?S.uri:S:S,width:16,height:16}),(T=Y)!=null?(T=T.title)!=null?T.text:T:T))}}this.$41()&&$.push(this.$42());z=b("React").createElement("span",null,b("React").createElement(b("SegmentedProgressBar.react"),{paused:this.state.isPaused,currentSegmentIndex:this.props.currentThreadIndex,currentSegmentPercentComplete:this.props.currentThreadPercentDone,segmentCount:this.props.threadsCount}),b("React").createElement(b("CameraPostReportButton.react"),{canReportThreadToFacebook:this.props.canUserReportThreadToFacebook,threadID:A,onPopoverShow:this.$43,onPopoverHide:this.$44,onPauseByDevClick:this.$45,onPopoverItemClick:this.$46,onPopoverItemFocus:this.$47},$));v=b("React").createElement(b("CameraPostOwnerView.react"),{cameraPostType:f,cameraPostSource:R,isSphericalPhoto:o,participants:O,bucketOwner:P,threadID:A,threadOwner:Q,time:N,instagramProfileURL:U,originalPostStoryAttribution:V});Z=Q.name;S=Q.id;Z&&S&&(K=b("React").createElement(b("GroupsRemoveUserWithOtherOptionsDialog.react"),{actorID:c.toString(),contentID:A.toString(),contentOwnerName:Z,contentOwnerID:S,groupID:b("CameraPostBucketOwnerHelper").getId(d.bucketOwner),onConfirm:this.$48,onHide:this.$49,shouldShowApplyToOtherGroups:!0,shouldShowBlockMember:!0,shouldShowDeclinePendingInvite:!0,shouldShowDeleteComment:!0,shouldShowDeletePoll:!0,shouldShowDeletePost:!0,shouldShowDeleteStory:!0,shouldShowDialog:this.state.isDeleteStoryAndRemoveUserDialogShown,spamSniperDialogType:b("GroupsSpamSniperDialogType").STORY}))}Y=200;T=this.state.showPausedOverlay&&!o?b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:x,transitionEnterTimeout:Y,transitionLeaveTimeout:Y},b("React").createElement(b("ShimButton.react"),{"aria-label":i._("Play"),className:"_ida",onMouseDown:this.$50,onMouseUp:this.$51,onKeyPress:this.$51,tabIndex:0},b("React").createElement("span",{className:"_idd"}))):null;X=b("React").createElement("div",{className:"_6r8a"+(this.state.showDarkWashOverlay===!0?" _6r8b":"")});W=b("CameraPostMedia.react").getMediaSizeBasedOnWindow();$=null;this.props.canShowProduction&&($=b("React").createElement(b("XUIButton.react"),{className:"_6fkg",image:b("React").createElement(b("Image.react"),{src:g("492049")}),label:i._("Add to Your Story"),onClick:function(){this.props.onDone(),this.props.openComposerForProduction()}.bind(this)}));R=b("React").createElement("span",null,b("React").createElement("div",{id:"fbStoryContainer",role:"tabpanel",tabIndex:0,ref:this.$23,className:a,onFocus:this.$52,onMouseMove:this.$53},b("React").createElement("div",{className:"_24o4"+(M&&!this.state.isReactionSendInProgress?" _6mh7":"")+(this.state.navDirectionOnClick===m.PREV||this.state.navDirectionOnClick===m.NEXT?" _4drj":""),key:A},b("React").createElement(b("CameraPostMedia.react"),{backdropImage:E,isTextInMediaComponentOverflow:this.state.isTextInMediaComponentOverflow,linkAttachment:H,mediaBackground:I,defaultBackground:F,storyMetadata:G,openWithSidePanel:this.$54,onLinkClick:this.$55,media:e,loop:!1,paused:this.state.isPaused,onTimeUpdate:this.props.onTimeUpdate,onMouseDown:o?null:this.$50,onMouseUp:o?null:this.$51,onClick:o?this.$56:null,onDone:this.props.isBucketLive?null:this.$57,onMuteMouseUp:this.props.onClickMute,onTextInMediaComponentOverflow:function(){this.setState({isTextInMediaComponentOverflow:!0})}.bind(this),isBucketLive:this.props.isBucketLive,isMediaMuted:this.props.isStoryMuted,cameraPostType:f,userID:c,threadID:A,showMuteButton:this.state.showStoryUI&&!this.props.isSelectedBucketLiveAndEnded,satpData:y,messageText:B,messageRanges:C,delightRanges:J,isPlainText:D,expandHandler:this.$58,truncateHandler:this.$59,onVideoPaused:function(){this.state.isPaused||this.$14(!1,!0)}.bind(this),showWarningScreen:this.state.showWarningScreen},b("React").createElement(b("ReactCSSTransitionGroup"),{className:"_2up9",transitionName:x,transitionEnterTimeout:s,transitionLeaveTimeout:t},this.$60())),X,T,b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:x,transitionEnterTimeout:s,transitionLeaveTimeout:t},this.state.showStoryUI&&v,this.$61(m.PREV),this.$61(m.NEXT)),b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:l,transitionEnterTimeout:p,transitionLeaveTimeout:p},this.state.isShowingSendingToast&&b("React").createElement(b("CameraPostSendingToast.react"),null)),b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:l,transitionEnterTimeout:r,transitionLeaveTimeout:r},b("React").createElement(b("CameraPostDeletedToast.react"),{key:this.state.isShowingDeletedToast,visible:this.state.isShowingDeletedToast})),b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:l,transitionEnterTimeout:w,transitionLeaveTimeout:w},this.state.isShowingNFXToast&&b("React").createElement(b("CameraPostNFXToast.react"),{nfxPayload:this.state.selectedNFX})),M&&b("React").createElement(b("FBStoriesLightweightReactions.react"),{isAnimating:this.state.isReactionSendInProgress,onReactionClick:this.$62,onReactionEndAnimation:this.$63,onMouseEnter:function(){return this.$14(!1,!0)}.bind(this),onMouseLeave:this.$15})),b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:x,transitionEnterTimeout:s,transitionLeaveTimeout:t},this.state.showStoryUI&&z,this.props.isOwnThread&&this.props.canShowProduction?b("React").createElement("div",{className:"_4wsa"},$):null,this.$64()),b("React").createElement(b("ImagePositioner.react"),{backgroundSize:"fitWidth",width:W.width,height:W.height,imageWidth:j,imageHeight:n},function(a){var c=a.top,d=a.left,e=a.width;a=a.height;return b("React").createElement(b("FBStoriesInteractiveFeedbackOverlay.react"),{currentThreadID:this.props.currentThreadID,topPx:c,leftPx:d,widthPx:e,heightPx:a,overlays:this.props.threadOverlays,isConsumer:!this.props.isOwnThread,onInteractiveOverlayMouseEnter:function(){return this.$14()}.bind(this),onInteractiveOverlayMouseLeave:this.$15})}.bind(this))),b("React").createElement(b("FBStoriesDeleteConfirmationDialog.react"),{confirmAction:this.$65,hideAction:this.$66,mediaType:h,shown:this.state.isDeleteConfirmationDialogShown}),K,b("React").createElement(b("FBStoriesMuteConfirmationDialog.react"),{shown:this.state.isMuteConfirmationDialogShown,hideAction:this.$67,confirmAction:this.$68,bucketOwnerName:u,cameraPostType:f}),this.$69(),b("React").createElement(b("FBStoryThreadGroupAdminNux.react"),{groupID:q||"",onClose:function(){this.$15(),this.setState({isGroupAdminNuxShown:!1})}.bind(this),onNavigateToGroupSettings:this.props.onCloseRequested,shown:this.state.isGroupAdminNuxShown}),b("React").createElement(b("FBStoriesReportToAdminConfirmationDialog.react"),{confirmAction:this.$70,hideAction:this.$71,mediaType:h,shown:this.state.isReportToAdminConfirmationDialogShown}));if(this.props.isBucketLive)return b("React").createElement("div",{className:"_115q"},R,b("React").createElement(b("FBStoryLiveSidePaneContainer.react"),{onDone:this.props.onDone}));O=null;this.props.isOwnThread&&this.state.isViewersPanelShown?O=b("React").createElement("div",{className:"_115r _397_"+(this.props.canShowProduction?" withAddButton":"")},b("React").createElement(b("FBStoryThreadViewers.react"),{threadID:this.props.currentThreadID,viewers:this.props.threadViewers,threadOverlays:this.props.threadOverlays,cameraPostType:f})):this.state.isWithPanelShown&&this.props.currentThreadData&&!this.props.currentThreadData.isLive&&this.props.currentThreadData.withTags&&(O=b("React").createElement("div",{className:"_115r"+(L?" _115s":"")+(this.props.canShowProduction?" withAddButton":"")},b("React").createElement(b("FBStoryThreadTagsSidePane.react"),{tags:this.props.currentThreadData.withTags.edges,closeWithTagPane:this.$72})));return O?b("React").createElement("div",{className:"_115q"},b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:x,transitionEnterTimeout:s,transitionLeaveTimeout:t},O),R):R};a.prototype.$64=function(){if(this.props.shouldDisableReply||this.state.showWarningScreen)return null;var a=this.props.userInfo,c=a.userName;a=a.userProfilePic;var d=this.props.currentThreadData;if(!d||d.isLive)return null;var e=d.threadID,f=d.cameraPostType;return b("React").createElement(b("CameraPostSendReplyDraftEditor.react"),{cameraPostType:f,replyProfileName:c,replyProfilePic:a,threadID:e,ownerID:d.bucketOwner.id,focused:this.state.isReplyFocused,onReplyEntered:this.$73,onFocusInput:this.$74,onStickerSelect:this.$75,onGifSelect:this.$76})};a.prototype.$81=function(){this.$14(!1,!1);this.$21();var a=function(){var a=this.props.currentThreadID,b=this.props.bucketID;this.$15();a&&b&&this.$28()&&this.props.onDeleteCurrentThread()}.bind(this);this.$82(a)};a.prototype.$40=function(a){this.setState({isNFXConfirmationDialogShown:a!==null,selectedNFX:a})};a.prototype.$69=function(){if(this.state.isNFXConfirmationDialogShown&&this.state.selectedNFX!==null)return b("React").createElement(b("FBStoriesNFXConfirmationDialog.react"),{confirmAction:this.$84,hideAction:this.$83,nfxPayload:this.state.selectedNFX,shown:this.state.isNFXConfirmationDialogShown&&this.state.selectedNFX!==null});else return null};a.prototype.$61=function(a){__p&&__p();if(!this.state.showStoryUI||this.state.showPausedOverlay||!this.props.enableNavigation)return null;var c=this.props.allowedNavType==="PREV_ONLY"&&a===m.NEXT,d=this.props.allowedNavType==="NEXT_ONLY"&&a===m.PREV;if(d||c)return null;d=function(c){c.preventDefault(),c.stopPropagation(),b("Focus").set(this.$5),this.setState({isTextInMediaComponentOverflow:!1}),a===m.NEXT?this.$86("tap_forward"):this.$87("tap_backward")}.bind(this);c=function(b){b.stopPropagation(),this.setState({navDirectionOnClick:a})}.bind(this);return b("React").createElement("button",{"aria-label":a===m.NEXT?i._("Next Button"):a===m.PREV?i._("Previous Button"):i._("Button"),className:"_24o5"+(a===m.NEXT?" _24o8":"")+(a===m.PREV?" _24o7":"")+(this.state.navDirectionOnClick===a?" _24o6":""),onClick:d,onMouseMove:c,tabIndex:0})};a.prototype.$88=function(){this.$89(o)};a.prototype.$91=function(a){var c=this.props.currentThreadData;if(!c||c.isLive)return;var d=this.props.userInfo.userID,e=c.threadID;c=c.cameraPostType;b("promiseDone")(b("CameraPostGraphQLAPI").sendLightweightReactionReply(d,e,c,a))};a.prototype.$82=function(a){this.$92(q,r,a)};a.prototype.$86=function(a){b("FBStoriesLoggingHelper").storyNavigationLog(a),this.setState({isReactionSendInProgress:!1}),this.props.onNextThread()};a.prototype.$87=function(a){b("FBStoriesLoggingHelper").storyNavigationLog(a),this.setState({isReactionSendInProgress:!1}),this.props.onPrevThread()};a.prototype.$77=function(event){__p&&__p();if(event.getModifiers().any||this.state.isReplyFocused||event.target!==this.$5||!this.props.enableNavigation)return!0;var a=b("Event").getKeyCode(event);switch(a){case b("Keys").LEFT:b("Locale").isRTL()?this.$86("tap_forward"):this.$87("tap_backward");return!1;case b("Keys").RIGHT:b("Locale").isRTL()?this.$87("tap_backward"):this.$86("tap_forward");return!1;default:a=String.fromCharCode(a);a.match(/\w/)&&this.setState({isReplyFocused:!0})}return null};a.prototype.$78=function(event){__p&&__p();if(event.getModifiers().any||this.state.isReplyFocused||event.target!==this.$5)return!0;var a=b("Event").getKeyCode(event);switch(a){case b("Keys").SPACE:if(this.$9||this.state.isViewersPanelShown||this.state.showDarkWashOverlay)return!1;!this.state.isPaused?this.$14(!1,!0):this.$15();event.preventDefault();event.stopImmediatePropagation();return!1;default:return null}};a.prototype.$14=function(a,c){this.setState({isPaused:!0,showStoryUI:!0,showPausedOverlay:c}),a&&(b("clearTimeout")(this.$3),this.$3=b("setTimeout")(function(){this.setState({showStoryUI:!1})}.bind(this),v))};a.prototype.$30=function(a){a=a||"";if(!this.$28())return null;switch(a.toUpperCase()){case"PHOTO":return i._("Delete Photo");case"VIDEO":return i._("Delete Video");default:return i._("Delete")}};a.prototype.$34=function(){return(this.props.viewerEntrypoint===b("FBStoriesViewerEntrypoint").HOMEPAGE_TRAY||this.props.viewerEntrypoint===b("FBStoriesViewerEntrypoint").GROUP_MALL||this.props.viewerEntrypoint===b("FBStoriesViewerEntrypoint").PERMANENT_LINK_VIEW)&&!this.props.isUserManagedBucket};a.prototype.$25=function(){__p&&__p();if(!this.props.isGroupAdminBucket)return!1;if(!this.props.currentThreadData)return!1;var a=this.props.currentThreadData.bucketOwner;if(!b("CameraPostBucketOwnerHelper").requiresAdminApproval(a))return!1;var c=b("GroupsStoriesAdminConfig").showPendingStoriesInViewerForGroupId;a=b("CameraPostBucketOwnerHelper").getId(a);return!(a in c)||!c[a]?!1:this.props.hasPendingThreads};a.prototype.$31=function(){if(!this.props.currentThreadData||this.props.currentThreadData.isLive)return!1;if(!this.props.userInfo.userID)return!1;var a=this.props.currentThreadData;if(!b("CameraPostTypesHelper").isGroupStory(a.cameraPostType))return!1;var c=a.threadOwner;return!c.id||!c.name?!1:b("CameraPostBucketOwnerHelper").isViewerGroupModerator(a.bucketOwner)||b("CameraPostBucketOwnerHelper").isViewerGroupAdmin(a.bucketOwner)};a.prototype.$41=function(){__p&&__p();if(!this.props.isGroupAdminBucket)return!1;if(!b("gkx")("678360"))return!1;if(!this.props.currentThreadData||this.props.currentThreadData.isLive)return!1;var a=this.props.currentThreadData.bucketOwner,c=this.props.currentThreadData.threadOwner.id;if(!c)return!1;return b("CameraPostBucketOwnerHelper").isGroupAdmin(a,c)?!1:!0};a.prototype.$42=function(){if(!this.props.currentThreadData||this.props.currentThreadData.isLive)return null;var a=this.props.currentThreadData.bucketOwner,c=this.props.currentThreadData.threadOwner.id;if(!c)return null;a=b("CameraPostBucketOwnerHelper").isMutedFromGroup(a,c);return a?b("React").createElement(k,{onClick:this.props.onUnmuteMemberFromGroup,key:"unmute_member_from_group"},b("React").createElement(b("Image.react"),{src:g("599480")}),this.$95()):b("React").createElement(k,{onClick:this.props.onMuteMemberFromGroup,key:"mute_member_from_group"},b("React").createElement(b("Image.react"),{src:g("599480")}),this.$96())};a.prototype.$36=function(a,b){return a?i._("Mute This Group Story"):i._("Mute {bucket_owner_name}",[i._param("bucket_owner_name",b)])};a.prototype.$96=function(){return i._("Mute Member")};a.prototype.$95=function(){return i._("Unmute Member")};a.prototype.$27=function(){return i._("Review Photos\/Videos")};a.prototype.$33=function(){return i._("Delete Story And Remove User")};a.prototype.$37=function(){__p&&__p();if(this.props.isOwnThread)return!1;if(this.props.isGroupAdminBucket)return!1;var a=this.props.currentThreadData;if(!a||a.isLive)return!1;var c=a.cameraPostType;if(!b("CameraPostTypesHelper").isGroupStory(c))return!1;c=a.bucketOwner;a=a.threadOwner.id;if(!a)return!1;return b("CameraPostBucketOwnerHelper").isGroupAdmin(c,a)?!1:b("gkx")("678361")};a.prototype.$39=function(){return i._("Report to Group Admins")};a.prototype.$24=function(){return i._("Edit Group Settings")};a.prototype.$28=function(){return this.props.isUserManagedThread};a.prototype.$18=function(a){return{isPaused:!1,isPausedByDev:!1,isReplyFocused:!1,navDirectionOnClick:m.STAY_HERE,isShowingSendingToast:!1,isShowingDeletedToast:!1,isShowingNFXToast:!1,isTextInMediaComponentOverflow:!1,showPausedOverlay:!1,showDarkWashOverlay:!1,showStoryUI:!0,isViewersPanelShown:!1,isDeleteConfirmationDialogShown:!1,isMuteConfirmationDialogShown:!1,isNFXConfirmationDialogShown:!1,isGroupAdminNuxShown:!1,isReactionSendInProgress:!1,isReportToAdminConfirmationDialogShown:!1,isWithPanelShown:!1,selectedNFX:null,isDeleteStoryAndRemoveUserDialogShown:!1,showWarningScreen:!!a.currentThreadData&&b("CameraPostMediaHelper").hasObjectionableContent(a.currentThreadData.media)}};a.prototype.$60=function(){var a=null;this.props.isStoryUploading?a=b("React").createElement(b("FBStoriesOptimisticUploadLabel.react"),null):this.props.isThreadReviewStatusPending?a=b("React").createElement("span",{className:"_449_"},i._("Pending Admin Approval")):this.state.showStoryUI&&this.props.canSeeCurrentThreadViewCount&&!this.state.showWarningScreen&&(a=this.$97());var c=null,d=this.props.currentThreadData;b("gkx")("678362")&&d&&!d.isLive&&d.media&&d.media.message&&d.media.message.text?c=b("React").createElement(b("CameraPostMediaCaptionComponent.react"),{currentThreadData:d,expandHandler:this.$80,truncateHandler:this.$59,message:d.media.message,openWithSidePanel:this.$54,onLinkClick:this.$55}):c=b("React").createElement(b("FBStoriesFooterMetadataRenderer.react"),{currentThreadData:this.props.currentThreadData,openWithSidePanel:this.$54,onLinkClick:this.$55});var e=d&&d.media&&this.state.showWarningScreen?b("React").createElement(b("FBStoryWarningScreenButton.react"),{media:d.media,onClick:function(){this.setState({showWarningScreen:!1})}.bind(this)}):null;d=d&&d.media&&!this.state.showWarningScreen?b("React").createElement(b("FBStoryWarningScreenMediaDescription.react"),{media:d.media}):null;return b("React").createElement(b("React").Fragment,null,c,b("React").createElement(b("FBStoriesSponsorRenderer.react"),{currentThreadData:this.props.currentThreadData}),b("React").createElement(b("FBStoriesLinkRenderer.react"),{currentThreadData:this.props.currentThreadData,onLinkClick:this.$55,isTextInMediaComponentOverflow:this.state.isTextInMediaComponentOverflow}),b("React").createElement("div",{className:"_2upa"},a),d,e)};a.prototype.$97=function(){return b("React").createElement(b("FBStoriesViewersAnchor.react"),{totalViewers:this.props.threadViewers.totalCount,highlighted:this.props.canOpenCurrentThreadViewerSheet&&this.props.threadViewers.hasNewViewers,onClick:this.$79,disabled:!1,color:"light"})};a.prototype.componentWillUnmount=function(){this.$15(),this.$2.forEach(function(a){return a.remove()}),this.$2=[],this.$6&&this.$6.cancel(),this.$7&&this.$7.cancel(),this.state.isViewersPanelShown===!0&&this.$20(),this.$89.cancel(),this.$90.cancel(),this.$92.cancel(),this.$93.cancel(),this.$85.cancel(),this.$94.cancel(),[this.$10,this.$11,this.$12].forEach(function(a){a&&b("clearTimeout")(a)})};a.defaultProps={canOpenCurrentThreadViewerSheet:!1,canSeeCurrentThreadViewCount:!1,canShowProduction:!1,canUserReportThreadToFacebook:!1,enableNavigation:!0,isStoryMuted:!1,isStoryUploading:!1,isUserManagedThread:!1,isUserManagedBucket:!1,isGroupAdminBucket:!1,hasPendingThreads:!1,shouldDisableReply:!1,allowedNavType:"NEXT_ONLY",isBucketLive:!1,isLandscape:!1,isSelectedBucketLiveAndEnded:!1,isThreadReviewStatusPending:!1,currentThreadPercentDone:0,threadOverlays:[],storyActionSource:"",onDone:b("emptyFunction"),onClickMute:b("emptyFunction"),onDeleteCurrentThread:b("emptyFunction"),onMuteBucketOwner:b("emptyFunction"),onMuteMemberFromGroup:b("emptyFunction"),onUnmuteMemberFromGroup:b("emptyFunction"),onReportCurrentThreadToAdmin:b("emptyFunction"),onTakeNegativeFeedbackAction:b("emptyFunction"),onNextThread:b("emptyFunction"),onPrevThread:b("emptyFunction"),onTimeUpdate:function(a){},onCloseRequested:b("emptyFunction"),openComposerForProduction:b("emptyFunction")};e.exports=a}),null);
__d("FBStoriesSingleBucketStoryContainer.react",["Arbiter","CameraPostMediaHelper","CurrentUser","ErrorBoundary.react","FBStoriesBucketHelper","FBStoriesCurrentThreadDataHelper","FBStoriesGraphQLAPI","FBStoriesSingleBucketStoryDataHelper","FBStoriesThreadHelper","FBStoriesViewerEntrypoint","FBStoryThread.react","React","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={allBucketsViewed:!1,allowedNavType:"NEXT_ONLY",bucket:null,bucketOwner:{id:"",name:"",short_name:"",gender:"",is_viewer_friend:!1,profile_picture:null,is_employee:!1},currentThreadIndex:0,currentThreadData:null,currentThreadID:null,currentThreadPercentDone:0,enableNavigation:!0,friendsSeenCount:0,isBucketLive:!1,isGroupAdminBucket:!1,isPageAdminBucket:!1,isLandscape:!1,isOwnThread:!1,isSelectedBucketLiveAndEnded:!1,isStoryMuted:!1,isStoryUploading:!1,isThreadReviewStatusPending:!1,isUserManagedBucket:!1,isUserManagedThread:!1,nonFriendsSeenCount:0,shouldDisableReply:!1,storyActionLoggingData:null,threads:null,threadsCount:0,threadOverlays:[],threadViewers:{hasNewViewers:!1,friends:[],connections:[],nonFriendsCount:0,totalCount:0,totalNew:0},viewerEntrypoint:b("FBStoriesViewerEntrypoint").PERMANENT_LINK_VIEW},this.$3=function(){__p&&__p();if(!this.state.isUserManagedThread)return;var a=this.state.currentThreadID,c=this.state.currentThreadIndex,d=this.state.threads;if(!d||!a)return;var e=d.filter(function(c){return b("FBStoriesThreadHelper").getId(c)!==a});if(e.length===0)this.props.onHide();else{var f=c===this.state.threadsCount-1;d=f?c:c-1;this.setState({currentThreadIndex:d,enableNavigation:e.length>1,threads:e,threadsCount:e.length},function(){f?this.$8():e.length>1&&this.$7()}.bind(this))}b("FBStoriesGraphQLAPI").deleteStory(b("CurrentUser").getID(),a)}.bind(this),this.$4=function(){var a=this.state.bucketOwner.id;a&&(this.props.onHide(),b("FBStoriesGraphQLAPI").muteBucketOwner(b("CurrentUser").getID(),a,!0))}.bind(this),this.$5=function(){var a=this.state.currentThreadID;if(!a)return;b("FBStoriesGraphQLAPI").reportThreadToAdmin(b("CurrentUser").getID(),a)}.bind(this),this.$6=function(a){var c=this.state.currentThreadID;c&&b("FBStoriesGraphQLAPI").takeNegativeFeedbackAction(b("CurrentUser").getID(),c,a)}.bind(this),this.$7=function(){if(this.state.allowedNavType==="PREV_ONLY"){this.props.hideTheaterOnDone&&this.props.onHide();return}if(this.state.isBucketLive)return;var a=this.state.currentThreadIndex+1;a<=this.state.threadsCount-1?this.setState({currentThreadIndex:a,currentThreadPercentDone:0},function(){this.$13()}.bind(this)):this.props.hideTheaterOnDone&&this.props.onHide()}.bind(this),this.$8=function(){if(this.state.allowedNavType==="NEXT_ONLY")return;if(this.state.isBucketLive)return;var a=this.state.currentThreadIndex-1;a>=0&&this.setState({currentThreadIndex:a,currentThreadPercentDone:0},function(){this.$13()}.bind(this))}.bind(this),this.$9=function(a){a=Math.min(100,Math.max(a,0));this.setState({currentThreadPercentDone:a})}.bind(this),this.$12=function(){this.setState(function(a){return{isStoryMuted:!a.isStoryMuted}})}.bind(this),c}a.prototype.componentDidMount=function(){b("promiseDone")(b("FBStoriesGraphQLAPI").loadSingleBucketStoryData(this.props.bucketID),function(a){return this.$1(a)}.bind(this),function(a){return this.$2(a)}.bind(this))};a.prototype.render=function(){return this.state.isBucketLive?null:b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("FBStoryThread.react"),babelHelpers["extends"]({},this.props,this.state,{onDeleteCurrentThread:this.$3,onMuteBucketOwner:this.$4,onReportCurrentThreadToAdmin:this.$5,onTakeNegativeFeedbackAction:this.$6,onNextThread:this.$7,onPrevThread:this.$8,onTimeUpdate:this.$9,canOpenCurrentThreadViewerSheet:this.$10(),canSeeCurrentThreadViewCount:this.$11(),isStoryMuted:this.state.isStoryMuted,onClickMute:this.$12})))};a.prototype.$1=function(a){a=b("FBStoriesSingleBucketStoryDataHelper").getBucketDataFromLoadedObject(a,this.props.currentThreadID);if(a){var c=a.bucket,d=a.bucketOwner,e=a.currentThreadIndex,f=a.isBucketLive,g=a.isThreadReviewStatusPending,h=a.isGroupAdminBucket,i=a.isPageAdminBucket,j=a.isOwnThread,k=a.isSelectedBucketLiveAndEnded,l=a.shouldDisableReply,m=a.threads,n=a.threadsCount;a=a.threadOverlays;this.setState({bucket:c,bucketOwner:d,currentThreadIndex:Math.max(0,e),isBucketLive:f,isThreadReviewStatusPending:g,isGroupAdminBucket:h,isPageAdminBucket:i,isOwnThread:j,isSelectedBucketLiveAndEnded:k,shouldDisableReply:l,threads:m,threadsCount:n,threadOverlays:a});this.$13()}};a.prototype.$13=function(){__p&&__p();if(this.state.isBucketLive)return;var a=this.state.bucketOwner,c=this.state.currentThreadIndex,d=this.state.threads;if(!d)return;var e=d[c];if(!e)return;a=b("FBStoriesSingleBucketStoryDataHelper").getCurrentThreadData(e,a);var f=this.state.isOwnThread,g=b("FBStoriesSingleBucketStoryDataHelper").getCurrentThreadViewers(e,this.$11()),h=this.state.bucket,i=!1,j=!1;if(h){i=b("FBStoriesSingleBucketStoryDataHelper").isUserManagedBucket(h,f);f=b("FBStoriesThreadHelper").getOwnerId(e);j=f===b("CurrentUser").getID()||i}f=b("FBStoriesThreadHelper").getStatus(e)==="UPLOADING";var k=this.state.threadsCount,l=b("FBStoriesSingleBucketStoryDataHelper").getAllowedNavigationType(c,k),m=b("FBStoriesCurrentThreadDataHelper").getCameraPostMedia(a),n=b("CameraPostMediaHelper").getHeight(m);m=b("CameraPostMediaHelper").getWidth(m);n=n<m;m=h?h.id:null;var o=(c+1)%k;b("FBStoriesSingleBucketStoryDataHelper").markCurrentThreadAsSeen(m,a);if(h&&h.camera_post_bucket_owner){m=h.camera_post_bucket_owner.id;b("Arbiter").inform("update_next_thread_to_view",{bucketOwnerId:m,threadId:d[o].id});c===d.length-1&&b("Arbiter").inform("has_story_bucket_been_seen",m)}o=null;if(a){d=a.media;m=b("FBStoriesBucketHelper").getThreads(h)[c];m=b("FBStoriesThreadHelper").getSeenCount(m);o={cameraPostType:a.cameraPostType,storyOwnerFbid:String(a.threadOwner.id),storyOwnerType:b("FBStoriesBucketHelper").getLoggingType(h),mediaID:d&&d.id?d.id:"",mediaType:b("CameraPostMediaHelper").getType(d),viewers:m,bucketIndex:0,threadIndex:c,threadID:String(e.id),threadCount:k}}this.setState({allowedNavType:l,currentThreadID:e.id,currentThreadData:a,enableNavigation:k>1,isLandscape:n,isStoryUploading:f,isUserManagedBucket:i,isUserManagedThread:j,storyActionLoggingData:o,threadViewers:g,threadOverlays:a==null?void 0:a.threadOverlays})};a.prototype.$2=function(a){};a.prototype.$10=function(){return this.state.isOwnThread&&!this.state.isBucketLive};a.prototype.$11=function(){return this.state.isOwnThread&&!this.state.isBucketLive||this.state.isPageAdminBucket};e.exports=a}),null);