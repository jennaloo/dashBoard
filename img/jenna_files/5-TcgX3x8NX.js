if (self.CavalryLogger) { CavalryLogger.start_js(["rYSBC"]); }

__d("MontageReplyDecoratorContainerDupeQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"MontageReplyDecoratorContainerDupeQuery",id:"2322871951084249",text:null,metadata:{},fragment:{kind:"Fragment",name:"MontageReplyDecoratorContainerDupeQuery",type:"Query",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:"thread",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messenger_montage_thread",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[a]}]}]},operation:{kind:"Operation",name:"MontageReplyDecoratorContainerDupeQuery",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:"thread",name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messenger_montage_thread",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:"thread",name:"viewer",args:null,handle:"viewer",key:"",filters:null}]}}}();e.exports=a}),null);
__d("MontageReplyDecoratorContainerImplQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"messageData",type:"MessageData!",defaultValue:null},{kind:"LocalArgument",name:"threadFBID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"thread_and_message_id",variableName:"messageData",type:"MessageData!"}],c=[{kind:"Variable",name:"id",variableName:"threadFBID",type:"ID!"}],d={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},f=[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}],g={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},h=[g],i=[{kind:"Literal",name:"height",value:108,type:"Int"},{kind:"Literal",name:"width",value:61,type:"Int"}],j={kind:"LinkedField",alias:null,name:"animated_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:f},k={kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:f};return{kind:"Request",operationKind:"query",name:"MontageReplyDecoratorContainerImplQuery",id:"2040041276014948",text:null,metadata:{},fragment:{kind:"Fragment",name:"MontageReplyDecoratorContainerImplQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"montageReply",name:"message",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"MontageReplyDecorator_montageReply",args:null}]},{kind:"LinkedField",alias:"thread",name:"message_thread",storageKey:null,args:c,concreteType:"MessageThread",plural:!1,selections:[{kind:"FragmentSpread",name:"MontageReplyDecorator_thread",args:null}]}]},operation:{kind:"Operation",name:"MontageReplyDecoratorContainerImplQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"montageReply",name:"message",storageKey:null,args:b,concreteType:null,plural:!1,selections:[d,e,{kind:"InlineFragment",type:"UserMessage",selections:[{kind:"ScalarField",alias:null,name:"message_id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"message_sender",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:50,width:50)",args:[{kind:"Literal",name:"height",value:50,type:"Int"},{kind:"Literal",name:"width",value:50,type:"Int"}],concreteType:"Image",plural:!1,selections:f},e]}]},{kind:"LinkedField",alias:null,name:"message_source_data",storageKey:null,args:null,concreteType:"MessageSourceData",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"message_source",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"montage_overlays",storageKey:null,args:null,concreteType:null,plural:!0,selections:[d,{kind:"InlineFragment",type:"StoryOverlayPollSticker",selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"question_text",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:h},{kind:"LinkedField",alias:null,name:"poll",storageKey:null,args:null,concreteType:"StoryCardPoll",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"can_viewer_vote",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_vote_index",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"poll_options",storageKey:null,args:null,concreteType:"StoryCardPollOption",plural:!0,selections:[g,{kind:"ScalarField",alias:null,name:"vote_count",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"voting_control_bounds",storageKey:null,args:null,concreteType:"StoryOverlayRectangle",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"x",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"y",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"rotation",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null}]}]}]},{kind:"LinkedField",alias:null,name:"montage_attribution",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[g,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},e]}]}]},{kind:"ScalarField",alias:null,name:"timestamp",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:h},{kind:"LinkedField",alias:null,name:"blob_attachments",storageKey:null,args:null,concreteType:null,plural:!0,selections:[d,e,{kind:"LinkedField",alias:"mediaImage",name:"image",storageKey:"image(height:108,width:61)",args:i,concreteType:"Image",plural:!1,selections:f},{kind:"InlineFragment",type:"MessageAnimatedImage",selections:[j]},{kind:"InlineFragment",type:"MessageVideo",selections:[{kind:"ScalarField",alias:null,name:"playable_url",args:null,storageKey:null},{kind:"LinkedField",alias:"videoImage",name:"image",storageKey:"image(height:108,width:61)",args:i,concreteType:"Image",plural:!1,selections:f}]},{kind:"InlineFragment",type:"MessageImage",selections:[k,{kind:"LinkedField",alias:"messageImage",name:"image",storageKey:"image(height:108,width:61)",args:i,concreteType:"Image",plural:!1,selections:f}]}]},{kind:"LinkedField",alias:null,name:"sticker",storageKey:null,args:null,concreteType:"Sticker",plural:!1,selections:[k,j,e,{kind:"LinkedField",alias:"stickerImage",name:"image",storageKey:"image(height:108,width:61)",args:i,concreteType:"Image",plural:!1,selections:f}]}]}]},{kind:"LinkedField",alias:"thread",name:"message_thread",storageKey:null,args:c,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"montage_author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,e,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"short_name",args:null,storageKey:null}]}]},e]}]}}}();e.exports=a}),null);
__d("MontageReplyDecoratorContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"threadFBID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"threadFBID",type:"ID!"}],c={kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"MontageReplyDecoratorContainerQuery",id:"1918827994829948",text:null,metadata:{},fragment:{kind:"Fragment",name:"MontageReplyDecoratorContainerQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"threadMessages",name:"message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"montage_thread",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[c]}]}]},operation:{kind:"Operation",name:"MontageReplyDecoratorContainerQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"threadMessages",name:"message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"montage_thread",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[c,d]},d]}]}}}();e.exports=a}),null);
__d("MontageReplyDecorator_montageReply.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MontageReplyDecorator_montageReply",type:"UserMessage",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"imageHeight",type:"Int",defaultValue:108},{kind:"LocalArgument",name:"imageWidth",type:"Int",defaultValue:61}],selections:[{kind:"FragmentSpread",name:"MontageViewerSingleCard_message",args:null},{kind:"FragmentSpread",name:"MontageThumbnail_message",args:[{kind:"Variable",name:"imageHeight",variableName:"imageHeight",type:null},{kind:"Variable",name:"imageWidth",variableName:"imageWidth",type:null}]}]};e.exports=a}),null);
__d("MontageReplyDecorator_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MontageReplyDecorator_thread",type:"MessageThread",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"montage_author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"short_name",args:null,storageKey:null}]}]}]};e.exports=a}),null);
__d("MontageViewerSingleCard_message.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MontageViewerSingleCard_message",type:"UserMessage",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"MontageSpotlightViewer_message",args:null}]};e.exports=a}),null);
__d("MontageViewerSingleCard.react",["MontageSpotlightViewer.react","React","RelayCompat","emptyFunction","MontageViewerSingleCard_message.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayCompat").createFragmentContainer;b("RelayCompat").graphql;d=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return this.props.open?b("React").createElement(b("MontageSpotlightViewer.react"),{loadMore:b("emptyFunction"),onHide:this.props.onHide,message:this.props.message,entryPoint:"thread_head"}):null};function a(){g.apply(this,arguments)}a.propTypes={open:d.bool.isRequired,onHide:d.func.isRequired,message:d.object.isRequired,relay:d.object.isRequired};e.exports=c(a,{message:{modern:function(){return b("MontageViewerSingleCard_message.graphql")},classic:function(a){var c=b("MontageSpotlightViewer.react").getFragment("message");return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},a.__frag(c)]),id:a.__id(),kind:"Fragment",metadata:{},name:"MontageViewerSingleCard_message",type:"UserMessage"}}()}}}})}),null);
__d("MontageReplyDecorator.react",["cx","fbt","MercuryIDs","MessengerParticipants.bs","MontageReplyAction","MontageThumbnail.react","MontageViewerSingleCard.react","React","RelayCompat","emptyFunction","MontageReplyDecorator_montageReply.graphql","MontageReplyDecorator_thread.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayCompat").createFragmentContainer;b("RelayCompat").graphql;var j=108,k=61;d=b("React").PropTypes;f=babelHelpers.inherits(a,b("React").Component);i=f&&f.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={showMontage:!1},this.$3=function(){this.setState({showMontage:!0})}.bind(this),this.$5=function(){this.setState({showMontage:!1})}.bind(this),b}a.prototype.render=function(){var a=this.props.replySnippet;a||(a=this.props.isFromViewer?this.$1():this.$2());return a===null?null:b("React").createElement("div",{className:"_5yn"+(this.props.isFromViewer?" _5yo":"")},b("React").createElement("a",{href:"#",onClick:this.props.montageReply?this.$3:b("emptyFunction")},this.props.montageReply?b("React").createElement(b("MontageThumbnail.react"),{message:this.props.montageReply,unread:!1,imageHeight:j,imageWidth:k,shouldRecomputeDimensions:!0}):null),b("React").createElement("span",{className:"_44ac"},a),this.$4())};a.prototype.$2=function(){var a=b("MessengerParticipants.bs").getNow(this.props.replyAuthorID);a=a&&a.short_name;if(!a)return null;if(this.props.replyAction===b("MontageReplyAction").MESSAGE_REACTION)return h._("{repliers_name} reacted to your story",[h._param("repliers_name",a)]);else if(this.props.replyAction===b("MontageReplyAction").DOODLE)return h._("{repliers_name} replied to your story with a doodle",[h._param("repliers_name",a)]);return h._("{repliers_name} replied to your story",[h._param("repliers_name",a)])};a.prototype.$1=function(){__p&&__p();var a;a=(a=this.props)!=null?(a=a.thread)!=null?(a=a.montage_author)!=null?a.short_name:a:a:a;if(!a){var c;c=(c=this.props)!=null?(c=c.relay)!=null?(c=c.route)!=null?(c=c.params)!=null?c.threadFBID:c:c:c:c;if(!c)return null;c=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(c));a=c&&c.short_name;if(!a)return null}if(this.props.replyAction===b("MontageReplyAction").MESSAGE_REACTION)return h._("You reacted to {sender_name}'s story",[h._param("sender_name",a)]);else if(this.props.replyAction===b("MontageReplyAction").DOODLE)return h._("You replied to {sender_name}'s story with a doodle",[h._param("sender_name",a)]);return h._("You replied to {sender_name}'s story",[h._param("sender_name",a)])};a.prototype.$4=function(){return this.state.showMontage?b("React").createElement(b("MontageViewerSingleCard.react"),{onHide:this.$5,open:this.state.showMontage,message:this.props.montageReply}):null};a.propTypes={montageReply:d.object,thread:d.object,replyAction:d.string,replySnippet:d.string,isFromViewer:d.bool.isRequired,replyAuthorID:d.string};e.exports=c(a,{montageReply:{modern:function(){return b("MontageReplyDecorator_montageReply.graphql")},classic:function(a){var c=b("MontageViewerSingleCard.react").getFragment("message"),d=b("MontageThumbnail.react").getFragment("message",{imageHeight:{kind:"CallVariable",callVariableName:"imageHeight"},imageWidth:{kind:"CallVariable",callVariableName:"imageWidth"}});return{kind:"FragmentDefinition",argumentDefinitions:[{defaultValue:108,kind:"LocalArgument",name:"imageHeight"},{defaultValue:61,kind:"LocalArgument",name:"imageWidth"}],node:function(){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},a.__frag(c),a.__frag(d)]),id:a.__id(),kind:"Fragment",metadata:{},name:"MontageReplyDecorator_montageReply",type:"UserMessage"}}()}}},thread:{modern:function(){return b("MontageReplyDecorator_thread.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"},{children:[{fieldName:"short_name",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:a.__id(),kind:"Fragment",metadata:{},name:"User",type:"User"}],fieldName:"montage_author",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isAbstract:!0},type:"Actor"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:a.__id(),kind:"Fragment",metadata:{},name:"MontageReplyDecorator_thread",type:"MessageThread"}}()}}}})}),null);
__d("MontageReplyDecoratorContainer.react",["MercuryIDs","MontageReplyDecorator.react","React","RelayFBEnvironment","RelayModern","MontageReplyDecoratorContainerImplQuery.graphql","MontageReplyDecoratorContainerQuery.graphql","MontageReplyDecoratorContainerDupeQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j,k,l=b("RelayModern").QueryRenderer;b("RelayModern").graphql;c=b("React").PropTypes;g=babelHelpers.inherits(m,b("React").Component);g&&g.prototype;m.prototype.render=function(){var a=this.props,c=a.isFromViewer,d=a.messageID,e=a.replyAction,f=a.replySnippet,g=a.replyAuthorID;a=a.threadID;return e===null&&a===null?b("React").createElement(b("MontageReplyDecorator.react"),{replyAction:e,replySnippet:f,isFromViewer:c,replyAuthorID:g}):b("React").createElement(l,{environment:b("RelayFBEnvironment"),query:i||(i=function(){return b("MontageReplyDecoratorContainerImplQuery.graphql")}),render:function(a){a=a.props;return!a?null:b("React").createElement(b("MontageReplyDecorator.react"),babelHelpers["extends"]({},a,{replyAction:e,replySnippet:f,isFromViewer:c,replyAuthorID:g}))},variables:{messageData:{message_id:d,thread_id:a},threadFBID:a}})};function m(){g.apply(this,arguments)}m.propTypes={isFromViewer:c.bool.isRequired,messageID:c.string.isRequired,replyAction:c.string,replySnippet:c.string,replyAuthorID:c.string.isRequired,threadID:c.string};h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.isFromViewer,d=a.messageID,e=a.replyAction,f=a.replySnippet,g=a.replyAuthorID;a=a.threadID;return c?b("React").createElement(l,{environment:b("RelayFBEnvironment"),query:j||(j=function(){return b("MontageReplyDecoratorContainerQuery.graphql")}),render:function(a){a=a.props;return!a?null:b("React").createElement(m,babelHelpers["extends"]({},a,{messageID:d,replyAction:e,replySnippet:f,isFromViewer:c,replyAuthorID:g,threadID:(a=a)!=null?(a=a.threadMessages)!=null?(a=a.montage_thread)!=null?(a=a.thread_key)!=null?a.thread_fbid:a:a:a:a}))},variables:{threadFBID:b("MercuryIDs").getThreadFBIDFromThreadID(a)}}):b("React").createElement(l,{environment:b("RelayFBEnvironment"),query:k||(k=function(){return b("MontageReplyDecoratorContainerDupeQuery.graphql")}),variables:{},render:function(a){a=a.props;return!a?null:b("React").createElement(m,babelHelpers["extends"]({},a,{messageID:d,replyAction:e,replySnippet:f,isFromViewer:c,replyAuthorID:g,threadID:(a=a)!=null?(a=a.thread)!=null?(a=a.messenger_montage_thread)!=null?(a=a.thread_key)!=null?a.thread_fbid:a:a:a:a}))}})};function a(){h.apply(this,arguments)}a.propTypes={isFromViewer:c.bool.isRequired,messageID:c.string.isRequired,replyAction:c.string,replySnippet:c.string,replyAuthorID:c.string.isRequired,threadID:c.string.isRequired};e.exports=a}),null);