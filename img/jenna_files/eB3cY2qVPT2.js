if (self.CavalryLogger) { CavalryLogger.start_js(["WRTog"]); }

__d("MessengerPhotoishXMA.react",["BootloadedComponent.react","JSResource","React","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("requireWeak")("MessengerPhotosGroup.react",function(a){h=a});g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.shouldComponentUpdate=function(a,b){return this.props!==a};a.prototype.render=function(){return!h?b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerPhotosGroup.react").__setRef("MessengerPhotoishXMA.react"),isXMA:!0},this.props)):b("React").createElement(h,babelHelpers["extends"]({isXMA:!0},this.props))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("MessengerAttachmentImageBlockUtils",["isFacebookURI","isLinkshimURI"],(function(a,b,c,d,e,f){"use strict";function g(a){return a.getPath().indexOf("/moments_app")===0}function h(a,b){return a<=300&&b<=300}function a(a,c,d){return h(a,c)?!0:b("isFacebookURI")(d)&&!b("isLinkshimURI")(d)&&!g(d)}e.exports={isIcon:a}}),null);
__d("MessengerAttachmentImageBlock.react",["cx","MessengerAttachmentImageBlockUtils","React","StoryAttachmentStyle","URI","cssURL","gkx","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")(this.props.className,this.$1())},this.$2(),b("React").createElement("div",{className:"_5swm"},this.props.children))};a.prototype.$2=function(){__p&&__p();if(!this.props.attachment.media||!this.props.attachment.media.image)return null;var a=this.$3(),c=a.height;a=a.width;var d=c>a,e=new(b("URI"))(this.props.attachment.uri);e=b("MessengerAttachmentImageBlockUtils").isIcon(c,a,e);c=c&&a?c/a*100:100;a=d||e?.2:1;e=d||e?c:52;d={backgroundImage:b("cssURL")(this.props.attachment.media.image),minHeight:"0px",paddingBottom:d&&c>150?"136px":e*a+"%"};this.props.attachment.description&&this.props.attachment.source&&(d.minHeight="112px");return b("React").createElement("div",{className:"_3xn1",style:d})};a.prototype.$1=function(){if(!this.props.attachment.media||!this.props.attachment.media.image)return"_3xn3 _5swn";var a=this.$3(),c=a.height;a=a.width;var d=c>a,e=new(b("URI"))(this.props.attachment.uri);e=b("MessengerAttachmentImageBlockUtils").isIcon(c,a,e);return"_3xn3"+(e&&!d?" _3xn5":"")+(d?" _3xn6":"")+(a>=c&&!e?" _3xn7":"")+(b("gkx")("678605")&&this.$4()?" _2e9e":"")};a.prototype.$4=function(){var a=this.props.attachment.style_list;return Array.isArray(a)&&a[0]==b("StoryAttachmentStyle").LIGHTWEIGHT_ACTION};a.prototype.$5=function(){var a=this.props.attachment.properties;return!a||!a.height||!a.width?null:{height:a.height,width:a.width}};a.prototype.$3=function(){var a=this.$5()||this.props.attachment.media.image_size||{},b=a.height;a=a.width;if(b&&a){b=parseInt(b,10);a=parseInt(a,10);return{height:b,width:a}}return{height:0,width:0}};function a(){h.apply(this,arguments)}a.propTypes={attachment:c.object.isRequired};e.exports=a}),null);
__d("MercuryFallbackShareAttachmentTextBlock.react",["cx","LineClamp.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){if(!this.props||!this.props.attachment)return b("React").createElement("div",{className:"__6j"});return b("MercuryShareAttachmentRenderLocations").MESSENGER===this.props.location?b("React").createElement("div",{className:"__6j"},this.renderMessengerTitle(),this.renderMessengerDescription(),this.renderMessengerSource()):b("React").createElement("div",{className:"__6j"},this.renderTitle(),this.renderDescription(),this.renderSource(),this.props.extraComponent)};a.prototype.renderMessengerTitle=function(){return!this.props.attachment.title?null:b("React").createElement("div",{className:"__6k"},b("React").createElement(b("LineClamp.react"),{customEllipsis:" ",lines:2,lineHeight:18},this.props.attachment.title))};a.prototype.renderMessengerDescription=function(){return!this.props.attachment.description?null:b("React").createElement("div",{className:"__6l"},b("React").createElement(b("LineClamp.react"),{customEllipsis:" ",lines:2,lineHeight:16},this.props.attachment.description))};a.prototype.renderMessengerSource=function(){return!this.props.attachment.source?null:b("React").createElement("div",{className:"__6m"},this.props.attachment.source)};a.prototype.renderTitle=function(){return!this.props.attachment.title?null:b("React").createElement("div",{className:"__6k"+(!this.props.attachment.uri&&!this.props.attachment.description||this.props.attachment.target!=null&&this.props.attachment.target.lwa_type!=null&&this.props.attachment.target.lwa_state==="INITIATED"?" _2xsq":"")+(this.props.extraComponent?" _1dw9":"")},this.props.attachment.title)};a.prototype.renderDescription=function(){return!this.props.attachment.description?null:b("React").createElement("div",{className:"__6l"},this.props.attachment.description)};a.prototype.renderSource=function(){return!this.props.attachment.source?null:b("React").createElement("div",{className:"__6m"},this.props.attachment.source)};function a(){h.apply(this,arguments)}a.propTypes={attachment:b("MercuryShareAttachmentReactShape"),extraComponent:c.object,location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues())};e.exports=a}),null);
__d("MercuryShareImage.react",["cx","ChatImageArrowDirection","ChatImageWithArrow.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_4hsl"},b("React").createElement(b("ChatImageWithArrow.react"),{arrowDirection:b("ChatImageArrowDirection").BOTH,height:this.props.height,round:!!this.props.round,source:this.props.source,width:this.props.width}))};function a(){h.apply(this,arguments)}a.propTypes={height:c.number.isRequired,round:c.bool,source:c.string.isRequired,width:c.number.isRequired};e.exports=a}),null);
__d("MercuryFallbackShareAttachmentContent.react",["cx","Image.react","ImageBlock.react","MercuryFallbackShareAttachmentTextBlock.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareImage.react","MessengerAttachmentImageBlock.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=72;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.renderTextBlock=function(){return b("React").createElement(b("MercuryFallbackShareAttachmentTextBlock.react"),this.props)};a.prototype.renderChatImage=function(a){return b("React").createElement(b("ImageBlock.react"),{className:a,spacing:"medium"},b("React").createElement(b("MercuryShareImage.react"),{height:i,source:this.props.attachment.media.image,width:i}),b("React").createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",height:i}},this.renderTextBlock()))};a.prototype.renderMessengerImage=function(a){return b("React").createElement(b("MessengerAttachmentImageBlock.react"),{className:a,attachment:this.props.attachment},this.renderTextBlock(),this.props.children)};a.prototype.renderDefaultImage=function(a){return b("React").createElement(b("ImageBlock.react"),{className:b("joinClasses")(this.props.className,a)},b("React").createElement(b("Image.react"),{className:"__6n",src:this.props.attachment.media.image,width:i}),this.renderTextBlock(),this.props.children)};a.prototype.getCSSClasses=function(){var a=this.props.attachment,c=this.props.location;return(b("MercuryShareAttachmentRenderLocations").CHAT===c?"_49or":"")+(b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW===c?" _324d":"")+(b("MercuryShareAttachmentRenderLocations").CHAT!==c?" _tih":"")+(a&&a.media.image?"":" _49ou")+" _310t"};a.prototype.render=function(){var a=this.props.attachment,c=this.props.location,d=this.getCSSClasses();if(a.media&&a.media.image){if(b("MercuryShareAttachmentRenderLocations").CHAT===c||b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW===c)return this.renderChatImage(d);else if(b("MercuryShareAttachmentRenderLocations").MESSENGER===c)return this.renderMessengerImage(d);return this.renderDefaultImage(d)}return b("React").createElement("div",{className:b("joinClasses")(this.props.className,d)},this.renderTextBlock(),this.props.children)};function a(){h.apply(this,arguments)}a.propType={attachment:b("MercuryShareAttachmentReactShape"),location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues())};e.exports=a}),null);
__d("XMessengerDotComSavedForLaterNuxSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/save/savemessagenux/",{})}),null);
__d("MercuryFallbackShareAttachment.react",["cx","fbt","AsyncRequest","CollectionCurationMechanisms","CollectionsDisplaySurface","Link.react","MercuryFallbackShareAttachmentContent.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MessengerAdsWebTypedLogger","MessengerDotComSaveModule","MNAdsLoggerEventEnum","React","ReactFragment","SaveMessageUtils","XMessengerDotComSavedForLaterNuxSeenController","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j="focus",k="click",l="scroll",m=1e4,n=3e4;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){i.constructor.call(this),this.state={showNux:!1,nuxDisabled:!1}}a.prototype.renderLink=function(a){return b("MercuryShareAttachmentRenderLocations").isPreview(this.props.location)||!this.props.attachment.uri?a:b("React").createElement(b("Link.react"),{className:"_5rw4",href:this.props.attachment.uri,onClick:this.$1.bind(this),target:"_blank"},a,this.renderLayers())};a.prototype.render=function(){return this.renderLink(b("React").createElement(b("MercuryFallbackShareAttachmentContent.react"),babelHelpers["extends"]({ref:"mercury_fallback_share_attachment"},this.props)))};a.prototype.$1=function(event){__p&&__p();if(this.props.isSponsored){var a=this.props.attachment&&this.props.attachment.subattachments;if(!a)return;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;new(b("MessengerAdsWebTypedLogger"))().setEvent(b("MNAdsLoggerEventEnum").LINK_CLICK).setIsSponsored(this.props.isSponsored).setItemID(e&&e.id).setMessageID(this.props.messageID).setPageID(this.props.pageID).log()}}if(this.state.nuxDisabled||!this.$2())return;this.$3();this.interactionTime=0;this.cancelMinConsumeTimeout=setTimeout(function(){this.$4()||this.setState({showNux:!0,nuxDisabled:!0})}.bind(this),m);this.cancelMaxConsumeTimeout=setTimeout(function(){this.$4()||(this.setState({showNux:!1,nuxDisabled:!1}),this.clearTimeouts())}.bind(this),n);var f=Date.now();this.cancelWindowInteractionTimeout=setTimeout(function(){this.$5(function(){this.interactionTime||(this.interactionTime=Date.now()-f)}.bind(this))}.bind(this),0)};a.prototype.clearTimeouts=function(){this.cancelWindowInteractionTimeout&&(clearTimeout(this.cancelWindowInteractionTimeout),this.cancelWindowInteractionTimeout=null),this.cancelMaxConsumeTimeout&&(clearTimeout(this.cancelMaxConsumeTimeout),this.cancelMaxConsumeTimeout=null),this.cancelMinConsumeTimeout&&(clearTimeout(this.cancelMinConsumeTimeout),this.cancelMinConsumeTimeout=null)};a.prototype.onNUXCloseButtonClick=function(){this.setState({showNux:!1}),this.$6(),this.$7(),this.clearTimeouts()};a.prototype.renderLayers=function(){return this.$2()?b("ReactFragment").create(b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.mercury_fallback_share_attachment}.bind(this),shown:this.state.showNux,onCloseButtonClick:this.onNUXCloseButtonClick.bind(this),position:"below",width:"custom",customwidth:300},h._("You can now save links and videos to Facebook by right clicking on a message."))):null};a.prototype.$3=function(){this.$8||(this.$9=[],this.$8=[Event.listen(window,"click",this.$10.bind(this,k)),Event.listen(window,"focus",this.$10.bind(this,j)),Event.listen(window,"scroll",this.$10.bind(this,l))])};a.prototype.$10=function(a){this.$9.forEach(function(b){b.call(this,a)},this)};a.prototype.$5=function(a){this.$9.push(a)};a.prototype.$4=function(){return this.interactionTime&&this.interactionTime>0};a.prototype.$7=function(){if(this.$8){while(this.$8.length)this.$8.pop().remove();this.$8=null;this.$9=null}};a.prototype.$2=function(){return b("MessengerDotComSaveModule").eligible_for_nux&&this.$11()};a.prototype.$11=function(){var a=this.props.attachment;if(!a)return!1;a=a.style_list;return b("SaveMessageUtils").isSavableMessageAttachment(a)};a.prototype.$6=function(){new(b("AsyncRequest"))().setURI(b("XMessengerDotComSavedForLaterNuxSeenController").getURIBuilder().getURI()).setData({action:"impression",surface:b("CollectionsDisplaySurface").MESSENGER_DOT_COM_MESSAGE,mechanism:b("CollectionCurationMechanisms").SAVE_MESSAGE_NUX,object_id:this.props.message_id,collection_id:98}).send()};a.propTypes={attachment:b("MercuryShareAttachmentReactShape"),isSponsored:c.bool,location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),messageID:c.string,pageID:c.string};e.exports=a}),null);
__d("MercuryShareSizeImageByWidthMixin",["Image.react","MercuryAttachment","MercuryShareAttachmentRenderLocations","MercuryShareImage.react","React"],(function(a,b,c,d,e,f){__p&&__p();a={_getImageSize:function(a){var c=this.props.attachment&&this.props.attachment.media;a=a&&c&&c.animated_image?c&&c.animated_image_size:c&&c.image_size;return this.props.maxWidth?b("MercuryAttachment").resizeContain({height:this.props.maxWidth,width:this.props.maxWidth},a):a},_renderImage:function(a){var c=this.props.attachment&&this.props.attachment.media,d=this._getImageSize(a);a=a&&c&&c.animated_image?c.animated_image:c&&c.image;if(this.props.location==b("MercuryShareAttachmentRenderLocations").CHAT)return b("React").createElement(b("MercuryShareImage.react"),{height:d&&d.height,source:a,width:d&&d.width});else return b("React").createElement(b("Image.react"),{height:d&&d.height,src:a,width:d&&d.width})}};e.exports=a}),null);
__d("MercuryVideoShareXMATextBlock.react",["cx","MessengerLivingRoomCTAContainer.react","React","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=4;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.url&&window.open(this.props.url)}.bind(this),b}a.prototype.render=function(){if(!this.props)return b("React").createElement("div",{className:"__6j"});var a=this.props.width?{maxWidth:this.props.width-i}:{},c={textDecoration:"none"};return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"__6j _43kk"),style:a},b("React").createElement(b("ShimButton.react"),{form:"link",onClick:this.$1,style:c},this.renderTitle(),this.renderDescription(),this.renderSource()),b("React").createElement(b("MessengerLivingRoomCTAContainer.react"),{threadID:this.props.threadID,isFromViewer:this.props.isFromViewer,attachment:this.props.attachment}))};a.prototype.renderTitle=function(){return!this.props.title?null:b("React").createElement("div",{className:"__6k"+(!this.props.uri&&!this.props.description?" _2xsq":"")},this.props.title)};a.prototype.renderDescription=function(){return!this.props.description?null:b("React").createElement("div",{className:"__6l"},this.props.description)};a.prototype.renderSource=function(){return!this.props.source?null:b("React").createElement("div",{className:"__6m"},this.props.source)};a.propTypes={className:c.string,description:c.string,source:c.string,title:c.string,url:c.string,width:c.number,threadID:c.string,isFromViewer:c.bool,attachment:c.object};e.exports=a}),null);
__d("MercuryVideoShareXMA.react",["cx","MercuryVideoShareXMATextBlock.react","MessengerVideoPlayer.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=181,j=200;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.$1(this.props.attachment),c=this.$2(a);return b("React").createElement("div",{className:"_3duc"},c,this.$3(a&&a.original_dimensions))};a.prototype.$2=function(a){return a?b("React").createElement(b("MessengerVideoPlayer.react"),{attachment:this.props.attachment,videoData:a,isInThread:!0,isVisible:this.props.isVisible,className:b("joinClasses")(this.props.className,"_n4o _3_om _1wno")}):null};a.prototype.$1=function(a){if(!a.media||!a.media.image_size||!a.target||!a.target.video_id)return null;var b=a.media.image_size;return{legacy_attachment_id:a.target.video_id,original_dimensions:this.$4(b),start_muted:!0,no_fullscreen:!0,hide_controls_on_finish:!0,url:a.media.image,is_share:!0}};a.prototype.$4=function(a){if(a.width<=i&&a.height<=j)return{x:a.width,y:a.height};var b=Math.min(i/a.width,j/a.height),c=Math.ceil(a.width*b);a=Math.ceil(a.height*b);return{x:c,y:a}};a.prototype.$3=function(a){var c=this.props.attachment;return b("React").createElement(b("MercuryVideoShareXMATextBlock.react"),{description:c.description,source:c.source,title:c.video_title,url:c.uri,width:a&&a.x,threadID:this.props.threadID,isFromViewer:this.props.isFromViewer,attachment:c})};function a(){h.apply(this,arguments)}a.propTypes={attachment:c.object.isRequired,isVisible:c.bool,onClick:c.func,threadID:c.string,isFromViewer:c.bool};e.exports=a}),null);
__d("MercuryVideoShareAttachment.react",["cx","ix","CenteredContainer.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Image.react","Link.react","MercuryAttachmentType","MercuryFallbackShareAttachment.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareSizeImageByWidthMixin","MercuryVideoShareXMA.react","MessengerPhotoishXMA.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"MercuryVideoShareAttachment",mixins:[b("MercuryShareSizeImageByWidthMixin")],propTypes:{attachment:b("MercuryShareAttachmentReactShape"),location:a.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),maxWidth:a.number,threadID:a.string,isFromViewer:a.bool},render:function(){if(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW)return b("React").createElement(b("MercuryFallbackShareAttachment.react"),this.props);else if(this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER)return b("React").createElement(b("MessengerPhotoishXMA.react"),{attachType:b("MercuryAttachmentType").VIDEO,attachments:[this.props.attachment],isVisible:!!this.props.isVisible,onSelect:this.props.onSelect,threadID:this.props.threadID,isFromViewer:this.props.isFromViewer});else if(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT)return b("React").createElement(b("MercuryVideoShareXMA.react"),this.props);var a=this.props.attachment&&this.props.attachment.uri;return b("React").createElement(b("Link.react"),{rel:"theater",href:a},b("React").createElement(b("FBOverlayContainer.react"),{className:"clearfix",style:this._getImageSize()},b("React").createElement(b("FBOverlayBase.react"),null,this._renderImage()),b("React").createElement(b("FBOverlayElement.react"),null,b("React").createElement(b("CenteredContainer.react"),{vertical:!0},b("React").createElement(b("Image.react"),{src:h("27983")})))))}});e.exports=c}),null);
__d("MessengerLightweightActionAttachmentContent.react",["cx","Image.react","ImageBlock.react","LineClamp.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareImage.react","MessengerAttachmentImageBlock.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=72;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.attachment,c=this.props.location,d=this.$1();if(a.media&&a.media.image){if(b("MercuryShareAttachmentRenderLocations").CHAT===c||b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW===c)return this.$2(d);else if(b("MercuryShareAttachmentRenderLocations").MESSENGER===c)return this.$3(d);return this.$4(d)}return b("React").createElement("div",{className:b("joinClasses")(this.props.className,d)},this.$5(),this.props.children)};a.prototype.$2=function(a){return b("React").createElement(b("ImageBlock.react"),{className:a,spacing:"medium"},b("React").createElement(b("MercuryShareImage.react"),{height:i,source:this.props.attachment.media.image,width:i}),b("React").createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",height:i}},this.$5()))};a.prototype.$3=function(a){return b("React").createElement(b("MessengerAttachmentImageBlock.react"),{className:a,attachment:this.props.attachment},this.$5(),this.props.children)};a.prototype.$4=function(a){return b("React").createElement(b("ImageBlock.react"),{className:b("joinClasses")(this.props.className,a)},b("React").createElement(b("Image.react"),{className:"__6n",src:this.props.attachment.media.image,width:i}),this.$5(),this.props.children)};a.prototype.$1=function(){var a=this.props.attachment,c=this.props.location;return(b("MercuryShareAttachmentRenderLocations").CHAT===c?"_49or":"")+(b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW===c?" _324d":"")+(b("MercuryShareAttachmentRenderLocations").CHAT!==c?" _tih":"")+(a&&a.media.image?"":" _49ou")+" _310t"};a.prototype.$5=function(){return b("MercuryShareAttachmentRenderLocations").MESSENGER===this.props.location?b("React").createElement("div",{className:"__6j"},this.$6(),this.$7()):b("React").createElement("div",{className:"__6j"},this.$8(),this.$9())};a.prototype.$6=function(){return!this.props.attachment.title?null:b("React").createElement("div",{className:"__6k"},b("React").createElement(b("LineClamp.react"),{customEllipsis:" ",lines:2,lineHeight:18},this.props.attachment.title))};a.prototype.$7=function(){return!this.props.attachment.description?null:b("React").createElement("div",{className:"__6l"},b("React").createElement(b("LineClamp.react"),{customEllipsis:" ",lines:2,lineHeight:16},this.props.attachment.description))};a.prototype.$8=function(){return!this.props.attachment.title?null:b("React").createElement("div",{className:"__6k _2xsq"},this.props.attachment.title)};a.prototype.$9=function(){return!this.props.attachment.description?null:b("React").createElement("div",{className:"__6l"},this.props.attachment.description)};function a(){h.apply(this,arguments)}a.propType={attachment:b("MercuryShareAttachmentReactShape"),location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues())};e.exports=a}),null);
__d("MessengerLightweightActionAttachment.react",["cx","fbt","Bootloader","MercuryMessageActions","MercuryIDs","MercuryShareAttachmentRenderLocations","MercuryShareAttachmentReactShape","MercurySourceType","MercuryMessageObject","MessagingTag","MessengerLightweightActionAttachmentContent.react","MercuryThreadActions","CurrentUser","Link.react","React","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryMessageActions").get(),k=b("MercuryThreadActions").get(),l=b("CurrentUser").getID();c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();i.constructor.call(this),this.state={canClickWave:!0},this.$2=function(event){__p&&__p();if(this.props.attachment.target.lwa_type!="GROUP_WAVE"&&this.$1()||!this.state.canClickWave)return;this.setState({canClickWave:!1});setTimeout(function(){this.unmounted||this.setState({canClickWave:!0})}.bind(this),5e3);k.changeFolder(this.props.threadID,b("MessagingTag").INBOX);var a=b("MercuryMessageObject").getForFBID(l).constructAttachmentMessageObject(b("MercurySourceType").MESSENGER_WEB,this.props.threadID);this.props.attachment.target.lwa_type==="GROUP_WAVE"?a.lightweight_action_attachment={lwa_state:"INITIATED",lwa_type:this.props.attachment.target.lwa_type}:a.lightweight_action_attachment={lwa_state:"RECIPROCATED",lwa_type:this.props.attachment.target.lwa_type};j.send(a);this.$3(this.props.threadID,a.lightweight_action_attachment.lwa_state);this.props.onCompletion&&this.props.onCompletion()}.bind(this),this.unmounted=!1}a.prototype.renderLink=function(a){return b("MercuryShareAttachmentRenderLocations").isPreview(this.props.location)||this.props.attachment.target.lwa_state!="INITIATED"||this.$1()?b("gkx")("678605")?b("React").createElement("div",{className:"_18oz"},a):a:b("gkx")("678605")?b("React").createElement("div",{className:"_18oz _18o_"},a,b("React").createElement("div",{className:"_18p0"},b("React").createElement(b("Link.react"),{className:"_5rw4 _18p1",onClick:this.$2,target:"_blank",tabIndex:"0"},h._("Wave")))):b("React").createElement(b("Link.react"),{className:"_5rw4",onClick:this.$2,target:"_blank",tabIndex:"0"},a)};a.prototype.render=function(){return this.renderLink(b("React").createElement(b("MessengerLightweightActionAttachmentContent.react"),this.props))};a.prototype.$1=function(){return this.props.pageID===b("MercuryIDs").getParticipantIDFromUserID(l)};a.prototype.componentWillUnmount=function(){this.unmounted=!0};a.prototype.$3=function(a,c){a=b("MercuryIDs").getUserIDFromThreadID(a),b("Bootloader").loadModules(["MessengerWebWaveTypedLogger","MessengerWaveEntrypoint"],function(b,d){new b().setUserID(l).setRecipientID(a).setEntrypoint(d.THREAD_VIEW).setLwaState(c).log()},"MessengerLightweightActionAttachment.react")};a.propTypes={attachment:b("MercuryShareAttachmentReactShape"),location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),pageID:c.string};e.exports=a}),null);