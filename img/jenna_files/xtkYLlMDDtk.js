if (self.CavalryLogger) { CavalryLogger.start_js(["e9E5m"]); }

__d("ReactComposerJSONCollageLayoutData",[],(function(a,b,c,d,e,f){e.exports={2:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3]]},{validActors:3,photoLayouts:[[0,6,3,0],[3,6,6,0]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,6,3]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0]]}],3:[{validActors:3,photoLayouts:[[0,6,3,0],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,3,3],[3,6,6,3]]},{validActors:2,photoLayouts:[[0,2,2,0],[0,4,2,2],[0,6,2,4]]},{validActors:1,photoLayouts:[[0,6,4,0],[4,3,6,0],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,4,6,0],[0,6,3,4],[3,6,6,4]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0],[4,6,6,0]]},{validActors:1,photoLayouts:[[0,2,6,0],[0,4,6,2],[0,6,6,4]]}],4:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,6,4,0],[4,2,6,0],[4,4,6,2],[4,6,6,4]]},{validActors:3,photoLayouts:[[0,4,6,0],[0,6,2,4],[2,6,4,4],[4,6,6,4]]}],5:[{validActors:1,photoLayouts:[[0,3,3,0],[3,3,6,0],[0,6,2,3],[2,6,4,3],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,2,5,0],[3,4,5,2],[3,6,5,4]]}]}}),null);
__d("MarketplaceWWWAutosGating",["gkx"],(function(a,b,c,d,e,f){"use strict";function a(){return b("gkx")("678558")}e.exports={canSeeStructuredAutoComposer:a}}),null);
__d("MarketplaceWWWRentalsGating",["gkx"],(function(a,b,c,d,e,f){"use strict";function a(){return b("gkx")("678559")}e.exports={canSeeStructuredRealEstateComposer:a}}),null);
__d("ReactComposerDragDropPrompt.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_1y-n"},b("React").createElement("div",{className:"_1y-o"},b("React").createElement("span",{className:"_1y-p"},h._("Drag Link\/Photos\/Video Here")),b("React").createElement("span",{className:"_1y-q"},h._("Drop Link")),b("React").createElement("span",{className:"_1y-r"},h._("Drop Photo\/Video")),b("React").createElement("span",{className:"_1y-s"},h._("Drop Photos"))))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerDragDropPromptLazy.react",["fbt","ComposerXDragDropUtils","DragDropTarget","ExceptionDialog","React","ReactComposerDragDropPrompt.react","ReactDOM","emptyFunction"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=undefined,this.$2=function(a){var c=b("ComposerXDragDropUtils").filterImages(a);if(c.length>0){this.props.onMediaDrop(c);return}a.length&&this.props.onFilesDrop(a);a.length>1&&b("ExceptionDialog").show(g._("Too many files").toString(),g._("Only one document file can be uploaded at a time.").toString())}.bind(this),c}a.prototype.componentDidMount=function(){"use strict";var a=b("ReactDOM").findDOMNode(this.props.root);this.$1=new(b("DragDropTarget"))(a).setOnFilesDropCallback(this.$2).setOnURLDropCallback(this.props.onURLDrop).enable()};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.disable()};a.prototype.render=function(){"use strict";return b("React").createElement(b("ReactComposerDragDropPrompt.react"),null)};a.propTypes={root:c.object.isRequired,onFilesDrop:c.func,onMediaDrop:c.func,onURLDrop:c.func};a.defaultProps={onFilesDrop:b("emptyFunction"),onMediaDrop:b("emptyFunction"),onURLDrop:b("emptyFunction")};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryListAttachmentContainer.react",["cx","BootloadedComponent.react","JSResource","React","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){__p&&__p();var a=null;b("ifRequired")("ReactComposerListStore",function(c){var d=c.getListTitle(this.props.composerID),e=c.getListItems(this.props.composerID);e=e.map(function(a){return a.getCurrentContent().getPlainText().trim().length>0?a.getCurrentContent().getPlainText().trim():null}).filter(function(a){return!!a});var f=c.getListColors(this.props.composerID),g=c.getSelectedListColor(this.props.composerID);f=f[g];g=c.getSelectedListTitleEmoji(this.props.composerID);c=c.getSelectedListStyle(this.props.composerID);a=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerOptimisticPostingStoryListAttachment.react").__setRef("ReactComposerOptimisticPostingStoryListAttachmentContainer.react"),bootloadPlaceholder:b("React").createElement("div",null),className:"_1rl8 _671b",emoji:g,listItems:e,listColor:f,listStyle:c,title:d.getCurrentContent().getPlainText()})}.bind(this));return a};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerCollageLayoutActor",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USER:1,PAGE:2})}),null);
__d("ReactComposerMediaAspectTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LANDSCAPE:"landscape",PORTRAIT:"portrait",SQUARE:"square",PANORAMA_TESTING_ONLY:"panorama",VERTICAL_PANORAMA_TESTING_ONLY:"vertical_panorama"})}),null);
__d("ReactComposerMediaAspect",["ReactComposerMediaAspectTypes"],(function(a,b,c,d,e,f){"use strict";e.exports={fromRect:function(a){return this._fromWidthAndHeight(a.w(),a.h())},fromDimensions:function(a){return this._fromWidthAndHeight(a[0],a[1])},_fromWidthAndHeight:function(a,c){if(a>c)return b("ReactComposerMediaAspectTypes").LANDSCAPE;else if(a<c)return b("ReactComposerMediaAspectTypes").PORTRAIT;else return b("ReactComposerMediaAspectTypes").SQUARE}}}),null);
__d("ReactComposerCollageLayoutModel",["regeneratorRuntime","ReactComposerCollageLayoutActor","ReactComposerMediaAspect"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("regeneratorRuntime").mark(i),h=b("regeneratorRuntime").mark(j);function i(a,c){__p&&__p();var d,e;return b("regeneratorRuntime").wrap(function(b){__p&&__p();while(1)switch(b.prev=b.next){case 0:d=a.next();e=c.next();if(!(d.done||e.done)){b.next=5;break}return b.abrupt("break",9);case 5:b.next=7;return[d.value,e.value];case 7:b.next=0;break;case 9:case"end":return b.stop()}},g,this)}function j(a){__p&&__p();var c,d,e,f,g;return b("regeneratorRuntime").wrap(function(b){__p&&__p();while(1)switch(b.prev=b.next){case 0:c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!d){b.next=7;break}if(!(e>=c.length)){b.next=4;break}return b.abrupt("break",16);case 4:f=c[e++];b.next=11;break;case 7:e=c.next();if(!e.done){b.next=10;break}return b.abrupt("break",16);case 10:f=e.value;case 11:g=f;b.next=14;return g;case 14:b.next=1;break;case 16:case"end":return b.stop()}},h,this)}function a(a,c){this.$1=!!(a&b("ReactComposerCollageLayoutActor").USER),this.$2=!!(a&b("ReactComposerCollageLayoutActor").PAGE),this.$3=[],c&&this.addPhotoLayouts(c)}a.prototype.addPhotoLayout=function(a){this.$3.push(a);return this};a.prototype.addPhotoLayouts=function(a){a.forEach(function(a){return this.$3.push(a)}.bind(this));return this};a.prototype.getNumPhotoLayouts=function(){return this.$3.length};a.prototype.getPhotoLayouts=function(){return this.$3};a.prototype.getIsValidForPages=function(){return this.$2};a.prototype.getIsValidForUsers=function(){return this.$1};a.prototype.getIsValidFor=function(a){switch(a){case b("ReactComposerCollageLayoutActor").USER:return this.getIsValidForUsers();case b("ReactComposerCollageLayoutActor").PAGE:return this.getIsValidForPages()}return!1};a.prototype.hasMatchingCollagePhotoLayoutType=function(a){var c=b("ReactComposerMediaAspect").fromRect(this.$3[0]);a=b("ReactComposerMediaAspect").fromDimensions(a);return c===a};a.prototype.score=function(a){__p&&__p();var b=0;for(var a=i(j(this.getPhotoLayouts()),a.values()),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];if(!e)continue;var g=f.w();f=f.h();var h=e[0];e=e[1];var k=0;if(h===0||e===0)k=0;else if(g*e/h>=f){var l=g*e/h;k=(l-f)/l}else if(f*h/e>g){l=f*h/e;k=(l-g)/l}b-=k*100;e===h?b-=k*5:g>f?h>e?b+=k*25:b-=k*25:g<f?h<e?b+=k*25:b-=k*25:g===f&&(b-=k*5)}b+=200*this.getNumPhotoLayouts();return b};e.exports=a}),null);
__d("ReactComposerCollageLayoutData",["ReactComposerCollageLayoutModel","ReactComposerJSONCollageLayoutData","Rect"],(function(a,b,c,d,e,f){"use strict";var g=[];Object.keys(b("ReactComposerJSONCollageLayoutData")).forEach(function(a){b("ReactComposerJSONCollageLayoutData")[a].forEach(function(a){g.push(new(b("ReactComposerCollageLayoutModel"))(a.validActors,a.photoLayouts.map(function(a){return new(Function.prototype.bind.apply(b("Rect"),[null].concat(a)))()})))})});e.exports=g}),null);
__d("ReactComposerCollageLayoutSelection",["FBIDCheck","ReactComposerCollageLayoutActor","ReactComposerCollageLayoutData"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={MAX_NUM_COLS:6,MAX_NUM_ROWS:6,_getCollageLayoutsFor:function(a){return b("ReactComposerCollageLayoutData").filter(function(b){return b.getIsValidFor(a)})},getMaxPhotosSupported:function(){return Math.max.apply(Math,b("ReactComposerCollageLayoutData").map(function(a){return a.getNumPhotoLayouts()}))},getMaxPhotosSupportedFor:function(a){return Math.max.apply(Math,this._getCollageLayoutsFor(a).map(function(a){return a.getNumPhotoLayouts()}))},getCollageLayout:function(a,c){if(!c)return this.getBestUserCollageLayout(a);c=b("FBIDCheck").isUser_deprecated(c)?this.getBestUserCollageLayout(a):this.getBestPageCollageLayout(a);return c},getBestPageCollageLayout:function(a){__p&&__p();if(a.size==0)return new Map();var c=a.values().next().value,d=Math.min(this.getMaxPhotosSupportedFor(b("ReactComposerCollageLayoutActor").PAGE),a.size),e=this._getCollageLayoutsFor(b("ReactComposerCollageLayoutActor").PAGE).filter(function(a){return a.getNumPhotoLayouts()===d});if(!e.length)throw new Error("no valid layout for these media");e=e.filter(function(a){return a.hasMatchingCollagePhotoLayoutType(c)});if(!e.length)throw new Error("no valid layout for these media starts with a suitable aspect");e=e[0];var f=new Map(),g=0;e=e.getPhotoLayouts();for(var a=a.keys(),h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;var k=e[g++];k&&f.set(j,k)}return f},getBestUserCollageLayout:function(a){__p&&__p();var c=this._getCollageLayoutsFor(b("ReactComposerCollageLayoutActor").USER).filter(function(b){return b.getNumPhotoLayouts()<=a.size});if(!c.length)throw new Error("no valid layout for these media");c=this._bestLayoutByScore(c,a);if(!c)throw new Error("no best layout? Should not happen!");var d=new Map(),e=0;c=c.getPhotoLayouts();for(var f=a.keys(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=c[e++];j&&d.set(i,j)}return d},_bestLayoutByScore:function(a,b){__p&&__p();a=a.map(function(a){return[a,a.score(b)]});a=a.reduce(function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];return a===null||b>a?[d,b]:[c,a]},[null,null]);a=a[0];return a}}}),null);
__d("ReactComposerCollageUtils",["CollageLayoutConfig","ReactComposerCollageLayoutSelection"],(function(a,b,c,d,e,f){__p&&__p();var g={extractDimensionDataIfValid:function(a){__p&&__p();var b=!0,c=new Map();a.forEach(function(a){if(!a.width||!a.height){b=!1;return}var d=a.width,e=a.height;a.isSpherical&&(d=e);c.set(a.id,[d,e])});return b?c:null},getCollageLayout:function(a){__p&&__p();if(!a||a.size<2)return[];a=g.extractDimensionDataIfValid(a);if(!a)return[];var c=b("ReactComposerCollageLayoutSelection").getBestUserCollageLayout(a);if(!c)return[];var d=[];for(var a=a.keys(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=a.length)break;h=a[f++]}else{f=a.next();if(f.done)break;h=f.value}h=h;h=c.get(h);if(!h)return[];d.push({x:h.l,y:h.t,width:h.w(),height:h.h()})}return d},getCollageLayoutConfig:function(a,c){a=a.filter(function(a){return a.width&&a.height});a=g.getCollageLayout(a);return new(b("CollageLayoutConfig"))(a,c)},getSingleItemStyleInfo:function(a,b){var c=[],d=b,e=a.width/a.height;a.isSpherical&&(e=1);e>1?d=b/e:b=e*d;c.push({left:0,top:0,width:b,height:d});return c}};e.exports=g}),null);
__d("ReactComposerAttachmentBodyMixin",["invariant","ReactComponentWithPureRenderMixin","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin"],(function(a,b,c,d,e,f,g){__p&&__p();function a(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];c=c.concat(b("ReactComposerAttachmentStore"));return{contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin").apply(this,c)],statics:{beforeCalculateInitialState:function(a,c){var d=this.getAttachmentConfig?this.getAttachmentConfig(c):c.config&&c.config.attachmentsConfig&&c.config.attachmentsConfig[this.attachmentID];b("ReactComposerAttachmentActions").registerAttachment(a,{id:this.attachmentID,selected:c.selected,active:c.prefillConfig&&c.prefillConfig.shouldActivateSelectedAttachment,config:d})},calculateState:function(a,c){return Object.assign({selected:b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,this.attachmentID)},this.calculateAttachmentState?this.calculateAttachmentState(a,c):{})}},UNSAFE_componentWillMount:function(){this.constructor.attachmentID||g(0,2981),this.constructor.attachmentID||g(0,2982)},render:function(){return!this.state.selected?null:this.renderX()}}}e.exports=a}),null);
__d("ReactComposerVerticalsConstants",["fbt","MarketplaceWWWAutosGating","MarketplaceWWWRentalsGating"],(function(a,b,c,d,e,f,g){a={AUTOS:{categoryIds:["807311116002614","1558493264400524"],categoryText:"Cars, Trucks & Motorcycles",verticalName:"AUTOS",gk:b("MarketplaceWWWAutosGating").canSeeStructuredAutoComposer()},REAL_ESTATE:{categoryIds:["1468271819871448"],categoryText:g._("Property Rentals"),verticalName:"REAL_ESTATE",gk:b("MarketplaceWWWRentalsGating").canSeeStructuredRealEstateComposer()}};c={807311116002614:"AUTOS",1558493264400524:"AUTOS",1468271819871448:"REAL_ESTATE"};e.exports={VerticalConfigs:a,categoryIdToCategory:c}}),null);
__d("ReactComposerAsset3DActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({CREATE_ASSET3D:null,REMOVE_ASSET3D:null,SELECT_BACKGROUND:null,UPDATE_LOADING_PROGRESS:null},"ReactComposerAsset3DActionType")}),null);
__d("ReactComposerAsset3DActions",["ReactComposerAsset3DActionType","ReactComposerDispatcher","ReactComposerAsset3DStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerAsset3DStore");a.prototype.createAsset3D=function(a,c,d){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3DActionType").CREATE_ASSET3D,asset3dFile:c,actorID:d})};a.prototype.removeAsset3D=function(a){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3DActionType").REMOVE_ASSET3D})};a.prototype.selectBackground=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3DActionType").SELECT_BACKGROUND,background:c})};a.prototype.updateLoadingProgress=function(a,c){"use strict";b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerAsset3DActionType").UPDATE_LOADING_PROGRESS,progress:c})};function a(){"use strict"}e.exports=new a()}),null);
__d("XAsset3DRenderSettingsCreateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/3d/render_settings/create/",{asset3d_id:{type:"FBID",required:!0},background:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XCreateAsset3DController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/3d/create/",{})}),null);
__d("ReactComposerAsset3DStore",["regeneratorRuntime","Promise","ActorURI","Asset3DBackground","Asset3DUtils","AsyncRequest","Bootloader","ExceptionDialog","ReactComposerActionTypes","ReactComposerAsset3DActions","ReactComposerAsset3DActionType","ReactComposerLoggingName","ReactComposerStoreBase","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","XAsset3DRenderSettingsCreateController","XCreateAsset3DController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("immutable").Record;var h=c({asset3dID:null,glbURI:null,compressor:null,compressionLevel:null,version:null,asset3D:null});d=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=d&&d.prototype;function a(){__p&&__p();var a;g.constructor.call(this,function(){return{isFetching:!1,isCreating:!1,asset3dData:new h(),background:null,progress:0}},function(c){__p&&__p();switch(c.type){case b("ReactComposerAsset3DActionType").CREATE_ASSET3D:a&&a.$ReactComposerAsset3DStore1(c);break;case b("ReactComposerAsset3DActionType").REMOVE_ASSET3D:a&&a.$ReactComposerAsset3DStore2(c);break;case b("ReactComposerAsset3DActionType").SELECT_BACKGROUND:a&&a.$ReactComposerAsset3DStore3(c);break;case b("ReactComposerAsset3DActionType").UPDATE_LOADING_PROGRESS:a&&a.$ReactComposerAsset3DStore4(c);break;case b("ReactComposerActionTypes").POST_STARTED:a&&a.$ReactComposerAsset3DStore5(c);break}});a=this}a.prototype.getAsset3DData=function(a){return this.getComposerData(a).asset3dData};a.prototype.getBackground=function(a){return this.getComposerData(a).background};a.prototype.getProgress=function(a){return this.getComposerData(a).progress};a.prototype.isCreating=function(a){return this.getComposerData(a).isCreating};a.prototype.$ReactComposerAsset3DStore3=function(a){a=this.validateAction(a,["composerID","background"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.background=a;this.emitChange(b)};a.prototype.$ReactComposerAsset3DStore5=function(a){var c=this.validateAction(a,["composerID"]);a=this.validateAction(a,["actorID"]);if(this.getAsset3DData(c).asset3dID){var d=this.getComposerData(c);d=d.background||b("Asset3DBackground").DEFAULT;c=b("ActorURI").create(b("XAsset3DRenderSettingsCreateController").getURIBuilder().setFBID("asset3d_id",this.getAsset3DData(c).asset3dID.toString()).setEnum("background",d).getURI(),a);new(b("AsyncRequest"))().setURI(c).setMethod("POST").setErrorHandler(function(a){}).send()}};a.prototype.$ReactComposerAsset3DStore4=function(a){a=this.validateAction(a,["composerID","progress"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.progress=a;this.emitChange(b)};a.prototype.$ReactComposerAsset3DStore1=function(a){__p&&__p();var c=this.validateAction(a,["composerID","asset3dFile","actorID"]),d=c[0],e=c[1];c=c[2];var f=this.getComposerData(d);f.isCreating=!0;f.background=null;f.progress=0;c=b("ActorURI").create(b("XCreateAsset3DController").getURIBuilder().getURI(),c);var g=new FormData();g.append("asset3d_file",e.file);f.pendingRequest=new(b("AsyncRequest"))().setURI(c).setMethod("POST").setRawData(g).setUploadProgressHandler(function(a){var c=a.loaded;a=a.total;b("ReactComposerAsset3DActions").updateLoadingProgress(d,c/a*.8)}).setHandler(function(a){this.$ReactComposerAsset3DStore6(a,d,e)}.bind(this)).setErrorHandler(function(b){return this.$ReactComposerAsset3DStore7(b,a)}.bind(this)).setFinallyHandler(function(){f.isCreating=!1,f.pendingRequest=null,this.emitChange(d)}.bind(this));f.pendingRequest.send();this.emitChange(d)};a.prototype.$ReactComposerAsset3DStore2=function(a){a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a);c.isCreating=!1;c.asset3dData=new h();c.background=null;c.pendingRequest&&c.pendingRequest.abandon();b("ReactComposerTaggerActions").setTaggerData(a,b("ReactComposerLoggingName").ASSET_3D,b("ReactComposerTaggerType").ASSET_3D,{});this.emitChange(a)};a.prototype.$ReactComposerAsset3DStore6=function(a,c,d){__p&&__p();var e,f,g,i;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:e=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").ASSET_3D);if(!(e.file&&b("Asset3DUtils").fileEquals(d.file,e.file))){j.next=13;break}f=this.getComposerData(c);j.next=5;return b("regeneratorRuntime").awrap(this.$ReactComposerAsset3DStore8());case 5:g=j.sent;j.next=8;return b("regeneratorRuntime").awrap(g.load({uri:a.payload.glbURI,assetID:a.payload.id}));case 8:i=j.sent,f.progress=1,f.asset3dData=h({asset3dID:a.payload.id,glbURI:a.payload.glbURI,compressor:a.payload.compressor,compressionLevel:a.payload.compressionLevel,version:a.payload.version,asset3D:i}),this.emitChange(c),b("ReactComposerTaggerActions").setTaggerData(c,b("ReactComposerLoggingName").ASSET_3D,b("ReactComposerTaggerType").ASSET_3D,{file:d,asset3dID:a.payload.id});case 13:case"end":return j.stop()}},null,this)};a.prototype.$ReactComposerAsset3DStore8=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",new(b("Promise"))(function(a,c){b("Bootloader").loadModules(["Asset3DLoaderFactory"],function(b){a(b.make("Asset3DLoader"))},"ReactComposerAsset3DStore")}));case 1:case"end":return a.stop()}},null,this)};a.prototype.$ReactComposerAsset3DStore7=function(a,c){b("ExceptionDialog").showAsyncError(a),this.$ReactComposerAsset3DStore2(c)};e.exports=new a()}),null);
__d("ReactComposerTaggerSummaryPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_3o1x"})};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerStickerComponent.react",["ix","cx","fbt","Arbiter","Image.react","React","ReactComposerEvents","ReactComposerLoggingName","ReactComposerPrefillStore","ReactComposerTaggerActions","ReactComposerTaggerType","ShimButton.react","Sticker.react","StickerAssetType","StickerConstants","StickerUtils","XStickerAssetController","fbglyph"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$3=function(){b("ReactComposerTaggerActions").setTaggerData(this.props.composerID,b("ReactComposerLoggingName").STICKER_SPROUT,b("ReactComposerTaggerType").STICKER,null)}.bind(this),this.$4=function(){var a=b("ReactComposerPrefillStore").getAndEraseNestedField(this.props.composerID,["taggersData",b("ReactComposerTaggerType").STICKER]);a&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.props.composerID,b("ReactComposerTaggerType").STICKER,a)}.bind(this),c}a.prototype.render=function(){"use strict";if(!(this.props.sticker&&this.props.sticker.stickerID))return null;var a=b("StickerUtils").getScaledDimensions(b("StickerConstants").TRAY_SIZE,b("StickerConstants").TRAY_SIZE,b("StickerConstants").TRAY_SIZE),c=a.height;a=a.width;var d=b("XStickerAssetController").getURIBuilder().setInt("sticker_id",this.props.sticker.stickerID);c=b("React").createElement(b("Sticker.react"),{accessibilityLabel:this.props.sticker.accessibilityLabel,animationTrigger:"load_and_hover",frameCount:1,frameRate:b("StickerConstants").DEFAULT_FRAME_RATE,framesPerCol:1,framesPerRow:1,sourceHeight:c,sourceURI:d.setEnum("image_type",b("StickerAssetType").IMAGE).getURI().toString(),sourceWidth:a,stickerID:this.props.sticker.stickerID.toString(),className:"_x85"});return b("React").createElement("div",{className:"_x88"},b("React").createElement("span",{className:"_x8a"},c,this.$2()))};a.prototype.$2=function(){"use strict";return b("React").createElement(b("ShimButton.react"),{className:"_x8b",onClick:this.$3},b("React").createElement(b("Image.react"),{alt:i._("Remove sticker"),src:g("125920")}))};a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$4(),this.$1=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this.$4)};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.unsubscribe(),this.$1=null};e.exports=a}),null);
__d("ComposerDestinationsEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_DESTINATIONS_BOTTOM_SHEET_OPENED:"composer_destinations_bottom_sheet_opened",COMPOSER_DESTINATIONS_BOTTOM_SHEET_DISMISSED:"composer_destinations_bottom_sheet_dismissed",COMPOSER_DESTINATIONS_NEWS_FEED_TOGGLED:"composer_destinations_news_feed_toggled",COMPOSER_DESTINATIONS_MY_STORY_TOGGLED:"composer_destinations_my_story_toggled",COMPOSER_DESTINATIONS_INSTAGRAM_TOGGLED:"composer_destinations_instagram_toggled",COMPOSER_DESTINATIONS_ADS_PE_POST_TOGGLED:"composer_destinations_ads_pe_post_toggled",COMPOSER_DESTINATIONS_FEED_PRIVACY_CLICKED:"composer_destinations_feed_privacy_clicked",COMPOSER_DESTINATIONS_MY_STORY_PRIVACY_CLICKED:"composer_destinations_my_story_privacy_clicked",COMPOSER_DESTINATIONS_SUBMIT_CLICKED:"composer_destinations_submit_clicked",COMPOSER_DESTINATIONS_MESSENGER_THREAD_TOGGLED:"composer_destinations_messenger_thread_toggled",COMPOSER_DESTINATIONS_MESSENGER_SEARCH_OPENED:"composer_destinations_messenger_search_opened",COMPOSER_DESTINATIONS_MESSENGER_SEARCH_FINISHED:"composer_destinations_messenger_search_finished",COMPOSER_DESTINATIONS_MESSENGER_GROUP_CREATION_INTENT_OPENED:"composer_destinations_messenger_group_creation_intent_opened",COMPOSER_DESTINATIONS_MESSENGER_GROUP_CREATION_INTENT_FINISHED:"composer_destinations_messenger_group_creation_intent_finished"})}),null);
__d("ComposerDestinationsLoggingUtils",["ComposerDestinationsEvents","ComposerXMarauderLogger","ReactComposerAudienceMessengerTypes","ReactComposerAudienceStore","ReactComposerStore","ReactComposerTaggerEligibilityUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={logComposerDestinationsBottomSheetOpened:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_BOTTOM_SHEET_OPENED,a)},logComposerDestinationsMyStoryToggled:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_MY_STORY_TOGGLED,a)},logComposerDestinationsNewsFeedToggled:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_NEWS_FEED_TOGGLED,a)},logComposerDestinationsInstagramToggled:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_INSTAGRAM_TOGGLED,a)},logComposerDestinationsAdsPePostToggled:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_ADS_PE_POST_TOGGLED,a)},logComposerDestinationsSubmitClicked:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_SUBMIT_CLICKED,a)},logComposerDestinationsMessengerSearchOpened:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_MESSENGER_SEARCH_OPENED,a)},logComposerDestinationsMessengerGroupCreationOpened:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_MESSENGER_GROUP_CREATION_INTENT_OPENED,a)},logComposerDestinationsMessengerGroupCreationFinished:function(a){this._log(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_MESSENGER_GROUP_CREATION_INTENT_FINISHED,a)},logComposerDestinationsMessengerThreadToggled:function(a,c,d,e,f,g){b("ComposerXMarauderLogger").logEvent(b("ComposerDestinationsEvents").COMPOSER_DESTINATIONS_MESSENGER_THREAD_TOGGLED.toLowerCase(),a,{extraData:{composer_session_id:c,new_value:d,thread_id:e,thread_type:f,position:g}})},_log:function(event,a){var c=b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(a);c={is_eligible_for_messenger:b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(a),is_eligible_for_my_story:b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(a),instagram_eligibility:b("ReactComposerTaggerEligibilityUtils").getInstagramSharingEligibility(a),is_my_story_selected:b("ReactComposerAudienceStore").getStoriesSelected(a),is_ads_pe_post_selected:b("ReactComposerAudienceStore").getAdsPePostSelected(a),is_news_feed_selected:b("ReactComposerAudienceStore").getTimelineSelected(a),is_instagram_selected:b("ReactComposerAudienceStore").getInstagramSelected(a),thread_ids:{individual:c.get(b("ReactComposerAudienceMessengerTypes").INDIVIDUAL),existing_group:c.get(b("ReactComposerAudienceMessengerTypes").EXISTING_GROUP),new_group:c.parseNewMessengerGroups().map(function(a){return{users:a}}).toJS()}};var d=b("ReactComposerStore").getComposerData(a),e=d.actorID;d=d.isActorAPage;d&&(c=babelHelpers["extends"]({},c,{posting_as_page_id:e}));b("ComposerXMarauderLogger").logEvent(event.toLowerCase(),a,{extraData:c})}};e.exports=a}),null);
__d("ComposerPostEligibilityEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_POST_ELIGIBILITY:"composer_post_eligibility"})}),null);
__d("ComposerPostEligibilityLoggingUtils",["ComposerPostEligibilityEvents","ComposerXMarauderLogger","ReactComposerAudienceStore","ReactComposerStore","ReactComposerTaggerEligibilityUtils"],(function(a,b,c,d,e,f){"use strict";a={logComposerPostEligibility:function(a){this._log(b("ComposerPostEligibilityEvents").COMPOSER_POST_ELIGIBILITY,a)},_log:function(event,a){var c={is_eligible_for_messenger:!1,is_eligible_for_my_story:b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(a),instagram_eligibility:b("ReactComposerTaggerEligibilityUtils").getInstagramSharingEligibility(a),is_my_story_selected:b("ReactComposerAudienceStore").getStoriesSelected(a),is_ads_pe_post_selected:b("ReactComposerAudienceStore").getAdsPePostSelected(a),is_news_feed_selected:b("ReactComposerAudienceStore").getTimelineSelected(a),is_instagram_selected:b("ReactComposerAudienceStore").getInstagramSelected(a)},d=b("ReactComposerStore").getComposerData(a),e=d.actorID;d=d.isActorAPage;d&&(c=babelHelpers["extends"]({},c,{posting_as_page_id:e}));b("ComposerXMarauderLogger").logEvent(event.toLowerCase(),a,{extraData:c})}};e.exports=a}),null);
__d("ExtensibleSproutsSurfaceItemType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNDIRECTED_FEED_COMPOSER:"UNDIRECTED_FEED_COMPOSER",UNDIRECTED_FEED_PUBLISHER_BAR:"UNDIRECTED_FEED_PUBLISHER_BAR",UNDIRECTED_GROUPS_COMPOSER:"UNDIRECTED_GROUPS_COMPOSER"})}),null);
__d("ReactComposerConfig",["ComposerEntryPointRef","ComposerSourceSurface","ComposerTargetData","ComposerTargetType","ExtensibleSproutsItemType","ExtensibleSproutsSurfaceItemType","React","ReactComposerAttachmentType","ReactComposerLoggingName","getObjectValues"],(function(a,b,c,d,e,f){a=b("React").PropTypes;e.exports=a.shape({actorConfig:a.object,attachmentsConfig:a.object.isRequired,audienceXHP:a.any,boostedPostButtonConfig:a.any,canPostScheduledLivingRoom:a.bool,contextInfo:a.object,destinationsConfig:a.object,dialogComposer:a.bool,dialogElementID:a.string,instagramConfig:a.shape({businessAccountID:a.string}),pagesComposerNuxConfig:a.object,interceptionConfig:a.arrayOf(a.object),loggingConfig:a.shape({isEditComposer:a.bool,targetType:a.oneOf(b("getObjectValues")(b("ComposerTargetType"))).isRequired,ref:a.oneOf(b("getObjectValues")(b("ComposerEntryPointRef"))).isRequired,composerSourceSurface:a.oneOf(b("getObjectValues")(b("ComposerSourceSurface"))).isRequired,rankerRequestID:a.string,composerType:a.string,sproutSurface:a.oneOf(b("getObjectValues")(b("ExtensibleSproutsSurfaceItemType"))),inlineSproutSurface:a.oneOf(b("getObjectValues")(b("ExtensibleSproutsSurfaceItemType")))}).isRequired,activateOnInit:a.bool,mediaAcceptParam:a.shape({photos:a.string,both:a.string}),nuxConfig:a.object.isRequired,postButtonConfig:a.object,showExpandedComposer:a.bool,taggersConfig:a.object,sproutsConfig:a.object,inlineSproutsList:a.arrayOf(a.oneOf(b("getObjectValues")(b("ExtensibleSproutsItemType")))),targetData:a.instanceOf(b("ComposerTargetData")).isRequired,instagramCrossPostingEnabled:a.bool,triggeredFrom:a.oneOf(Object.values(b("ReactComposerLoggingName"))),focusOnInit:a.bool,initSelectedAttachment:a.oneOf(b("getObjectValues")(b("ReactComposerAttachmentType"))),sproutWithNewBadge:a.oneOf(b("getObjectValues")(b("ExtensibleSproutsItemType"))),sproutsPromotionConfig:a.shape({promotionID:a.number,sprout:a.oneOf(b("getObjectValues")(b("ExtensibleSproutsItemType"))),subtitle:a.string}),messengerConfig:a.shape({shimmer:a.object}),groupConfig:a.object,reactComposerFocusExtraConfigData:a.object})}),null);
__d("ReactComposerOptimisticPostingStore",["Arbiter","FBLogger","React","ReactComposerActionTypes","ReactComposerEvents","ReactComposerInit","ReactComposerMediaUploadType","ReactComposerOptimisticPostingActionType","ReactComposerOptimisticPostingStoryContainer.react","ReactComposerStoreBase","ReactDOM","ifRequired"],(function(a,b,c,d,e,f){__p&&__p();var g,h={};c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";var a=function(a){switch(a.type){case b("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING:this&&this.$ReactComposerOptimisticPostingStore1(a);break;case b("ReactComposerOptimisticPostingActionType").FINISH_OPTIMISTICALLY_POSTING:case b("ReactComposerActionTypes").POST_SUCCEEDED:case b("ReactComposerActionTypes").POST_ERROR:this&&this.$ReactComposerOptimisticPostingStore2(a);break;default:}}.bind(this);g.constructor.call(this,function(){return{hasVideo:null,optimisticallyPostingElement:null}},a)}a.prototype.isOptimisticallyPosting=function(a){"use strict";return!!this.getComposerData(a).optimisticallyPostingElement};a.prototype.hadOptimisticallyPosted=function(a){"use strict";return!!h[a]};a.prototype.$ReactComposerOptimisticPostingStore3=function(a,c){"use strict";b("Arbiter").inform(b("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+a),b("Arbiter").inform("LitestandComposer/publishTemp",{composer_id:a,markup:c}),setTimeout(function(){b("ReactComposerInit").hideAndReplaceComposer(a)},0)};a.prototype.$ReactComposerOptimisticPostingStore1=function(a){"use strict";__p&&__p();var c=this.validateAction(a,["composerID","config","attachmentType","actorID","targetID"]),d=c[0],e=c[1],f=c[2],g=c[3];c=c[4];f=this.$ReactComposerOptimisticPostingStore4(b("React").createElement(b("ReactComposerOptimisticPostingStoryContainer.react"),{attachmentType:f,composerID:d,config:e,actorID:g,targetID:c,onPostFailure:a.onPostFailure}));this.getComposerData(d).optimisticallyPostingElement=f;b("ifRequired")("ReactComposerMediaUploadStore",function(a){this.getComposerData(d).hasVideo=a.getUploadsOfType(d,b("ReactComposerMediaUploadType").VIDEO).size}.bind(this),function(){b("FBLogger")("FIXME").mustfix("ReactComposerMediaUploadStore isn't loaded when it's supposed to be.")});this.emitChange(d);setTimeout(this.$ReactComposerOptimisticPostingStore3.bind(null,d,f),0)};a.prototype.$ReactComposerOptimisticPostingStore2=function(a){"use strict";a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a).optimisticallyPostingElement;if(!c)return;this.getComposerData(a).optimisticallyPostingElement=null;this.getComposerData(a).hasVideo||b("ReactDOM").unmountComponentAtNode(c);h[a]=!0;this.emitChange(a)};a.prototype.$ReactComposerOptimisticPostingStore4=function(a){"use strict";var c=document.createElement("div");b("ReactDOM").render(a,c);return c};e.exports=new a()}),null);
__d("ReactComposerOptimisticAttachmentUtils",["React","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerOptimisticPostingStoryListAttachmentContainer.react"],(function(a,b,c,d,e,f){"use strict";a.prototype.getOptimisticAttachment=function(a){var c=b("ReactComposerAttachmentStore").getProxiedAttachmentID(a)||b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);switch(c){case b("ReactComposerAttachmentType").LIST:return b("React").createElement(b("ReactComposerOptimisticPostingStoryListAttachmentContainer.react"),{composerID:a});default:return null}};function a(){}e.exports=new a()}),null);
__d("ReactComposerOptimisticPostingStoryFailureMessage.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){a=function(){return b("React").createElement("div",{className:"_1rsx"},h._("Your post failed to upload. Please check your internet connection and refresh the browser to try again."))};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryGeneric.react",["cx","React"],(function(a,b,c,d,e,f,g){a=function(){return b("React").createElement("div",{className:"_3lza"},b("React").createElement("div",{className:"_6b3f _2iwq"},b("React").createElement("div",{className:"_2iwy"}),b("React").createElement("div",{className:"_2iwz"}),b("React").createElement("div",{className:"_2iw-"}),b("React").createElement("div",{className:"_2iw_"}),b("React").createElement("div",{className:"_2ix0"})))};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryHeader.react",["cx","fbt","Layout.react","ReactComposerProfilePhoto.react","React"],(function(a,b,c,d,e,f,g,h){var i=b("Layout.react").Column,j=b("Layout.react").FillColumn;a=b("React").PropTypes;var k=function(){};c=function(a){var c=a.profilePicSrc;a=a.profileName;return b("React").createElement(b("Layout.react"),{className:"_1zm9"},b("React").createElement(i,{className:"_2pii"},b("React").createElement(b("ReactComposerProfilePhoto.react"),{src:c,profileName:a,onClick:k})),b("React").createElement(j,null,b("React").createElement("h6",{className:"_5pbw _3fr1"},a),b("React").createElement("span",{className:"_3fr2"},h._("Just now"))))};c.propTypes={profilePicSrc:a.string.isRequired,profileName:a.string.isRequired};e.exports=c}),null);
__d("VideoThumbnailUtils",["EventListener"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=document.createElement("video");d.setAttribute("src",a);return b("EventListener").listen(d,"loadedmetadata",function(){return c(d)})}e.exports={createVideoElementForComputation:a}}),null);
__d("ReactComposerOptimisticPostingStoryVideo.react",["cx","Bootloader","CssBackgroundImage.react","React","SubscriptionsHandler","VideoThumbnailUtils","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("VideoThumbnailUtils").createVideoElementForComputation,j=476;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={thumbSrc:null},this.$1=new(b("SubscriptionsHandler"))(),c}a.prototype.componentDidMount=function(){"use strict";this.$1.addSubscriptions(b("Bootloader").loadModules(["generateVideoThumbnails"],function(){},"ReactComposerOptimisticPostingStoryVideo.react"),i(this.props.videoUpload.fileURL,this.$2.bind(this)))};a.prototype.componentWillUnmount=function(){"use strict";this.$1.release()};a.prototype.$2=function(a){"use strict";this.$1.addSubscriptions(b("Bootloader").loadModules(["generateVideoThumbnails"],function(c){if(a.videoWidth===0||a.videoHeight===0)return;var d=a.videoWidth>a.videoHeight?{thumbnailWidth:j,thumbnailHeight:Math.round(a.videoHeight*j/a.videoWidth)}:{thumbnailWidth:Math.round(a.videoWidth*j/a.videoHeight),thumbnailHeight:j},e=d.thumbnailWidth;d=d.thumbnailHeight;b("promiseDone")(c(a,e,d,1,"cover"),function(a){a=a.thumbnails[0].getURL();this.setState({thumbSrc:a.indexOf("data:image/")===0?a:null})}.bind(this))}.bind(this),"ReactComposerOptimisticPostingStoryVideo.react"))};a.prototype.render=function(){"use strict";return b("React").createElement(b("React").Fragment,null,b("React").createElement(k,{thumbSrc:this.state.thumbSrc}),b("React").createElement(l,null))};var k=function(a){a=a.thumbSrc;return a==null?b("React").createElement("div",{className:"_6b38 _6kbb"}):b("React").createElement(b("CssBackgroundImage.react"),{imageURI:a,className:"_6b38 _6ka0",backgroundPosition:"center"})},l=function(){return b("React").createElement("div",{className:"_bsl _3htz _6b39"})};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryMedia.react",["cx","Image.react","React","ReactComposerCollageUtils","ReactComposerMediaUploadType","ReactComposerOptimisticPostingStoryVideo.react","immutable"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;var i=5,j=1e3;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(a){"use strict";if(a.size===0)return[];else if(a.size===1)return b("ReactComposerCollageUtils").getSingleItemStyleInfo(a.first(),j);else{a=b("ReactComposerCollageUtils").getCollageLayoutConfig(a,j);return a.getItemStyleInfos()}};a.prototype.$2=function(a){"use strict";var b=0;a.forEach(function(a){a=a.top+a.height;a>b&&(b=a)});return b/j*100};a.prototype.$3=function(a){"use strict";__p&&__p();var c=a.length<=1;return a.map(function(a,d){__p&&__p();var e=this.props.mediaUploads.get(d),f=a.height/j*100,g=a.width/j*100,h=a.top/j*100,k=a.left/j*100;f={paddingBottom:""+f+"%",width:""+g+"%",top:""+h+"%",left:"inherit"};c||(f.left=""+k+"%");if(e.mediaType===b("ReactComposerMediaUploadType").VIDEO)g=b("React").createElement(b("ReactComposerOptimisticPostingStoryVideo.react"),{videoUpload:e});else{h=e.width/e.height;k=a.width/a.height;a=h>k?{height:"100%"}:{width:"100%"};h=e.isSpherical&&e.thumbSrc?e.thumbSrc:e.fileURL;g=b("React").createElement(b("Image.react"),{className:"_2y87",src:h,style:a})}k=null;this.props.mediaUploads.size>i&&d===i-1&&(k=this.$4());return b("React").createElement("div",{key:e.id,className:"_58vp",style:f},g,k)}.bind(this))};a.prototype.$4=function(){"use strict";var a=this.props.mediaUploads.size-i+1;return b("React").createElement("div",{className:"_52d9"},b("React").createElement("div",{className:"_52da"},b("React").createElement("div",{className:"_52db"},"+",a)))};a.prototype.render=function(){"use strict";var a=this.$1(this.props.mediaUploads.take(i));return b("React").createElement("div",{className:"_58vq",style:{paddingBottom:""+this.$2(a)+"%"}},this.$3(a))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={mediaUploads:c.instanceOf(b("immutable").List).isRequired};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryProgress.react",["cx","fbt","BUIProgressBar.react","React"],(function(a,b,c,d,e,f,g,h){a=b("React").PropTypes;c=function(a){a=a.percent;var c;a===null?c={isBuffering:!0}:c={percentage:a};return b("React").createElement("div",{className:"_2oj3"},b("React").createElement("span",null,h._("Uploading...")),b("React").createElement(b("BUIProgressBar.react"),babelHelpers["extends"]({className:"_2oj4",flexibleWidth:!0},c)))};c.propTypes={percent:a.number};e.exports=c}),null);
__d("ReactComposerOptimisticPostingStoryStatus.react",["cx","React"],(function(a,b,c,d,e,f,g){a=b("React").PropTypes;c=function(a){a=a.status;return b("React").createElement("div",{className:"_4sfj"},b("React").createElement("div",{className:"_5pbx"},a))};var h=a.oneOfType([a.number,a.string,a.element,a.arrayOf(h)]);c.PropTypes={status:h.isRequired};e.exports=c}),null);
__d("ReactComposerOptimisticPostingStoryVideoMessage.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){a=function(){return b("React").createElement("div",{className:"_1rsx"},h._("The video in your post is being processed. We'll send you a notification when it's done and your post is ready to view."))};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryContainer.react",["cx","Arbiter","BootloadedComponent.react","JSResource","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerEvents","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerOptimisticAttachmentUtils","ReactComposerOptimisticPostingStore","ReactComposerOptimisticPostingStoryFailureMessage.react","ReactComposerOptimisticPostingStoryGeneric.react","ReactComposerOptimisticPostingStoryHeader.react","ReactComposerOptimisticPostingStoryMedia.react","ReactComposerOptimisticPostingStoryProgress.react","ReactComposerOptimisticPostingStoryStatus.react","ReactComposerOptimisticPostingStoryVideoMessage.react","ReactComposerPhotoStore","ReactComposerPhotoUploadState","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadStore","StoreBasedStateMixinHelper","XUICard.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ReactComposerOptimisticPostingStoryContainer",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{attachmentType:a.string.isRequired,composerID:a.string.isRequired,config:b("ReactComposerConfig").isRequired,targetID:a.string.isRequired,actorID:a.string.isRequired,onPostFailure:a.func},_mixin:null,_recalculateStateID:null,_mediaUploads:null,_previousPercent:0,getInitialState:function(){return this._calculateState()},componentDidUpdate:function(a,c){this.state.isOptimisticallyPosting&&!this.state.isUploading&&!this.state.videoFinishedPosting&&this.state.uploadSuccessRate!==0&&b("ReactComposerActions").postStarted(this.props.composerID,{actorID:this.props.actorID,config:this.props.config,targetID:this.props.targetID,onPostFailure:this.props.onPostFailure})},componentDidMount:function(){this._previousPercent=0,this._mixin=new(b("StoreBasedStateMixinHelper"))([b("ReactComposerMediaUploadStore"),b("ReactComposerOptimisticPostingStore"),b("ReactComposerPhotoStore"),b("ReactComposerStore"),b("ReactComposerVideoUploadStore")]),this._mixin.subscribeCallback(function(a){this._recalculateStateID===null&&(this._recalculateStateID=setTimeout(function(){var a=this._calculateState(),b=Math.max(a.percent,this._previousPercent);a.percent=b;this._previousPercent=b;this.setState(a);this._recalculateStateID=null}.bind(this),0))}.bind(this)),b("ReactComposerMediaUploadStore")&&b("ReactComposerMediaUploadStore").getUploadsOfType(this.props.composerID,b("ReactComposerMediaUploadType").VIDEO).size&&b("Arbiter").subscribeOnce(b("ReactComposerEvents").POST_SUCCEEDED+this.props.composerID,function(){this.setState({videoFinishedPosting:!0})}.bind(this))},componentWillUnmount:function(){this._mixin&&this._mixin.release(),this._recalculateStateID&&clearTimeout(this._recalculateStateID)},_calculateState:function(){__p&&__p();var a=null,c=1;if(this.props.attachmentType===b("ReactComposerAttachmentType").MEDIA&&b("ReactComposerMediaUploadStore")){var d=b("ReactComposerMediaUploadStore").getUploads(this.props.composerID),e=0,f=0,g=0,h=0,i=0;d.forEach(function(a){a.get("fileSize")!==null?(f+=a.get("fileSize"),g+=(a.progress||0)*a.get("fileSize")):(h++,i+=a.progress||0),a.state===b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE&&e++});if(h){var j=d.size-h;j=j?f/j:1;f+=j*h;g+=j*i}f&&(a=g/f);c=e/d.size}this.props.attachmentType===b("ReactComposerAttachmentType").STATUS&&(a=100);j=b("ReactComposerVideoUploadStore").getVideo(this.props.composerID)&&b("ReactComposerStore").isPosting(this.props.composerID);d=b("ReactComposerPhotoStore").isSphericalPhotoUpdating(this.props.composerID);d=b("ReactComposerMediaUploadStore").isUploading(this.props.composerID)||b("ReactComposerPhotoStore").isRecognizing(this.props.composerID)||d||j;return{percent:a,videoFinishedPosting:this.state&&this.state.videoFinishedPosting,isUploading:d,isOptimisticallyPosting:b("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(this.props.composerID),uploadSuccessRate:c}},_renderStatusElement:function(){var a=b("ReactComposerStatusStore").getMessageText(this.props.composerID);a=[].concat(a.split("\n"));for(var c=1;c<a.length;c+=2)a.splice(c,0,b("React").createElement("br",{key:c}));return b("React").createElement(b("ReactComposerOptimisticPostingStoryStatus.react"),{key:"status",status:a})},_renderMediaElement:function(){if(!b("ReactComposerMediaUploadStore"))return this._renderGenericElement();this._mediaUploads||(this._mediaUploads=b("ReactComposerMediaUploadStore").getUploads(this.props.composerID));var a=b("React").createElement(b("ReactComposerOptimisticPostingStoryMedia.react"),{key:"media",mediaUploads:this._mediaUploads});return!b("ReactComposerStatusStore").getMessageText(this.props.composerID)?a:[this._renderStatusElement(),a]},_renderGenericElement:function(){return b("React").createElement(b("ReactComposerOptimisticPostingStoryGeneric.react"),null)},_renderFunFactElement:function(){var a=b("ReactComposerTaggerStore").getTaggerData(this.props.composerID,b("ReactComposerTaggerType").FUN_FACT);return a.prompt?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerOptimisticPostingStoryFunFactTagger.react").__setRef("ReactComposerOptimisticPostingStoryContainer.react"),bootloadPlaceholder:b("React").createElement("div",null),className:"_1rl8",emoji:a.prompt.emoji,title:a.prompt.title}):null},_renderBody:function(){var a=null,c=null,d=b("ReactComposerOptimisticAttachmentUtils").getOptimisticAttachment(this.props.composerID),e=!1;this.props.attachmentType===b("ReactComposerAttachmentType").STATUS?a=this._renderStatusElement():this.props.attachmentType===b("ReactComposerAttachmentType").MEDIA?a=this._renderMediaElement():a=this._renderGenericElement();b("ReactComposerTaggerStore").hasData(this.props.composerID,b("ReactComposerTaggerType").FUN_FACT)&&(c=this._renderFunFactElement(),e=!0);return b("React").createElement("div",{className:"_38-r"+(e?" _1rl9":"")},c,a,d)},render:function(){var a=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],c=a.profilePicSrc;a=a.profileName;return b("React").createElement(b("XUICard.react"),{className:"_4rtr"},this.state.videoFinishedPosting?b("React").createElement(b("ReactComposerOptimisticPostingStoryVideoMessage.react"),null):!this.state.isUploading&&this.state.uploadSuccessRate===0?b("React").createElement(b("ReactComposerOptimisticPostingStoryFailureMessage.react"),null):b("React").createElement(b("ReactComposerOptimisticPostingStoryProgress.react"),{percent:this.state.percent}),b("React").createElement(b("ReactComposerOptimisticPostingStoryHeader.react"),{profilePicSrc:c,profileName:a}),this._renderBody())}});e.exports=c}),null);
__d("ReactComposerOptimisticPostingActions",["ReactComposerConfig","ReactComposerDispatcher","ReactComposerOptimisticPostingActionType","ReactComposerOptimisticPostingStore"],(function(a,b,c,d,e,f){b("ReactComposerOptimisticPostingStore");a={startOptimisticallyPosting:function(a,c,d,e,f,g){b("ReactComposerDispatcher").dispatch({composerID:a,config:c,attachmentType:d,actorID:e,targetID:f,onPostFailure:g,type:b("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING})},finishOptimisticallyPosting:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerOptimisticPostingActionType").FINISH_OPTIMISTICALLY_POSTING})}};e.exports=a}),null);
__d("ReactComposer.react",["cx","ComposerTestID","FluxContainer","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerInit","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerLoggingQueue","ReactComposerSessionMetricsStore","ReactComposerStore","ReactDOM","XUICard.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={hasBeenActive:!1,isActive:!1},b}a.getStores=function(){return[b("ReactComposerStore"),b("ReactComposerSessionMetricsStore")]};a.calculateState=function(a,c,d){a=d.composerID;return{isActive:b("ReactComposerStore").isActive(a)}};a.prototype.componentDidMount=function(){b("ReactComposerActions").initConfig(this.context.composerID,this.props.loggingConfig,this.context.gks&&this.context.gks.lazySproutsExpand,this.props.activateOnInit,this.props.sproutsConfig,this.props.promotedSprout,this.props.activateOnInitEntryPoint),this.props.activateOnInit&&b("ReactComposerLoggingActions").composerEntry(this.context.composerID,this.props.activateOnInitEntryPoint)};a.prototype.componentDidUpdate=function(a,c){this.state.isActive&&!this.state.hasBeenActive&&(this.setState({hasBeenActive:!this.state.hasBeenActive}),b("ReactComposerLoggingQueue").initBootload(this.context.composerID,b("ReactDOM").findDOMNode(this),this.context.targetID,this.props.loggingConfig))};a.prototype.componentWillUnmount=function(){b("ReactComposerInit").unmountInstance(this.context.composerID,!0)};a.prototype.render=function(){var a="_36bx"+(this.props.hideBorders?" _4a60":"");return b("React").createElement(b("XUICard.react"),{className:b("joinClasses")(this.props.className,a),"data-testid":b("ComposerTestID").REACT_COMPOSER_ROOT,"data-test-actorid":this.context.actorID,id:this.context.composerID},this.props.children)};a.defaultProps={hideBorders:!1,activateOnInit:!1,activateOnInitEntryPoint:b("ReactComposerLoggingName").OTHERS};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerBodyContainer.react",["cx","FluxContainer","React","ReactComposerAttachmentStore","ReactComposerBody.react","ReactComposerContextTypes"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.calculateState=function(a,c,d){a=b("ReactComposerAttachmentStore").isSelectedAttachmentActive(d.composerID);return{active:a}};a.getStores=function(){return[b("ReactComposerAttachmentStore")]};a.prototype.render=function(){var a=(this.state.active&&this.props.hasMinHeight?"_5xv3":"")+(this.props.expanded?" _4cw":"");return b("React").createElement(b("ReactComposerBody.react"),{className:a},this.props.children)};function a(){h.apply(this,arguments)}a.defaultProps={expanded:!1,hasMinHeight:!0};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerFooter.react",["cx","ComposerTestID","React","ReactComposerSproutsDisplayState","XUICardSection.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";if(!this.props.showInlineSproutsPostBar&&this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE)return null;var a=b("joinClasses")("_2dck",this.props.className);return b("React").createElement(b("XUICardSection.react"),{background:this.props.background,className:a,"data-testid":b("ComposerTestID").REACT_COMPOSER_FOOTER},this.props.children)};function a(){"use strict";h.apply(this,arguments)}a.defaultProps={background:"white"};e.exports=a}),null);
__d("ReactComposerFooterActions.react",["cx","React","XUICardSection.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";var a=b("joinClasses")("_2ph-",this.props.className);return b("React").createElement(b("XUICardSection.react"),{className:a},this.props.children)};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerFooterContainer.react",["FluxContainer","React","ReactComposerAudienceActions","ReactComposerAudienceStore","ReactComposerContextTypes","ReactComposerFooter.react","ReactComposerStore","ifRequired","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("ReactComposerAudienceActions").clickSeeMessenger(this.context.composerID)}.bind(this),c}a.calculateState=function(a,c,d){return{adsPostSelected:b("ReactComposerAudienceStore").getAdsPePostSelected(d.composerID),instagramSelected:b("ReactComposerAudienceStore").getInstagramSelected(d.composerID),isComposerFocused:b("ifRequired")("ReactComposerFocusStore",function(a){return a.isComposerFocused(d.composerID)},function(){return!1}),sproutsDisplayState:b("ReactComposerStore").getSproutsDisplayState(d.composerID),storiesSelected:b("ReactComposerAudienceStore").getStoriesSelected(d.composerID),timelineSelected:b("ReactComposerAudienceStore").getTimelineSelected(d.composerID),selectedMessengerRecipientEntries:b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(d.composerID),messengerSectionVisible:b("ReactComposerAudienceStore").getMessengerSectionVisible(d.composerID)}};a.getStores=function(){var a=[b("ReactComposerStore"),b("ReactComposerAudienceStore")];b("ifRequired")("ReactComposerFocusStore",function(b){a.push(b)});return a};a.prototype.render=function(){var a=this.context.gks&&this.context.gks.isSproutsComposer,c=this.props.footerModule||b("ReactComposerFooter.react");return b("React").createElement(c,babelHelpers["extends"]({adsPostSelected:this.state.adsPostSelected,instagramSelected:this.state.instagramSelected,isComposerFocused:this.state.isComposerFocused,sproutsDisplayState:a?this.state.sproutsDisplayState:null,showInlineSproutsPostBar:this.context.gks&&this.context.gks.showInlineSproutsPostBar,storiesSelected:this.state.storiesSelected,timelineSelected:this.state.timelineSelected,selectedMessengerRecipientEntries:this.state.selectedMessengerRecipientEntries,messengerSectionVisible:this.state.messengerSectionVisible,onClickSeeMore:this.$1},this.props))};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerSproutsSelector.react",["cx","React","ReactComposerAttachmentSelectorContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("span",{"data-testid":this.props.dataTestID,className:"_sg1"},b("React").createElement(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:this.props.attachmentID,label:this.props.label,icon:this.props.icon,loggingName:this.props.loggingName,alternativeAttachmentIDs:this.props.alternativeAttachmentIDs,onSelected:this.props.onSelected,onAfterSelected:this.props.onAfterSelected}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("DestinationPickerGuideType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({POP_UP:"POP_UP",TOOLTIP:"TOOLTIP",NONE:"NONE"})}),null);
__d("ReactComposerPostButton.react",["cx","fbt","ComposerTestID","DestinationPickerGuideType","React","TooltipData","XUIButton.react","XUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.getButtonSize=function(){return"medium"};a.prototype.render=function(){var a=this.props.disabled&&this.props.isPosting&&!this.props.hideSpinner,c=b("React").createElement("div",{className:"_2ph- _6q3h"+(a?" _6q3i":"")},b("React").createElement(b("XUISpinner.react"),{background:"dark",size:"small"}));a=b("React").createElement("span",{className:a?"_5gm9":""},this.props.label);var d="";this.props.isEmptyPost?d=h._("You haven't added anything to share. You can write something, or add a photo or video."):this.props.isDestinationSet||(d=h._("Pick where you'd like to share"));return b("React").createElement("span",{className:this.props.disabledPostButtonGuideType===b("DestinationPickerGuideType").TOOLTIP&&(this.props.isEmptyPost||!this.props.isDestinationSet)?"_6ufy":""},b("React").createElement(b("XUIButton.react"),babelHelpers["extends"]({},this.props.disabledPostButtonGuideType===b("DestinationPickerGuideType").TOOLTIP?b("TooltipData").propsFor(d,"below"):{},{className:b("joinClasses")("_1mf7"+(this.props.isMediaUploading&&!this.props.timelineSelected||this.props.disabledPostButtonGuideType===b("DestinationPickerGuideType").TOOLTIP&&(this.props.isEmptyPost||!this.props.isDestinationSet)?" _6ufz":""),this.props.className),disabled:this.props.isMediaUploading&&!this.props.timelineSelected||(!this.props.oneStepDestinationPicker||this.props.disabledPostButtonGuideType===b("DestinationPickerGuideType").NONE)&&this.props.disabled,label:a,image:c,onClick:this.props.onClick,use:"confirm","data-testid":b("ComposerTestID").REACT_COMPOSER_POST_BUTTON})))};function a(){i.apply(this,arguments)}a.propTypes={className:c.string,config:c.object,disabled:c.bool,onClick:c.func,label:c.string,isPosting:c.bool,isEmptyPost:c.bool,isDestinationSet:c.bool,disabledPostButtonGuideType:c.string,isMediaUploading:c.bool,timelineSelected:c.bool,hideSpinner:c.bool};a.defaultProps={disabled:!1,label:h._("Post")};e.exports=a}),null);
__d("ReactComposerPostButtonContainerMixin",["fbt","Arbiter","BanzaiODS","BootloadedComponent.react","Bootloader","ComposerDestinationsLoggingUtils","ComposerPostEligibilityLoggingUtils","DestinationPickerGuideType","FBIDCheck","JSResource","PagesComposerContextUtils","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAsset3DStore","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFormattedTextPickerComponent.react","ReactComposerInit","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingActions","ReactComposerOptimisticPostingStore","ReactComposerPostButton.react","ReactComposerPostDataUtils","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReloadPage","SimpleXUIDialog","XUIButtonGroup.react","$","debounce","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="misinfo_warning_disputed_flags",i="composer_confirmation_dialog_shown",j="composer_posted_anyways";a=b("React").PropTypes;c={contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerOptimisticPostingStore"),b("ReactComposerStore"),b("ReactComposerAsset3DStore"),b("ReactComposerAudienceStore"),b("ReactComposerAttachmentStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerStatusStore"),b("ReactComposerTaggerStore"))],propTypes:{config:b("ReactComposerConfig").isRequired,forceDisabled:a.bool,onClickPreprocess:a.func,useDefaultScheduleComponent:a.bool,isMediaUploading:a.bool},getDefaultProps:function(){return{forceDisabled:!1}},statics:{calculateState:function(a,c,d){var e=b("ReactComposerStore").isPosting(a),f=b("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(a),g=b("ReactComposerAsset3DStore").isCreating(a);d=b("ReactComposerPostDataUtils").isEmptyAttachment(c.config,d);var h=b("ReactComposerScrapedAttachmentStore").isScraping(a),i=!!b("ReactComposerStatusStore").getMessageText(a).trim(),j=b("ReactComposerAudienceStore").getTimelineSelected(a);return{disabled:d||c.forceDisabled||e||f||g||h&&!i,isPosting:e,isOptimisticallyPosting:f,destinationPickerEligible:b("ReactComposerAttachmentStore").isSelectedAttachmentDestinationPickerEligible(a),isEmptyPost:d,timelineSelected:j}},getButtonSize:function(){return"medium"}},render:function(){var a=!this.context.gks.optimisticPosting&&b("PagesComposerContextUtils").getIsDialogComposer(this.props.config.loggingConfig.ref);a=b("React").createElement(b("ReactComposerPostButton.react"),babelHelpers["extends"]({},this.props,{disabled:this.state.disabled,className:this.props.className,onClick:b("debounce")(this._onClick),isPosting:this.state.isPosting,isEmptyPost:this.state.isEmptyPost,isDestinationSet:!this.props.forceDisabled,disabledPostButtonGuideType:this.context.gks&&this.context.gks.destinationPickerGuideType,oneStepDestinationPicker:this.context.gks&&this.context.gks.oneStepComposer,isMediaUploading:this.props.isMediaUploading,timelineSelected:this.state.timelineSelected,hideSpinner:a}));if(this.props.useDefaultScheduleComponent&&this.props.config.actorConfig&&this.props.config.actorConfig.canSchedule&&this.props.config.actorConfig.timezoneStr){var c=!1;this.context.composerType==="timeline"&&this.context.actorID===this.context.targetID&&b("FBIDCheck").isUser_deprecated(this.context.actorID)&&(c=!0);return b("React").createElement("span",null,b("React").createElement(b("XUIButtonGroup.react"),null,a),b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerUserScheduledPostButton.react").__setRef("ReactComposerPostButtonContainerMixin"),bootloadPlaceholder:b("React").createElement("div",null),composerID:this.context.composerID,isUserTimeline:c,onSchedule:this._onClick,timezoneStr:this.props.config.actorConfig.timezoneStr,disabled:this.state.disabled,minScheduledTimeDelta:this.props.config.actorConfig.minScheduledTimeDelta,maxScheduledTimeDelta:this.props.config.actorConfig.maxScheduledTimeDelta,timezoneOffset:this.props.config.actorConfig.timezoneOffset,defaultScheduledTimeDelta:this.props.config.actorConfig.defaultScheduledTimeDelta}))}return a},_onClick:function(event){__p&&__p();this.state.destinationPickerEligible&&(this.context.gks.oneStepComposer||this.context.gks.showPagesDestinationPicker)&&b("ComposerDestinationsLoggingUtils").logComposerDestinationsSubmitClicked(this.context.composerID);b("ComposerPostEligibilityLoggingUtils").logComposerPostEligibility(this.context.composerID);if(this.context.gks&&this.context.gks.oneStepComposer&&this.context.gks.destinationPickerGuideType===b("DestinationPickerGuideType").POP_UP&&this.state.isEmptyPost){this._getInvalidPostDialog(g._("You Haven't Added Anything to Share"),g._("You can write something, or add a photo or video."));return}if(this.context.gks&&this.context.gks.oneStepComposer&&this.context.gks.destinationPickerGuideType===b("DestinationPickerGuideType").POP_UP&&this.props.forceDisabled){this._getInvalidPostDialog(g._("No Destination Selected"),g._("Please pick where you'd like to share"));return}if(this.state.disabled)return;if(this.props.onClickPreprocess&&!this.props.onClickPreprocess())return;b("ifRequired")("ReactComposerFormattedTextStore",function(a){this._checkEmptyTextWithBackgroundColor(a)}.bind(this),function(){this._validateAndStartPost()}.bind(this))},_getInvalidPostDialog:function(a,c){return b("Bootloader").loadModules(["XUIDialogButton.react"],function(d){b("SimpleXUIDialog").showEx(c,a,b("React").createElement(d,{action:"cancel",use:"confirm",label:g._("Close")}))},"ReactComposerPostButtonContainerMixin")},_checkEmptyTextWithBackgroundColor:function(a){var c=b("ReactComposerStatusStore").getTextLength(this.context.composerID);a=a.getBackgroundColorIsActive(this.context.composerID);c===0&&a?b("Bootloader").loadModules(["XUIDialogButton.react"],function(a){a=b("React").createElement("div",null,b("React").createElement(a,{action:"cancel",label:g._("Go Back")}),b("React").createElement(a,{action:"cancel",label:g._("Post"),onClick:function(){this._removeBackground(),this._validateAndStartPost()}.bind(this),use:"confirm"}));b("SimpleXUIDialog").showEx(g._("The background you selected will only appear when you add text to your post."),g._("Post Without Background?"),a)}.bind(this),"ReactComposerPostButtonContainerMixin"):this._validateAndStartPost()},_validateAndStartPost:function(){__p&&__p();if(this._validateAlbumAddition()===!1){b("SimpleXUIDialog").show(g._("Album posts must contain at least one photo or video. Please add a photo or video to your post, or remove the album selection."),g._("Cannot add post to album"));b("BanzaiODS").bumpEntityKey("www_composer_albumsv2","error_no_media");return}var a=this.context.composerID,c=b("ReactComposerScrapedAttachmentStore").getPostConfirmationDialog(a);if(c){var d=b("ReactComposerScrapedAttachmentStore").getHasDisputedWarning(a);c.subscribe("confirm",function(){c.hide(),c.destroy(),d&&b("BanzaiODS").bumpEntityKey(h,j),this._doStartPost()}.bind(this));if(d)var e=c.subscribe("show",function(){b("BanzaiODS").bumpEntityKey(h,i),e.unsubscribe()});c.show();return}else this._doStartPost()},_removeBackground:function(){b("Bootloader").loadModules(["ReactComposerFormattedTextActions"],function(a){a.setSelectedIndex(this.context.composerID,b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)}.bind(this),"ReactComposerPostButtonContainerMixin")},_validateAlbumAddition:function(){var a=this.context.composerID,c=b("ReactComposerAudienceStore").getCollectionID(a);if(!c)return!0;c=b("ReactComposerMediaUploadStore").getUploads(a);return c&&c.size>0?!0:this.context.gks&&this.context.gks.addAnyPostToAlbum},_doStartPost:function(){__p&&__p();var a=b("ReactComposerAudienceStore").getTimelineSelected(this.context.composerID);this.context.gks.optimisticPosting&&a?b("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,b("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID):b("ReactComposerActions").postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});b("ReactComposerAudienceStore").getStoriesSelected(this.context.composerID)&&this.context.gks.isNonBlockingStoryPosting&&(b("Bootloader").loadModules(["FBStoriesTray"],function(a){return a.onComposerStoryPostClick()},"ReactComposerPostButtonContainerMixin"),a||b("ReactComposerInit").hideAndReplaceComposer(this.context.composerID));if(this.props.config.dialogComposer)if(this.context.gks.optimisticPosting&&!this.props.config.dialogComposerRefreshOnPost)b("Arbiter").subscribe(b("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+this.context.composerID,function(){b("Arbiter").inform(this.props.config.dialogHideOnEvent)}.bind(this)),b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+this.context.composerID,function(a,c){b("ReactComposerInit").unmountInstance(c.newComposerID)});else{a=b("$")(this.props.config.dialogElementID);a.parentNode&&a.parentNode.removeChild(a);b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+this.context.composerID,function(a,c){b("ReactComposerInit").unmountInstance(c.newComposerID),b("ReloadPage").delay(0)})}}};e.exports=c}),null);
__d("ReactComposerPostButtonContainer.react",["React","ReactComposerPostButtonContainerMixin"],(function(a,b,c,d,e,f){a=b("React").createClass({displayName:"ReactComposerPostButtonContainer",mixins:[b("ReactComposerPostButtonContainerMixin")]});e.exports=a}),null);
__d("ReactComposerLazyProfilePhotoBlock.react",["JSResource","Placeholder.react","React","ReactComposerProfilePhotoBlock.react","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g,h=b("lazyLoadComponent")(b("JSResource")("ReactComposerProfilePhotoVoiceSwitcherBlock.react").__setRef("ReactComposerLazyProfilePhotoBlock.react"));g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return this.props.useVoiceSwitcher?b("React").createElement("span",null,b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",null)},b("React").createElement(h,{children:this.props.children,config:this.props.config}))):b("React").createElement(b("ReactComposerProfilePhotoBlock.react"),{profileName:this.props.profileName,profilePicSrc:this.props.profilePicSrc,profileURI:this.props.profileURI,profileDialogURI:this.props.profileDialogURI,onClick:this.props.onClick},this.props.children)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ReactComposerEllipsisSproutContainer.react",["csx","cx","ix","ComposerTestID","DOM","DOMTraverser","ExtensibleSproutsItemType","Focus","React","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerSproutItem.react","ReactComposerStore","TabbableElements","ge"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=function(event){this.context.gks&&this.context.gks.lazySproutsExpand&&this.$3(),b("ReactComposerAttachmentActions").selectAttachmentLoggingOnlyDoNotUse(this.context.composerID,b("ExtensibleSproutsItemType").ELLIPSIS,b("ReactComposerLoggingName").ELLIPSIS_SPROUT,b("ReactComposerStore").getSproutSurface(this.context.composerID))}.bind(this),this.$1=function(event){this.$3()}.bind(this),c}a.prototype.render=function(){return b("React").createElement("span",{onKeyDown:this.$1},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:{label:"",icon:i("28705"),className:"_1gr3",loggingName:b("ReactComposerLoggingName").ELLIPSIS_SPROUT,webDriverTestID:b("ComposerTestID").ELLIPSIS_SPROUT},onClick:this.$2}))};a.prototype.$3=function(){b("ReactComposerActions").expandSprouts(this.context.composerID),setTimeout(function(){var a=b("ge")(this.context.composerID),c=b("DOM").find(a,"._16vl");a=b("DOMTraverser").nextFilteredNode(a,c,function(a){return b("TabbableElements").isTabbable(a)});b("Focus").set(a)}.bind(this),0)};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerLazySproutContainer.react",["React","ReactComposerContextTypes","ReactComposerSproutItem.react","ReactComposerTaggerActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={loading:!1},this.$1=function(){this.setState({loading:!0}),this.props.uiConfig.sproutTaggerID&&b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.uiConfig.loggingName,this.props.uiConfig.sproutTaggerID,!0)}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,onClick:this.$1,loading:this.state.loading})};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("CreatorStudioComposerActions",["MediaManagerActionTypes","MediaManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MediaManagerActionTypes").MediaManagerActionTypes;function a(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_COMPOSER_INITIALIZED})}function c(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_SUCCESS})}function d(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_ATTEMPT})}function f(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_CANCEL})}function h(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_CLOSE_TRAY_CONFIRM})}function i(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_GO_LIVE_ERROR})}function j(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_GO_LIVE_INITIALIZED})}function k(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_BASIC_POST,entryPoint:a})}function l(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_BULK_UPLOAD})}function m(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_GO_LIVE_POST,entryPoint:a})}function n(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_LAUNCH_SINGLE_VIDEO,fileInput:a,entryPoint:c})}function o(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BASIC_POST_BOOTLOAD_ERROR})}function p(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_SET_TARGET_PAGE,targetPage:a})}function q(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_VIDEO_COMPOSER_INITIALIZED})}function r(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_VIDEO_COMPOSER_PUBLISH_SUCCESS})}e.exports={basicPostComposerInitialized:a,basicPostSuccess:c,closeTrayAttempt:d,closeTrayCancel:f,closeTrayConfirm:h,goLiveComposerError:i,goLiveComposerInitialized:j,launchBasicPostTray:k,launchComposerBulkUpload:l,launchGoLivePost:m,launchSingleVideoComposer:n,setBasicPostBootloadError:o,setTargetPage:p,videoComposerInitialized:q,videoComposerPublishSuccess:r}}),null);
__d("CreatorStudioComposerTypes",["EditorState","ExpirationType","ImmutableRecordWithV4Types","VideoComposerPublishingTypes","VideoComposerTagSuggestionSources","getMentionsInputDecorator","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;c=b("VideoComposerPublishingTypes").PublishingType;d=a({accessToken:"",historyTags:null,mentionsSearchSource:null,suggestedTags:null,taggingGrowthExperimentEnabled:!1});f=a({id:"",title:null,icon:null,onClick:function(a){},shouldShow:!1,buttonWidth:0});c=a({backdateDay:null,backdateMonth:null,backdateYear:null,expireDate:null,expireType:b("ExpirationType").NONE,hideFromNewsFeed:!1,isFundedContent:!1,minBackdateTime:0,publishingType:c.PUBLISH_NOW,premiereCSType:"premiere",premiereDate:null,premiereDisabledReason:null,premiereFeedBackgroundImageURL:null,scheduleDate:null,shouldPremiere:!1,showPremiereOption:!1,showPremiereNowOption:!1,showPremiereUnderSchedule:!1});var g=a({error:null,success:!1});b=a({descriptionEditorState:b("EditorState").createEmpty(b("getMentionsInputDecorator")()),title:"",contentTags:[],selectedThumbnail:null,customThumbnail:null,scrubbedThumbnail:null,publishingData:c(),tagSuggestionSource:b("VideoComposerTagSuggestionSources").BROWSE});var h=a({description:!0,tags:!0,title:!0,thumbnail:!0,publishingData:!0});a=a({title:!1,description:!1,tags:!1,thumbnail:!1,publishingData:!1});e.exports={ComposerPostTypeConfigFactory:f,CrosspostFieldReplicationFlagsRecordFactory:h,MultipostInlineInputRecordFactory:b,MultipostCrosspostPublishingDataRecordFactory:c,MultipostCrosspostCreationResultDataRecordFactory:g,MultipostInlineLoggingFlagsRecordFactory:a,MultipostCrosspostPageInitDataRecordFactory:d}}),null);
__d("MediaManagerComposerPost",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BASIC_POST:"basic_post",BULK_UPLOAD:"bulk_upload",SINGLE_VIDEO:"single_video",STORY:"story",GO_LIVE:"go_live",MULTI_POST:"multi_post"})}),null);
__d("CreatorStudioPostTypeConfigs",["ix","fbt","CreatorStudioComposerActions","CreatorStudioComposerTypes","CreatorStudioMultipostActions","MediaManagerComposerPost","MediaManagerEventSource","asset","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("CreatorStudioComposerTypes").ComposerPostTypeConfigFactory;c=a({id:b("MediaManagerComposerPost").BASIC_POST,title:h._("Post something..."),icon:g("638077"),onClick:function(a){return b("CreatorStudioComposerActions").launchBasicPostTray(a)},shouldShow:!0});d=a({id:b("MediaManagerComposerPost").SINGLE_VIDEO,title:h._("Upload Video"),icon:g("638642"),onClick:function(a){},shouldShow:!0,buttonWidth:165});f=a({id:b("MediaManagerComposerPost").STORY,title:h._("Add Story"),icon:g("504443"),onClick:function(a){},shouldShow:!1,buttonWidth:151});var i=a({id:b("MediaManagerComposerPost").GO_LIVE,title:h._("Go Live"),icon:g("638633"),onClick:function(a){return b("CreatorStudioComposerActions").launchGoLivePost(a)},shouldShow:!0,buttonWidth:151});a=a({id:b("MediaManagerComposerPost").MULTI_POST,title:h._("Post Across Pages"),icon:g("499196"),onClick:function(){return b("CreatorStudioMultipostActions").openPageSelectorTray(b("MediaManagerEventSource").GLOBAL_COMPOSER_CIRCLE_ENTRY_POINT)},shouldShow:b("gkx")("678879"),buttonWidth:185});e.exports={BASIC_POST:c,SINGLE_VIDEO:d,STORY:f,GO_LIVE:i,MULTI_POST:a}}),null);
__d("CreatorStudioComposerUtils",["ComposerEntryPointRef","CreatorStudioPostTypeConfigs","MediaManagerTab","PageAdminTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=[b("CreatorStudioPostTypeConfigs").BASIC_POST,b("CreatorStudioPostTypeConfigs").SINGLE_VIDEO,b("CreatorStudioPostTypeConfigs").STORY,b("CreatorStudioPostTypeConfigs").GO_LIVE,b("CreatorStudioPostTypeConfigs").MULTI_POST];var g={isTrayBasedPagesComposer:function(a){return a===b("ComposerEntryPointRef").CS_HOME_BASIC_POST||a===b("ComposerEntryPointRef").CS_GLOBAL_BASIC_POST},isCreatorStudioPagesComposer:function(a){return a===b("ComposerEntryPointRef").CS_HOME_BASIC_POST||a===b("ComposerEntryPointRef").CS_GLOBAL_BASIC_POST||a===b("ComposerEntryPointRef").MEDIA_MANAGER},getPermissionedPages:function(a){return a.filter(function(a){return a.adminType===b("PageAdminTypes").MANAGER||a.adminType===b("PageAdminTypes").CONTENT_CREATOR})},getRankedPermissionedPages:function(a,b){b=g.getPermissionedPages(b);b.sort(function(b,c){if(a.includes(b.id)&&a.includes(c.id))return 0;if(a.includes(b.id))return-1;return a.includes(c.id)?1:0});return b},canShowGlobalComposerEntryPoints:function(a){return a===b("MediaManagerTab").HOME||a===b("MediaManagerTab").CONTENT||a===b("MediaManagerTab").INSIGHTS||a===b("MediaManagerTab").MONETIZATION}};e.exports={CreatorStudioComposerUtils:g,COMPOSER_ENTRY_POINTS:a}}),null);
__d("ReactComposerMediaSprout.react",["cx","Arbiter","ComposerEntryPointRef","ComposerTestID","CreatorStudioComposerUtils","ExtensibleSproutsItemType","React","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEvents","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerMediaFilePickerController.react","ReactComposerSproutBadgePromotionUtils","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerStore","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("CreatorStudioComposerUtils").CreatorStudioComposerUtils;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(event){this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout===b("ExtensibleSproutsItemType").MEDIA&&(this.props.config.sproutsPromotionConfig.promotionID&&b("ReactComposerSproutBadgePromotionUtils").endPromotion(this.props.config.sproutsPromotionConfig.promotionID,this.context.composerID)),event.stopPropagation()}.bind(this),this.$3=function(a){b("ReactComposerLoggingActions").composerEntry(this.context.composerID,b("ReactComposerLoggingName").MEDIA_SPROUT),a||b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),this.$1=function(event){b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,b("ReactComposerAttachmentType").MEDIA,!0,b("ExtensibleSproutsItemType").MEDIA,b("ReactComposerStore").getSproutSurface(this.context.composerID),null,b("ReactComposerLoggingName").MEDIA_SPROUT)}.bind(this),c}a.prototype.render=function(){var a=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA],c=i.isCreatorStudioPagesComposer(this.props.config.loggingConfig.ref);c=c&&this.props.mediaType=="MEDIA"?b("ReactComposerSproutsDefaultUIConfig")[b("ExtensibleSproutsItemType").MULTIMEDIA]:this.props.uiConfig;var d=a.noFilePicker&&!this.props.highlighted;if(d)return b("React").createElement(b("ShimButton.react"),{onClick:this.$1,"data-testid":"photo-video-button"},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:c,highlighted:this.props.highlighted,linkRole:"presentation"}));else return b("React").createElement("div",{onMouseDown:function(a){return a.preventDefault()},className:"_6a _4mvf _fk5"},b("React").createElement(b("ReactComposerMediaFilePickerController.react"),{containerClassName:"_5g_r",loggingName:this.props.uiConfig.loggingName,disableFaceRecognition:a.disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,mediaConfig:a,mediaType:this.props.mediaType,onClick:this.$2,onFilesSelected:this.$3,photoLimit:a.photoLimit,targetData:this.props.config.targetData,webDriverTestID:b("ComposerTestID").MEDIA_SPROUT},b("React").createElement(b("ReactComposerSproutItem.react"),{uiConfig:c,highlighted:this.props.highlighted})))};a.defaultProps={uiConfig:b("ReactComposerSproutsDefaultUIConfig")[b("ExtensibleSproutsItemType").MEDIA],highlighted:!1,mediaType:"MEDIA"};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerSproutsStyleUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={SPROUT_HEIGHT_PX:32,SPROUT_MARGIN_PX:8,SPROUT_LIST_VERTICAL_PADDING_PX:8,SPROUTS_PER_ROW:2,calculateVisibleSproutWindow:function(a,b){a=this.calculateSproutContainerHeight(a);var c=this.SPROUT_HEIGHT_PX+this.SPROUT_MARGIN_PX,d=Math.round(Math.max(b-this.SPROUT_LIST_VERTICAL_PADDING_PX,0)/c);b=Math.round((b+a-2*this.SPROUT_LIST_VERTICAL_PADDING_PX)/c);return{start:d,end:b}},calculateVisibleSprouts:function(a,b){var c={};for(var d=0;d<b.length;d++){var e=d>=a.start*this.SPROUTS_PER_ROW&&d<(a.end+1)*this.SPROUTS_PER_ROW;c[b[d]]=e}return c},calculateVisibleInlineSprouts:function(a,b){var c={};for(var d=0;d<b.length;d++){var e=a.indexOf(b[d])>=0;c[b[d]]=e}return c},calculateSproutContainerHeight:function(a){return a*this.SPROUT_HEIGHT_PX+Math.floor(a)*this.SPROUT_MARGIN_PX-this.SPROUT_LIST_VERTICAL_PADDING_PX}};e.exports=a}),null);
__d("ReactComposerSproutsListRenderer.react",["cx","invariant","ComposerTestID","ComposerWaterfallEvent","ExtensibleSproutsItemType","Grid.react","React","ReactComposerEllipsisSproutContainer.react","ReactComposerLoggingActions","ReactComposerSproutBadgePromotionUtils","ReactComposerSproutsDisplayState","ReactComposerSproutsStyleUtils","SproutConfigConstants","debounce","getObjectValues","joinClasses","ReactComposerContextTypes"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Grid.react").GridItem;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$8=function(){this.$3(b("ComposerWaterfallEvent").SPROUTS_SCROLL)}.bind(this),c}a.prototype.getChildContext=function(){return{hasFinishedSproutPromotion:this.props.hasFinishedSproutPromotion,promotedSprout:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout,subtitle:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.subtitle,promotionID:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.promotionID}};a.prototype.componentDidMount=function(){this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED?window.setTimeout(function(){this.$3(b("ComposerWaterfallEvent").SPROUTS_INITIAL)}.bind(this),0):this.$4(b("ComposerWaterfallEvent").SPROUTS_INITIAL)};a.prototype.componentDidUpdate=function(a){this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED&&a.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE&&this.$3(b("ComposerWaterfallEvent").SPROUTS_STATE_CHANGE),this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE&&a.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED&&this.$4(b("ComposerWaterfallEvent").SPROUTS_STATE_CHANGE)};a.prototype.render=function(){var a=this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED?this.$5():this.$6(),c=this.$7();return b("React").createElement("div",{className:"_16ve"+(this.props.sproutsDisplayState!==b("ReactComposerSproutsDisplayState").EXPANDED?" _35mw":""),style:c,ref:function(a){return this.$1=a}.bind(this),onScroll:this.context.gks.extensibleSproutsNumRows&&b("debounce")(this.$8)},a)};a.prototype.$7=function(){if(this.context.gks.extensibleSprouts&&this.context.gks.extensibleSproutsNumRows&&!this.context.gks.lazySproutsExpand){var a=this.context.gks.extensibleSproutsNumRows;a=b("ReactComposerSproutsStyleUtils").calculateSproutContainerHeight(a);return{maxHeight:a+"px",overflowY:"auto"}}else return{}};a.prototype.$3=function(event){if(!this.$1)return;var a=b("ReactComposerSproutsStyleUtils").calculateVisibleSproutWindow(this.context.gks.extensibleSproutsNumRows,this.$1.scrollTop);a=b("ReactComposerSproutsStyleUtils").calculateVisibleSprouts(a,this.props.orderedSprouts);b("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,a,event,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null);if(this.props.config.sproutsPromotionConfig){var c=this.props.config.sproutsPromotionConfig.sprout;!this.props.hasLoggedSproutPromotionView&&c&&(a[c]===!0&&(this.props.config.sproutsPromotionConfig.promotionID&&b("ReactComposerSproutBadgePromotionUtils").addView(this.props.config.sproutsPromotionConfig.promotionID,this.context.composerID)))}};a.prototype.$4=function(event){var a=b("ReactComposerSproutsStyleUtils").calculateVisibleInlineSprouts(this.$2,this.props.orderedSprouts);b("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,a,event,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null)};a.prototype.$9=function(a,c){return b("React").createElement("li",{className:"_5xmp",key:c},a)};a.prototype.$6=function(){__p&&__p();var a=[];this.$2=[];var c=this.props.config.sproutsConfig,d=this.props.orderedSprouts;if(c)for(var e=0;e<d.length;e++){if(!this.$10(c[d[e]])||!this.$11(c[d[e]])||this.$12(d[e]))continue;if(this.$13(d[e],a))break}a.length<=3||h(0,4256);return b("React").createElement("ul",{className:"_16vg"+(a.length===3?" _1oxv":"")},a,this.$9(b("React").createElement(b("ReactComposerEllipsisSproutContainer.react"),null),"ELLIPSIS"))};a.prototype.$5=function(){var a=[],c=this.props.config.sproutsConfig,d=this.props.orderedSprouts;if(c)for(var e=0;e<d.length;e++){if(!this.$10(c[d[e]])||this.$12(d[e]))continue;this.props.sprouts[d[e]]||h(0,4257,d[e]);a.push(b("React").createElement(j,{key:d[e]},this.props.sprouts[d[e]]))}return b("React").createElement("div",{"data-testid":b("ComposerTestID").EXPANDED_SPROUT_LIST,className:"_16vl"},b("React").createElement(b("Grid.react"),{cols:2,fixed:!0,spacing:b("joinClasses")("pas","_1fng")},a))};a.prototype.$10=function(a){return!!a&&a.enabled};a.prototype.$11=function(a){return this.$10(a)};a.prototype.$12=function(a){return!!this.props.isGroupTabSelected&&!this.$14(a)};a.prototype.$14=function(a){return a===b("ExtensibleSproutsItemType").MINUTIAE||a===b("ExtensibleSproutsItemType").LOCATION||a===b("ExtensibleSproutsItemType").WITH_TAG||a===b("ExtensibleSproutsItemType").MEDIA};a.prototype.$13=function(a,c){this.props.sprouts[a]||h(0,4257,a);this.$2.push(a);c.push(this.$9(this.props.sprouts[a],a));return c.length>=b("SproutConfigConstants").MAX_INLINE_SPROUTS_COUNT?!0:!1};a.contextTypes=b("ReactComposerContextTypes");a.childContextTypes={hasFinishedSproutPromotion:c.bool.isRequired,promotionID:c.number,promotedSprout:c.oneOf(b("getObjectValues")(b("ExtensibleSproutsItemType"))),subtitle:c.string};e.exports=a}),null);
__d("ReactComposerSproutsList.react",["ErrorBoundary.react","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerLazySproutContainer.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerSproutsListRenderer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("ReactComposerSproutsListRenderer.react"),babelHelpers["extends"]({},this.props,{extensibleSprouts:this.context.gks.extensibleSprouts,extensibleSproutsNumRows:this.context.gks.extensibleSproutsNumRows,sprouts:this.$1()}))};a.prototype.$1=function(){__p&&__p();var a=this.props.config.sproutsConfig,c={};if(a)for(var d in a){if(!a[d].enabled)continue;var e=b("ReactComposerSproutsDefaultUIConfig")[d];this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout===d&&(e.sprout=d);var f=this.props.fakeSprouts?b("ReactComposerSproutItem.react"):this.props.sproutModules[d]||b("ReactComposerLazySproutContainer.react");c[d]=b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(f,{uiConfig:e,config:this.props.config}))}return c};a.prototype.$2=function(a){b("ReactComposerActions").expandSprouts(this.context.composerID)};function a(){g.apply(this,arguments)}a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerSproutsListContainer.react",["invariant","FluxContainer","React","ReactComposerContextTypes","ReactComposerSproutsDisplayState","ReactComposerSproutsList.react","ReactComposerStore","ifRequired","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.state={additionalSproutModules:{},bootloading:!1,orderedSprouts:[]},this.$2={}}a.getStores=function(){var a=[b("ReactComposerStore")];b("ifRequired")("ReactComposerPostToGroupStore",function(b){a.push(b)});return a};a.calculateState=function(a,c,d){a=!1;b("ifRequired")("ReactComposerPostToGroupStore",function(b){a=b.getIsTabSelected(d.composerID)});return{sproutsDisplayState:b("ReactComposerStore").getSproutsDisplayState(d.composerID),isGroupTabSelected:a,hasLoggedSproutPromotionView:b("ReactComposerStore").hasLoggedSproutPromotionView(d.composerID),hasFinishedSproutPromotion:b("ReactComposerStore").hasFinishedSproutPromotion(d.composerID),orderedSprouts:b("ReactComposerStore").getOrderedSprouts(d.composerID)}};a.prototype.componentDidMount=function(){this.$1=!1,(this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED||this.context.gks&&this.context.gks.lazySproutsExpand)&&this.$3()};a.prototype.componentDidUpdate=function(){(this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED||this.context.gks&&this.context.gks.lazySproutsExpand)&&this.$3()};a.prototype.componentWillUnmount=function(){this.$1=!0};a.prototype.render=function(){this.context.jsModules.sprouts=Object.assign({},this.context.jsModules.sprouts,this.state.additionalSproutModules);return b("React").createElement(b("ReactComposerSproutsList.react"),{config:this.props.config,sproutsDisplayState:this.state.sproutsDisplayState,sproutModules:this.context.jsModules.sprouts,fakeSprouts:this.props.fakeSprouts,isGroupTabSelected:this.state.isGroupTabSelected,hasLoggedSproutPromotionView:this.state.hasLoggedSproutPromotionView,hasFinishedSproutPromotion:this.state.hasFinishedSproutPromotion,orderedSprouts:this.state.orderedSprouts})};a.prototype.$3=function(){__p&&__p();var a=this;if(this.state.bootloading)return;var c=this.props.config.sproutsConfig,d={};for(var e in c){if(!c[e].enabled||!c[e].lazyLoad)continue;this.context.jsResources.sprouts[e]||g(0,4479,e);d[e]=this.context.jsResources.sprouts[e]}c=function(c){b("promiseDone")(d[c].load(),function(a){if(this.$1)return;this.$2[c]=a;this.setState({additionalSproutModules:Object.assign({},this.$2)})}.bind(a))};for(var f in d)c(f);this.setState({bootloading:!0})};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerWithSprouts.react",["cx","Arbiter","FluxContainer","React","ReactComposer.react","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAudienceStore","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFocusStore","ReactComposerLoggingName","ReactComposerSproutsDisplayState","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=babelHelpers.inherits(i,b("React").PureComponent);h=a&&a.prototype;function i(a,b){h.constructor.call(this,a,b),this.beforeCalculateInitialState(this.context.composerID,this.props),this.state=i.calculateState(this.state,this.props,this.context)}i.getStores=function(){return[b("ReactComposerStore"),b("ReactComposerFocusStore"),b("ReactComposerAudienceStore")]};i.prototype.beforeCalculateInitialState=function(a,c){c.expandOnInit&&(this.context.gks&&this.context.gks.lazySproutsExpand||b("ReactComposerActions").expandSprouts(this.context.composerID),b("ReactComposerAttachmentActions").initializeAttachment(a,c.defaultAttachmentOnExpand,!0,b("ReactComposerLoggingName").OTHERS))};i.calculateState=function(a,c,d){a=d.composerID;return{displayState:b("ReactComposerStore").getSproutsDisplayState(a),isFocused:b("ReactComposerFocusStore").isComposerFocused(a),messengerSectionVisible:b("ReactComposerAudienceStore").getMessengerSectionVisible(d.composerID)}};i.prototype.UNSAFE_componentWillMount=function(){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Arbiter").subscribeOnce("ReactFeedComposerXBootloader/selectcomposer/"+this.context.composerID,function(a,c){return this.$2(b("ReactComposerLoggingName").PROMPT,c&&c.selectedTagger)}.bind(this)))};i.prototype.render=function(){return b("React").createElement("div",{className:"_1cx1"+(this.state.displayState===b("ReactComposerSproutsDisplayState").EXPANDED?" _4qr4":"")+(this.state.displayState===b("ReactComposerSproutsDisplayState").INLINE?" _4a8c":"")+" _4aay _4ab3"+(this.context.gks&&!this.context.gks.addAnyPostToAlbum?" _2qma":"")+(this.state.messengerSectionVisible?" _1qf9":""),onClick:function(a){this.$2(b("ReactComposerLoggingName").INLINE_COMPOSER),this.props.onClick&&this.props.onClick(a)}.bind(this),role:"presentation"},b("React").createElement(b("ReactComposer.react"),this.props.innerProps,this.props.children))};i.prototype.$2=function(a,c){if(!this.state.isFocused){this.context.gks&&this.context.gks.lazySproutsExpand||b("ReactComposerActions").expandSprouts(this.context.composerID);b("ReactComposerAttachmentActions").initializeAttachment(this.context.composerID,this.props.defaultAttachmentOnExpand,!0,a);var d=b("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID);b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,d||this.props.defaultAttachmentOnExpand,!0,a);c&&b("ReactComposerTaggerActions").selectTagger(this.context.composerID,c.loggingName,c.taggerType);(!b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)||b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===b("ReactComposerTaggerType").FORMATTED_TEXT)&&setTimeout(function(){return b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0)}};i.defaultProps={expandOnInit:!1};i.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(i,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerBootloaderPropTypes",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;e.exports=a.shape({statusAttachment:a.func.isRequired,mediaAttachment:a.func.isRequired,qandaAttachment:a.func,questionAttachment:a.func,visualPollAttachment:a.func,listAttachment:a.func,todoListAttachment:a.func,extraAttachment:a.func,sendGiftAttachment:a.func,findPlayersAttachment:a.func,salesPromoAttachment:a.func,eventCreationAttachment:a.func,publishJobAttachment:a.func,actionPostAttachment:a.func,ctaAttachment:a.func,localDevPlatformAttachment:a.func})}),null);
__d("getBlockNumberAndOffsetFromText",["splitTextIntoTextBlocks"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){a=a.slice(0,c);a=b("splitTextIntoTextBlocks")(a);var d=a.map(function(a){return a.length}).slice(0,-1);d=d.reduce(function(a,b){return a+b+1},0);return{block:a.length-1,offset:c?c-d:0}}e.exports=a}),null);
__d("ReactComposerPrefillMentionsInput",["EditorState","SelectionState","createEditorStateWithRanges","getBlockNumberAndOffsetFromText","getMentionsInputDecorator"],(function(a,b,c,d,e,f){__p&&__p();a={createEditorState:function(a,c){__p&&__p();if(!a||!a.text)return b("EditorState").createEmpty();var d=a.ranges||[];d=b("createEditorStateWithRanges")({text:a.text,ranges:d,decorator:b("getMentionsInputDecorator")(),addEntityToContentStateFn:function(a,b){a=a.entity;return b.createEntity("MENTION","IMMUTABLE",{id:a.id,isWeak:!!a.weakreference,type:a.type})}});if(c){var e=d.getCurrentContent().getBlockMap(),f=b("getBlockNumberAndOffsetFromText")(a.text,c.start);a=b("getBlockNumberAndOffsetFromText")(a.text,c.end);d=b("EditorState").acceptSelection(d,new(b("SelectionState"))({anchorKey:e.skip(f.block).first().getKey(),anchorOffset:f.offset,focusKey:e.skip(a.block).first().getKey(),focusOffset:a.offset,isBackward:!1}))}else d=b("EditorState").moveSelectionToEnd(d);return d},getMentionsFromEditorState:function(a){__p&&__p();var b=a.getCurrentContent(),c=[],d=0;b.getBlockMap().forEach(function(a){a.findEntityRanges(function(){return!0},function(e,f){var g=a.getEntityAt(e);if(!g)return;g=b.get(g);c.push({entity:{id:Number(g.getData().id),workForeignEntity:!1,type:g.getData().type,url:""},length:f-e,offset:e+d})}),d+=a.getLength()+1});return c}};e.exports=a}),null);