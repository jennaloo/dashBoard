if (self.CavalryLogger) { CavalryLogger.start_js(["C5W21"]); }

__d("CustomizeThreadDialogGated.react",["CustomizeThreadDialog","React"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CustomizeThreadDialog").Dialog;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return!h?null:b("React").createElement(h,this.props)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("FantaDropdownMenuAddFriends",["ix","cx","fbt","Bootloader","FantaDropdownMenuWebDriverTestIDs","FantaTabSheetActions","Image.react","MercuryConfig","React","asset","getPageIDFromThreadID","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c,d,e){if(b("getPageIDFromThreadID")(c)||e||b("gkx")("678583")&&!d)return null;a=d?i._("Add people"):i._("Create group");return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").ADD_FRIENDS},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637973")}),b("React").createElement("span",{className:"_6ng4"},a))}function k(a,c,d,e){return function(){c&&!c.is_canonical&&b("MercuryConfig").CTPOAPD?b("Bootloader").loadModules(["MessengerDialogs.bs","MessengerAddToConversationDialogReact.bs"],function(d,e){var f=e.jsComponent;d.showDialog(function(){return b("React").createElement(f,{viewer:a,thread:c})})},"FantaDropdownMenuAddFriends"):b("FantaTabSheetActions").openAddMoreFriendsSheet(d),l(e)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.ADD_FRIENDS,a)},"FantaDropdownMenuAddFriends")}function a(a,b,c,d,e,f){d=j(b,c,d,e);return d?{type:"item",label:d,onClick:k(a,b,c,f)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuBlock",["ix","cx","fbt","Bootloader","ChatConfig","CurrentUser","FantaDropdownMenuWebDriverTestIDs","FantaTabActions","Image.react","MercuryIDs","MessagingTag","React","MercuryThreadActions","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadActions").get();function k(a,c,d){return!a&&!c&&!d&&!b("CurrentUser").isWorkUser()}function l(a,b){return!a&&!!b}function m(a,c,d,e,f){c=b("MercuryIDs").getUserIDFromThreadID(c);f=f&&f.message_count===0;if(c&&c===a)return null;var h;k(e,d,f)&&(h=i._("Block"));l(e,d)&&(h=i._("Unblock"));return h?b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").BLOCK},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637979")}),b("React").createElement("span",{className:"_6ng4"},h)):null}function n(a,c){return function(){b("Bootloader").loadModules(["WebMessengerConfirmBlockDialog"],function(a){a.show()},"FantaDropdownMenuBlock");var d=b("MercuryIDs").getThreadKeyfromThreadIDUserID(c,a);j.changeFolder(c,b("MessagingTag").OTHER);b("FantaTabActions").closeTab(c);b("Bootloader").loadModules(["MessengerMessageRequestsTypedLogger"],function(a){new a().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(c)).setSurface("thread").setFolderType(b("MessagingTag").INBOX).setThreadKey(d).setEntryPoint(null).log()},"FantaDropdownMenuBlock")}}function o(a,b,c){if(k())return function(){j.blockMessages(b,n(a,b)),p(c,!0)};return l()?function(){j.unblockMessages(b),p(c,!1)}:null}function p(a,c){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,d){b.logMenuItem(c?d.OPTIONS.BLOCK:d.OPTIONS.UNBLOCK,a)},"FantaDropdownMenuBlock")}function a(a,b,c,d,e,f,g,h){if(g||f)return null;g=m(a,b,c,d,e);f=o(a,b,h);return g&&f?{type:"item",label:g,onClick:f}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuBlockPageMessages",["ix","cx","fbt","Bootloader","CurrentUser","FantaDropdownMenuWebDriverTestIDs","Image.react","ImmutableObject","MercuryServerPayloadPreprocessor","React","MercuryThreadActions","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadActions").get();function k(a){a=a?i._("Turn on messages"):i._("Turn off messages");return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").BLOCK_PAGE_MESSAGES},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("640714")}),b("React").createElement("span",{className:"_6ng4"},a))}function l(a,c,d){if(!c)return;c=b("ImmutableObject").set(c,{is_messenger_blocked:d});d={participants:[c]};b("MercuryServerPayloadPreprocessor").getForFBID(a).handleUpdate(d)}function m(a,b,c,d,e){return d?function(){j.unblockOnMessengerDotCom(b),l(a,c,!1),n(e,!1)}:function(){j.blockOnMessengerDotCom(b),l(a,c,!0),n(e,!0)}}function n(a,c){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,d){b.logMenuItem(c?d.OPTIONS.BLOCK_PAGE_MESSAGES:d.OPTIONS.UNBLOCK_PAGE_MESSAGES,a)},"FantaDropdownMenuBlockPageMessages")}function a(a,c,d,e){if(!c||!d||b("CurrentUser").isWorkUser())return null;var f=d.is_messenger_blocked;return{type:"item",label:k(f),onClick:m(a,c,d,f,e)}}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuChangeColor",["ix","cx","fbt","AARRGGBBColor","Bootloader","ChatConfig","CustomizeTabs","FantaDropdownMenuWebDriverTestIDs","Image.react","MercuryIDs","MessengerAdminGroupUtils","MessengerColors","MessengerState.bs","React","asset","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("CustomizeTabs").CustomizeTitleEnum,k="196241301102133";function l(a,c){var d=null,e=a&&a.theme_id||k;c.forEach(function(c){a&&c.id==e&&(d=b("React").createElement("div",{className:"_6ng3","aria-label":c.accessibility_label,style:{backgroundColor:b("AARRGGBBColor").toHex(c.fallback_color),backgroundImage:Array.isArray(c.gradient_colors)?b("MessengerColors").makeRadialGradient(c.gradient_colors.map(b("AARRGGBBColor").toHex),c.is_reversed_for_picker||!1):null,display:"inline-block",borderRadius:"50%"}}))});return d}function m(a,c,d,e){__p&&__p();if(b("getPageIDFromThreadID")(d))return null;d=b("MercuryIDs").getUserIDFromParticipantID("fbid:"+a);a=c&&d&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(c,d);if(a&&b("ChatConfig").get("chat_tab_custom_color")){d=b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("638009")});a=l(c,e)||d;return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").CHANGE_COLOR},a,b("React").createElement("span",{className:"_6ng4"},i._("Color")))}return null}function n(a,c,d,e,f){return function(){if(b("MessengerState.bs").isEmptyLocalThread(a,d)||!c){o(f);return}b("ChatConfig").get("chat_tab_m4_header")?e(j.COLOR):b("Bootloader").loadModules(["ChangeChatTabColorDialog"],function(a){a.show(c)},"FantaDropdownMenuChangeColor");o(f)}}function o(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.CHANGE_COLOR,a)},"FantaDropdownMenuChangeColor")}function a(a,b,c,d,e,f){if(!e)return null;e=m(a,b,c,e);return e?{type:"item",label:e,onClick:n(a,b,c,d,f)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuChangeEmoji",["ix","cx","fbt","Bootloader","ChatConfig","CustomizeTabs","EmojiLikeConstants","FantaDropdownMenuWebDriverTestIDs","Image.react","MessengerAdminGroupUtils","MessengerHotLikeUtils","MessengerState.bs","MessengerSupportedEmojiUtils","React","asset","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("CustomizeTabs").CustomizeTitleEnum,k=128077;function l(a,c,d){__p&&__p();if(b("getPageIDFromThreadID")(d)||!b("ChatConfig").get("chat_tab_m4_header"))return null;d=c&&a&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(c,a);if(d&&b("ChatConfig").get("chat_tab_custom_color")){a=b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637960")});d=b("MessengerHotLikeUtils").getCustomEmojiFromThread(c);c=d&&d.emoji||String.fromCodePoint(k);d=b("MessengerSupportedEmojiUtils").getNewEmojiData(c,b("EmojiLikeConstants").size.XSMALL);d&&(a=b("React").createElement(b("Image.react"),{className:"_6ng3",src:d.url,alt:m(c)}));return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").CHANGE_EMOJI},a,b("React").createElement("span",{className:"_6ng4"},i._("Emoji")))}return null}function m(a){return i._("{selected custom emoji}",[i._param("selected custom emoji",a)])}function n(a,c,d,e,f){return function(){if(b("MessengerState.bs").isEmptyLocalThread(a,d)||!c){o(f);return}e(j.EMOJI);o(f)}}function o(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.CHANGE_EMOJI,a)},"FantaDropdownMenuChangeEmoji")}function a(a,b,c,d,e){var f=l(a,b,c);return f?{type:"item",label:f,onClick:n(a,b,c,d,e)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuConversationName",["ix","cx","fbt","Bootloader","FantaDropdownMenuWebDriverTestIDs","FantaTabSheetActions","Image.react","MessengerAdminGroupUtils","MessengerState.bs","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c,d,e,f){d=d&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(d,f)&&a&&!b("MessengerState.bs").isEmptyLocalThread(f,e)&&!c;return!d?null:b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").CONVERSATION_NAME},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("638019")}),b("React").createElement("span",{className:"_6ng4"},i._("Conversation name")))}function k(a,c){return function(){b("FantaTabSheetActions").openNameConversationSheet(a),l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.CONVERSATION_NAME,a)},"FantaDropdownMenuConversationName")}function a(a,b,c,d,e,f){a=j(a,b,c,d,e);return a!==null?{type:"item",label:a,onClick:k(d,f)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuCreateEvent",["ix","cx","fbt","AsyncRequest","Bootloader","CurrentUser","FantaDropdownMenuWebDriverTestIDs","Image.react","MercuryIDs","React","XEventCreateDialogController","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").CREATE_EVENT},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637945")}),b("React").createElement("span",{className:"_6ng4"},i._({"Workplace":"Create Workplace event","Facebook":"Create Facebook event"},[i._enum(b("CurrentUser").isWorkUser()?"Workplace":"Facebook",{Workplace:"Workplace",Facebook:"Facebook"})])))}function k(a,c){return function(){if(a&&!a.is_canonical){var d=a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)}).filter(Boolean);b("Bootloader").loadModules(["AsyncDialog"],function(a){var c=b("XEventCreateDialogController").getURIBuilder().setString("acontext",JSON.stringify({})).setIntVector("invite_ids",d).getURI();a.send(new(b("AsyncRequest"))(c))},"FantaDropdownMenuCreateEvent")}l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.CREATE_EVENT,a)},"FantaDropdownMenuCreateEvent")}function a(a,b,c){return b===!0?{type:"item",label:j(),onClick:k(a,c)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuDeleteConversation",["ix","cx","fbt","Bootloader","FantaDropdownMenuWebDriverTestIDs","FantaTabActions","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").DELETE_CONVERSATION},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("638027")}),b("React").createElement("span",{className:"_6ngn"},i._("Delete conversation")))}function k(a,c){return function(){b("Bootloader").loadModules(["WebMessengerDeleteThreadDialog"],function(d){d.show(a,function(){b("FantaTabActions").deleteTab(a),m(c)},function(){return n(c)})},"FantaDropdownMenuDeleteConversation"),l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.DELETE_CONVERSATION,a)},"FantaDropdownMenuDeleteConversation")}function m(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.DELETE_CONVERSATION_TRIGGERED,a)},"FantaDropdownMenuDeleteConversation")}function n(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.endFunnel(a)},"FantaDropdownMenuDeleteConversation")}function a(a,b){return{type:"item",label:j(),onClick:k(a,b)}}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuEditMentorshipPreferences",["ix","cx","fbt","Bootloader","GroupView","Image.react","MessengerState.bs","React","XGroupsController","asset","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){return b("React").createElement("div",{className:"_6pdg"},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637920")}),b("React").createElement("span",{className:"_6ng4"},i._("Edit Mentorship Preferences")))}function k(a,c,d){return function(){b("MessengerState.bs").getThreadMeta(a,c,function(a){if(a){a=a==null?void 0:(a=a.linked_mentorship_programs)==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.program_group)==null?void 0:a.id;b("goURI")(b("XGroupsController").getURIBuilder().setString("idorvanity",a).setEnum("view",b("GroupView").MENTORSHIP_APPLICATION).setString("ref","chat").getURI(),!0)}},null),l(d)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.EDIT_MENTORSHIP_PREFERENCES,a)},"FantaDropdownMenuEditMentorshipPreferences")}function a(a,b,c,d){return d?{type:"item",label:j(),onClick:k(a,b,c)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuEditNickname",["ix","cx","fbt","Bootloader","FantaDropdownMenuWebDriverTestIDs","Image.react","MessengerAdminGroupUtils","MessengerState.bs","React","asset","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c){if(b("getPageIDFromThreadID")(c))return!1;c=b("MessengerState.bs").getThreadMetaNow(a,c);c=c&&c.participants&&a&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(c,a);return!!c}function k(a,c){return!j(a,c)?null:b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").EDIT_NICKNAME},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("638019")}),b("React").createElement("span",{className:"_6ng4"},i._("Nicknames")))}function l(a,c,d){return function(){if(b("MessengerState.bs").isEmptyLocalThread(a,c)){m(d);return}a&&b("Bootloader").loadModules(["EditChatTabNicknamesDialog"],function(d){d.show(b("MessengerState.bs").getThreadMetaNow(a,c),a)},"FantaDropdownMenuEditNickname");m(d)}}function m(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.EDIT_NICKNAME,a)},"FantaDropdownMenuEditNickname")}function a(a,b,c){var d=k(a,b);return d?{type:"item",label:d,onClick:l(a,b,c)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuFunnelState",[],(function(a,b,c,d,e,f){"use strict";function a(){this.$1=Math.floor(Math.random()*65536)}a.prototype.getInstanceID=function(){return this.$1};e.exports=a}),null);
__d("FantaDropdownMenuIgnoreMessages",["ix","cx","fbt","Bootloader","CurrentUser","FantaDropdownMenuWebDriverTestIDs","Image.react","MercuryIDs","React","MercuryThreadActions","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadActions").get();function k(a,c,d,e){c=b("MercuryIDs").getUserIDFromThreadID(c);return e||c&&c===a||d||b("CurrentUser").isWorkUser()?null:b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").IGNORE_MESSAGES},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("638034")}),b("React").createElement("span",{className:"_6ng4"},i._("Ignore messages")))}function l(a,c,d){return function(){j.ignoreMessages(c?b("MercuryIDs").getThreadFBIDFromThreadID(a):b("MercuryIDs").getUserIDFromThreadID(a)),m(d)}}function m(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.IGNORE_MESSAGES,a)},"FantaDropdownMenuIgnoreMessages")}function a(a,b,c,d,e,f){a=k(a,b,c,e);return a?{type:"item",label:a,onClick:l(b,d,f)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuLeaveConversation",["ix","cx","fbt","Bootloader","Dialog","FantaDropdownMenuWebDriverTestIDs","FantaTabActions","Image.react","MercuryLogMessageType","MercuryMessageObject","MercurySourceType","MercuryMessageActions","MessengerAdminGroupUtils","MessengerState.bs","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryMessageObject").get(),k=b("MercuryMessageActions").get();function l(a){a=b("MessengerAdminGroupUtils").isWorkSyncedGroupChat(a);a=a?i._("Leave Chat and Group"):i._("Leave group");return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").LEAVE_CONVERSATION},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637999")}),b("React").createElement("span",{className:"_6ng4"},a))}function m(a,c,d,e){__p&&__p();return function(){var f=[];f.push({name:"unsubscribe",label:i._("Leave Conversation"),handler:function(){return n(c,d)}});f.push(b("Dialog").CANCEL);var g,h=b("MessengerAdminGroupUtils").isWorkSyncedGroupChat(a),j=(a==null?void 0:a.admins)&&(a==null?void 0:a.admins[d])!==undefined;h&&j?g=i._("Leaving this group will remove you as an owner and allow other members to manage the chat thread. You will no longer be able to send and receive messages. You will also be removed from the group."):h?g=i._("You will stop receiving messages from this conversation and people will see that you left. You will also be removed from the group."):j?g=i._("Leaving this group will remove you as an owner and allow other members to manage the group. You will no longer be able to send and receive messages."):g=i._("You will stop receiving messages from this conversation and people will see that you left.");j=h?i._("Leave Group and Chat?"):i._("Leave Conversation?");new(b("Dialog"))().setTitle(j).setBody(g).setButtons(f).show();o(e)}}function n(a,c){if(!b("MessengerState.bs").isEmptyLocalThread(c,a)){c=j.constructLogMessageObject(b("MercurySourceType").CHAT_WEB,a,b("MercuryLogMessageType").UNSUBSCRIBE,{removed_participants:[c]});k.send(c)}b("FantaTabActions").closeTab(a);return!0}function o(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.LEAVE_CONVERSATION,a)},"FantaDropdownMenuLeaveConversation")}function a(a,b,c,d,e){return a===!0?{type:"item",label:l(b),onClick:m(b,c,d,e)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuLeaveFeedback",["ix","cx","fbt","Bootloader","FantaDropdownMenuWebDriverTestIDs","Image.react","MercuryIDs","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a){return!a?null:b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").LEAVE_FEEDBACK},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("640754")}),b("React").createElement("span",{className:"_6ng4"},i._("Rate experience")))}function k(a,c){__p&&__p();return function(){__p&&__p();var d=function(a,d,e){if(d===0){l(c);return}b("Bootloader").loadModules(["MessengerPlatformBotReviewWriteDataManager"],function(b){b.review(a,d,e.trim())},"FantaDropdownMenuLeaveFeedback")},e=b("MercuryIDs").getUserIDFromThreadID(a);b("Bootloader").loadModules(["MNCommerceDialogStateActions","MNCommerceReviewDialogContainer.react"],function(a,b){a.showDialog(b,{pageID:e,onConfirmButtonClick:d})},"FantaDropdownMenuLeaveFeedback");l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.LEAVE_FEEDBACK,a)},"FantaDropdownMenuLeaveFeedback")}function a(a,b,c){b=j(b);return b!==null?{type:"item",label:b,onClick:k(a,c)}:null}e.exports={getMenuItem:a}}),null);
__d("MercuryThreadMuter",["AsyncDialog","AsyncRequest","DOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={showMuteChangeDialog:function(a,c,d){b("AsyncDialog").send(new(b("AsyncRequest"))("/ajax/mercury/mute_thread_dialog.php").setRelativeTo(c),function(c){c.subscribe("confirm",function(){this.hide();var c;b("DOM").scry(this.getRoot(),'input[type="radio"]').forEach(function(a){a.checked&&(c=a.value)});c=g.convertRawMuteSetting(c);d(a,c)}.bind(c))})},convertRawMuteSetting:function(a){switch(a){case"always":return-1;case"30minutes":return 1800;case"1hour":return 3600;case"8hours":return 8*3600;case"24hours":return 24*3600;default:return 0}}};e.exports=g}),null);
__d("FantaDropdownMenuMuteConversation",["ix","cx","fbt","Bootloader","FantaDropdownMenuWebDriverTestIDs","Image.react","MercuryThreadInfo","MercuryThreadMuter","React","formatDate","MercuryThreadActions","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadActions").get();function k(a){if(a>0)if(a<86401)return null;else{var c=new Date(a*1e3).getDay()===new Date().getDay();return c?i._("Off until {time}",[i._param("time",b("formatDate")(a,"g:ia"))]):i._("Off until {time} tomorrow",[i._param("time",b("formatDate")(a,"g:ia"))])}else return i._("Off indefinitely")}function l(a,c,d){c=a&&a.mute_until?k(a.mute_until):null;a=d?b("React").createElement("span",{className:"_6ng4","data-testid":b("FantaDropdownMenuWebDriverTestIDs").MUTE_CONVERSATION_TEXT},i._("Unmute conversation")):b("React").createElement("span",{className:"_6ng4","data-testid":b("FantaDropdownMenuWebDriverTestIDs").MUTE_CONVERSATION_TEXT},i._("Mute conversation"));c&&(a=b("React").createElement("div",null,b("React").createElement("span",{className:"_6ng4","data-testid":b("FantaDropdownMenuWebDriverTestIDs").MUTE_CONVERSATION_TEXT},i._("Unmute conversation")),b("React").createElement("span",{className:"_6ng7"},c)));return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").MUTE_CONVERSATION},b("React").createElement(b("Image.react"),{className:"_6ng3",src:d?g("637933"):g("637938")}),a)}function m(a,c,d,e,f){function g(a,b){j.updateMuteSetting(a,b)}function a(){j.unmute(d),n(f,!1)}function c(){b("MercuryThreadMuter").showMuteChangeDialog.call(null,d,undefined,g),n(f,!0)}return e?a:c}function n(a,c){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,d){b.logMenuItem(c?d.OPTIONS.MUTE_CONVERSATION:d.OPTIONS.UNMUTE_CONVERSATION,a)},"FantaDropdownMenuMuteConversation")}function a(a,c,d,e){var f=!!c&&b("MercuryThreadInfo").isMuted(c);return{type:"item",label:l(c,d,f),onClick:m(a,c,d,f,e)}}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuOpenFacebookPage",["ix","cx","fbt","Bootloader","FantaDropdownMenuWebDriverTestIDs","Image.react","React","asset","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(){return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").OPEN_FACEBOOK_PAGE},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("641100")}),b("React").createElement("span",{className:"_6ng4"},i._("View page")))}function k(a,c){return function(){a!=null&&b("goURI")(a),l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.OPEN_FACEBOOK_PAGE,a)},"FantaDropdownMenuOpenFacebookPage")}function a(a,b,c){return a&&b&&b.href!=null?{type:"item",label:j(),onClick:k(b.href,c)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuOpenFullConversation",["ix","cx","fbt","Bootloader","CurrentUser","FantaDropdownMenuWebDriverTestIDs","Image.react","Link.react","React","asset","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a){var c=b("CurrentUser").isWorkUser()?g("638041"):g("637928"),d=b("CurrentUser").isWorkUser()?i._("Open in Workplace Chat"):i._("Open in Messenger");return b("React").createElement(b("Link.react"),{href:a,className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").OPEN_FULL_CONVERSATION},b("React").createElement(b("Image.react"),{className:"_6ng3",src:c}),b("React").createElement("span",{className:"_6ng4"},d))}function k(a,c){return function(){b("goURI")(a),l(c)}}function l(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.OPEN_FULL_CONVERSATION,a)},"FantaDropdownMenuOpenFullConversation")}function a(a,b){return a!==null&&a!==undefined?{type:"item",label:j(a),onClick:k(a,b)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuPeopleList",["ix","cx","fbt","AsyncDialog","AsyncRequest","Bootloader","FantaDropdownMenuWebDriverTestIDs","Image.react","MessengerAdminGroupUtils","MessengerState.bs","React","URI","immutable","MercuryThreadIDMap","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadIDMap").get();function k(a,c,d,e,f,h){return e&&!b("MessengerState.bs").isEmptyLocalThread(a,d)&&(!b("MessengerAdminGroupUtils").isAdminRequired(c)||f&&f.length>0||h&&h.size>0)?b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").PEOPLE_LIST},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637987")}),b("React").createElement("span",{className:"_6ng4"},i._("Members"))):null}function l(a,c,d,e,f,g,h){__p&&__p();return function(){__p&&__p();c&&(e&&e.length>0||f&&f.size>0)&&j.getServerIDFromClientID(d,function(c){b("Bootloader").loadModules(["MessengerDialogs.bs","ChatGroupMembershipDialog.react"],function(c,h){c.showDialog(function(){f&&(e=f.toList().toArray());if(d&&e){var i=b("MessengerState.bs").getThreadMetaNow(a,d),j=e&&e.filter(function(a){return i.participants.includes(a.id)});return b("React").createElement(h,{dialogShown:!0,membershipParticipants:g,onHide:c.removeAllDialogs,participants:j,thread:i,threadID:d})}return null})},"FantaDropdownMenuPeopleList")}),o(h)}}function m(a,c){return function(){j.getServerIDFromClientID(a,function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(new(b("URI"))("/ajax/browser/dialog/multichat_members/").addQueryData({id:a})))}),o(c)}}function n(a,c,d,e,f,g,h){if(b("MessengerAdminGroupUtils").isAdminRequired(c))return l(a,c,d,e,f,g,h);else return m(d,h)}function o(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.PEOPLE_LIST,a)},"FantaDropdownMenuPeopleList")}function a(a,b,c,d,e,f,g,h){d=k(a,b,c,d,e,f);return d?{type:"item",label:d,onClick:n(a,b,c,e,f,g,h)}:null}e.exports={getMenuItem:a}}),null);
__d("FantaDropdownMenuPinConversation",["ix","cx","fbt","Bootloader","ChatPinnedThreadsEntryPoint","FantaDropdownMenuWebDriverTestIDs","Image.react","React","MercuryThreadActions","asset","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadActions").get();function k(a){return b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").PIN_CONVERSATION},b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("647610")}),b("React").createElement("span",{className:"_6ng4"},a?i._("Unpin Conversation"):i._("Pin Conversation")))}function l(a,c,d){return function(){a&&a.is_pinned?j.unpin(c,b("ChatPinnedThreadsEntryPoint").CHAT_TAB_MENU):j.pin(c,b("ChatPinnedThreadsEntryPoint").CHAT_TAB_MENU),m(d)}}function m(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.PIN_CONVERSATION,a)},"FantaDropdownMenuPinConversation")}function a(a,c,d){var e=!!a&&a.is_pinned;return b("gkx")("678258")?{type:"item",label:k(e),onClick:l(a,c,d)}:null}e.exports={getMenuItem:a}}),null);
__d("MessengerP2BFRXUtils",["AsyncRequest","XRapidReportingDialogController"],(function(a,b,c,d,e,f){"use strict";a={openFRXDialog:function(a,c,d){if(a===null||a===undefined)return;c=JSON.stringify({reportable_ent_token:btoa("EntMessengerViewer1To1Thread:"+a),story_location:c,entry_point:d,responsible_id:a});d=b("XRapidReportingDialogController").getURIBuilder().setString("context",c).getURI();new(b("AsyncRequest"))(d).send()}};e.exports=a}),null);
__d("FantaDropdownMenuReport",["ix","cx","fbt","AsyncDialog","AsyncRequest","Bootloader","CurrentUser","FantaDropdownMenuWebDriverTestIDs","FRXEntryPoint","Image.react","MercuryIDs","MessengerP2BFRXUtils","MessengerP2BFRXWWWConfig","NFXChatHeadGK","NFXStoryLocation","React","URI","XNFXStartForMessageThreadController","XRapidReportingDialogController","asset","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("gkx")("680777");function k(a,c,d,e){var f=b("React").createElement(b("Image.react"),{className:"_6ng3",src:g("637966")}),h=e?i._("Report {page short name}",[i._param("page short name",e.short_name)]):i._("Report");h=b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").REPORT},f,b("React").createElement("span",{className:"_6ng4"},h));f=b("React").createElement("div",{className:"_6pdg","data-testid":b("FantaDropdownMenuWebDriverTestIDs").REPORT},f,b("React").createElement("div",null,b("React").createElement("span",{className:"_6ng4"},i._("Something's wrong")),b("React").createElement("span",{className:"_6ng7"},i._("Give feedback and report conversation"))));if(e)return b("MessengerP2BFRXWWWConfig").frx_enabled?f:h;return!b("CurrentUser").isWorkUser()?!m(a,c)?h:d?j?f:null:j?f:h:null}function l(a,c,d,e,f,g){__p&&__p();function a(){if(b("MessengerP2BFRXWWWConfig").frx_enabled){var a=b("MercuryIDs").getUserIDFromThreadID(d);b("MessengerP2BFRXUtils").openFRXDialog(a,b("NFXStoryLocation").MESSENGER_P2B_DIRECT_THREAD_DETAILS,b("FRXEntryPoint").REPORT_BUTTON)}else b("Bootloader").loadModules(["MessengerDialogs.bs","MNCommerceReportConversationDialog.react"],function(a,c){a.showDialog(function(){return b("React").createElement(c,{pageID:f&&f.fbid,onToggle:function(){return a.removeAllDialogs()}})})},"FantaDropdownMenuReport");n(g)}function h(){__p&&__p();var a=b("MercuryIDs").getUserIDFromThreadID(d);a=a?a:"";var c=btoa("EntMessengerViewer1To1Thread:"+a),f=b("NFXStoryLocation").MESSENGER_DIRECT_THREAD_DETAILS;if(e){var h=b("MercuryIDs").getThreadFBIDFromThreadID(d);c=btoa("EntMessengerViewerGroupThread:"+h);f=b("NFXStoryLocation").MESSENGER_GROUP_THREAD_DETAILS}h=JSON.stringify({reportable_ent_token:c,story_location:f,entry_point:b("FRXEntryPoint").REPORT_BUTTON,responsible_id:a});c=b("XRapidReportingDialogController").getURIBuilder().setString("context",h).getURI();new(b("AsyncRequest"))(c).send();n(g)}function i(){var a=b("MercuryIDs").getUserIDFromThreadID(d),c=new(b("URI"))("/ajax/chat/report.php").addQueryData({id:a}).addQueryData({src:"top_report_link"});b("NFXChatHeadGK").result&&(c=b("XNFXStartForMessageThreadController").getURIBuilder().setString("thread_fbid",a).setEnum("location","www_chat_head").getURI());b("AsyncDialog").send(new(b("AsyncRequest"))(c));n(g)}if(f)return a;return!b("CurrentUser").isWorkUser()?!m(c,d)?i:e?j?h:null:j?h:i:null}function m(a,c){return b("MercuryIDs").isLocalThread(c)?!1:a!==null&&a!==undefined&&a.thread_fbid!==null&&a.message_count>0}function n(a){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(b,c){b.logMenuItem(c.OPTIONS.REPORT,a)},"FantaDropdownMenuReport")}function a(a,b,c,d,e,f){var g=k(b,c,d,e);a=l(a,b,c,d,e,f);return a&&g?{type:"item",label:g,onClick:a}:null}e.exports={getMenuItem:a}}),null);
__d("SUIActionMenuUniform.fanta",["ix","cssVar","React","SUIGlyphIcon.react","asset","createBUITypeStyle"],(function(a,b,c,d,e,f,g,h){"use strict";a={backgroundColor:"#FFFFFF",borderColor:"rgba(0, 0, 0, 0.15)",descriptionTypeStyle:b("createBUITypeStyle")({color:"#8D949E",fontSize:"12px",fontWeight:"normal"}),disabledItemColor:"#BEC3C9",headerColor:"#606770",headerTypeStyle:b("createBUITypeStyle")({color:"#606770",fontSize:"12px",fontWeight:"bold"}),highlightedItemBackgroundColor:"#F2F3F5",highlightedItemColor:"#1C1E21",itemColor:"#1d2129",itemIconWidth:16,itemHeight:26,itemTypeStyle:b("createBUITypeStyle")({color:"#1d2129",fontSize:"12px",fontWeight:"600"}),submenuIndicatorLTR:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("496757")}),submenuIndicatorRTL:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("503180")})};e.exports=a}),null);
__d("SUIDropdownMenuUniform.fanta",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={borderRadius:3,boxShadow:"0 3px 8px rgba(0, 0, 0, 0.3)"};e.exports=a}),null);
__d("FantaDropdownMenu.react",["cssVar","cx","fbt","AutoFocusableLink.react","Bootloader","ChatConfig","CustomizeThreadThemeUtil","DOMVector","FantaDropdownMenuAddFriends","FantaDropdownMenuBlock","FantaDropdownMenuBlockPageMessages","FantaDropdownMenuChangeColor","FantaDropdownMenuChangeEmoji","FantaDropdownMenuConversationName","FantaDropdownMenuCreateEvent","FantaDropdownMenuDeleteConversation","FantaDropdownMenuEditMentorshipPreferences","FantaDropdownMenuEditNickname","FantaDropdownMenuFunnelState","FantaDropdownMenuIgnoreMessages","FantaDropdownMenuLeaveConversation","FantaDropdownMenuLeaveFeedback","FantaDropdownMenuMuteConversation","FantaDropdownMenuOpenFacebookPage","FantaDropdownMenuOpenFullConversation","FantaDropdownMenuPeopleList","FantaDropdownMenuPinConversation","FantaDropdownMenuReport","FantaDropdownMenuWebDriverTestIDs","M4IconSettings.bs","MercuryIDs","MessengerCustomColorUtils.bs","MessengerParticipants.bs","MessengerState.bs","React","ReactDOM","SUIActionMenuUniform.fanta","SUIDropdownMenu.react","SUIDropdownMenuUniform.fanta","SUITheme","TrackingNodes","Vector"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("CustomizeThreadThemeUtil").fetchThemes,l=b("M4IconSettings.bs").jsComponent,m=b("ChatConfig").get("chat_tab_m4_header"),n=new(b("SUITheme"))({id:"FDSChatSettingsMenu",components:{SUIDropdownMenu:b("SUIDropdownMenuUniform.fanta"),SUIActionMenu:b("SUIActionMenuUniform.fanta")}}),o;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={maxHeight:null,themes:o,menuActive:!1},this.$10=function(){b("Bootloader").loadModules(["FantaDropdownMenuFunnelLogger","FantaDropdownMenuFunnelLoggerConstants"],function(a,b){if(this.props.thread){var c=b.CHAT_TYPES.OTHER;this.props.isGroupChat?c=b.CHAT_TYPES.GROUP:this.props.isPageChat?c=b.CHAT_TYPES.PAGE:this.props.thread.is_canonical_user&&(c=b.CHAT_TYPES.CANONICAL);a.startFunnel(c,b.MENU_VERSIONS.M4_MENU,this.$2)}}.bind(this),"FantaDropdownMenu.react"),this.setState({menuActive:!0})}.bind(this),this.$11=function(){this.setState({menuActive:!1})}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=!0,this.$4(),this.state.themes||k(function(a){this.$1&&(o=a,this.setState({themes:a}))}.bind(this)),this.$2=new(b("FantaDropdownMenuFunnelState"))()};a.prototype.componentWillUnmount=function(){this.$1=!1};a.prototype.$4=function(){var a=document.getElementById("bluebarRoot");a=a?b("Vector").getElementDimensions(a).y+12:null;var c=b("Vector").getElementPosition(b("ReactDOM").findDOMNode(this.$3)).y,d=b("DOMVector").getScrollPosition().y;c=c-(d+a);this.setState({maxHeight:c})};a.prototype.$5=function(a){var b=[];for(var c=0;c<a.length;c++)a[c]&&b.push(a[c]);return b};a.prototype.$6=function(){var a=b("MercuryIDs").getParticipantIDFromFromThreadID(this.props.threadID);return a?b("MessengerParticipants.bs").getNow(a):null};a.prototype.$7=function(){var a=this.$6();return!!a&&!!a.is_business_enabled};a.prototype.$8=function(){var a=this.$6();return!!a&&!!a.is_viewer_managing_parent};a.prototype.$9=function(){__p&&__p();var a,c=this.props,d=c.hasBlockedMessages,e=c.isGroupChat,f=c.pageUser,g=c.thread,h=c.threadID;c=c.viewer;var i=this.$7(),j=this.$8(),k=b("FantaDropdownMenuOpenFullConversation").getMenuItem(this.props.uri,this.$2),l=b("FantaDropdownMenuOpenFacebookPage").getMenuItem(i,f,this.$2),m=b("FantaDropdownMenuChangeColor").getMenuItem(c,g,h,this.props.setShowCustomizedDialog,this.state.themes,this.$2),n=b("FantaDropdownMenuChangeEmoji").getMenuItem(c,g,h,this.props.setShowCustomizedDialog,this.$2),o=b("FantaDropdownMenuEditNickname").getMenuItem(c,h,this.$2),p=b("FantaDropdownMenuConversationName").getMenuItem(e,this.props.isNewMessageTab,g,h,c,this.$2);a=g==null?void 0:(a=g.linked_mentorship_programs)==null?void 0:a.nodes;a=b("FantaDropdownMenuEditMentorshipPreferences").getMenuItem(c,h,this.$2,a!=null&&a.length>0);var q=b("FantaDropdownMenuCreateEvent").getMenuItem(g,e,this.$2),r=b("FantaDropdownMenuAddFriends").getMenuItem(c,g,h,e,this.props.isNewMessageTab,this.$2),s=b("FantaDropdownMenuPeopleList").getMenuItem(c,g,h,e,this.props.participants,this.props.participantsMap,this.props.membershipParticipants,this.$2),t=b("FantaDropdownMenuMuteConversation").getMenuItem(c,g,h,this.$2),u=b("FantaDropdownMenuPinConversation").getMenuItem(this.props.thread,this.props.threadID,this.$2),v=b("FantaDropdownMenuIgnoreMessages").getMenuItem(c,h,d,e,i,this.$2),w=b("FantaDropdownMenuLeaveConversation").getMenuItem(e,g,h,c,this.$2);d=b("FantaDropdownMenuBlock").getMenuItem(c,h,d,e,g,i,j,this.$2);j=b("FantaDropdownMenuBlockPageMessages").getMenuItem(c,h,f,this.$2);c=b("FantaDropdownMenuReport").getMenuItem(c,g,h,e,f,this.$2);g=b("FantaDropdownMenuLeaveFeedback").getMenuItem(h,i,this.$2);e=b("FantaDropdownMenuDeleteConversation").getMenuItem(h,this.$2);f=[this.$5([k,l]),this.$5([m,n,o,p]),this.$5([r,s,q]),this.$5([a]),this.$5([t,u,v,w,d,j,g,c]),this.$5([e])].filter(function(a){return a.length>0});i=f.reduce(function(a,b){return a.concat(b,{type:"separator"})},[]);i.pop();return i};a.prototype.render=function(){var a=this.props,c=a.autoFocus,d=a.highlightNewMessage,e=a.isFocused;a=a.threadID;var f=i._("Options"),g=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.DROPDOWN_BUTTON),h=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadID);h=h&&h.header_color||b("MessengerCustomColorUtils.bs").defaultColor();d=d?"#FFFFFF":e?h:"#bec2c9";return b("React").createElement(b("SUIDropdownMenu.react"),{button:b("React").createElement(b("AutoFocusableLink.react"),{autoFocus:c,"data-ft":g,"data-hover":this.state.menuActive?"":"tooltip","aria-label":f,"data-tooltip-alignh":"center","data-tooltip-content":f,className:"button"+(b("MessengerState.bs").isNewEmptyLocalThread(this.props.viewer,a)?" hidden_elem":"")+(m?"":" _3olv")+(m?"":" _1ll-"),role:"button"},m?b("React").createElement(l,{filled:!0,color:d}):null),"data-testid":b("FantaDropdownMenuWebDriverTestIDs").FANTA_DROPDOWN_MENU_ICON,"data-menu-testid":b("FantaDropdownMenuWebDriverTestIDs").FANTA_DROPDOWN_MENU,dropdownWidth:230,items:this.$9(),label:f,labelIsHidden:!0,maxHeight:this.state.maxHeight||600,onOpen:this.$10,onClose:this.$11,ref:function(a){return this.$3=a}.bind(this),theme:n})};e.exports=a}),null);
__d("ChatTabMenu.react",["ChatConfig","CustomizeTabs","CustomizeThreadDialogGated.react","FantaDropdownMenu.react","MercuryConfig","MercuryIDs","MercuryThreadInfo","MessageRequestUtils","MessengerState.bs","React","isEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CustomizeTabs").CustomizeTitleEnum,h=b("ChatConfig").get("chat_tab_m4_header");a=b("React").PropTypes;c=b("React").createClass({displayName:"ChatTabMenu",propTypes:{autoFocus:a.bool,hasBlockedMessages:a.bool.isRequired,highlightNewMessage:a.bool,isFocused:a.bool,isGroupChat:a.bool,isPageChat:a.bool,membershipParticipants:a.object,participants:a.arrayOf(a.object),participantsMap:a.object,isNewMessageTab:a.bool,thread:a.object,threadID:a.string.isRequired,uri:a.string,viewer:a.string.isRequired},getInitialState:function(){return{defaultPageKey:g.COLOR,showCustomizedDialog:!1}},_getPageUserIfExists:function(){var a=this.props.participants,c=this.props,d=c.isPageChat,e=c.threadID;c=c.participantsMap;var f=b("MercuryIDs").getUserIDFromThreadID(e);c&&(a=c.toList().toArray());return!d||!f||!a||b("isEmpty")(a)?null:a.find(function(a){return a.fbid===f})},_showMenuItems:function(){var a=this.props.thread;return!!a&&b("MercuryThreadInfo").showComposer(a)&&!b("isEmpty")(a.participants)&&!b("MessageRequestUtils").isMessageRequest(a)&&!b("MercuryConfig").ViewerIsReadOnly&&!(b("MercuryConfig").ColdOpenBlock&&(b("MercuryThreadInfo").isColdOpen(a)||b("MercuryThreadInfo").isEmptyLocalThread(a)))&&!(this.props.isPageChat&&a.message_count===0)},setShowCustomizedDialog:function(a){this.setState({showCustomizedDialog:!0,defaultPageKey:a})},_hideCustomizeDialog:function(){this.setState({showCustomizedDialog:!1})},render:function(){var a=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadID);return!this._showMenuItems()?null:b("React").createElement(b("React").Fragment,null,h&&b("React").createElement(b("CustomizeThreadDialogGated.react"),{defaultPageKey:this.state.defaultPageKey,show:this.state.showCustomizedDialog,onHide:this._hideCustomizeDialog,thread:a,threadID:this.props.threadID}),b("React").createElement(b("FantaDropdownMenu.react"),{autoFocus:this.props.autoFocus,hasBlockedMessages:this.props.hasBlockedMessages,highlightNewMessage:this.props.highlightNewMessage,isFocused:this.props.isFocused,isGroupChat:this.props.isGroupChat,isNewMessageTab:this.props.isNewMessageTab,isPageChat:this.props.isPageChat,membershipParticipants:this.props.membershipParticipants,pageUser:this._getPageUserIfExists(),participants:this.props.participants,participantsMap:this.props.participantsMap,setShowCustomizedDialog:this.setShowCustomizedDialog,thread:a,threadID:this.props.threadID,uri:this.props.uri,viewer:this.props.viewer}))}});e.exports=c}),null);